<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=c" />
<title>
  Module: Puppet::Util::ClassGen
  
    &mdash; Documentation by YARD 0.8.4.1
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (C)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet</span></span> &raquo; <span class='title'><span class='object_link'>Util</span></span>
     &raquo; 
    <span class="title">ClassGen</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Module: Puppet::Util::ClassGen
  
  
  
</h1>

<dl class="box">
  
  
    
  
    
  
  
    <dt class="r1">Included in:</dt>
    <dd class="r1"><span class='object_link'><a href="../Reports.html" title="Puppet::Reports (class)">Reports</a></span>, <span class='object_link'><a href="../Type.html" title="Puppet::Type (class)">Type</a></span></dd>
    
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/puppet/util/classgen.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>This is a utility module for generating classes.</p>


  </div>
</div>
<div class="tags">
  

</div>
  <h2>Constant Summary</h2>
  







  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="private ">
  <span class="summary_signature">
    
      <a href="#genconst_string-instance_method" title="#genconst_string (instance method)">- (Object) <strong>genconst_string</strong>(name, options) </a>
    

    
  </span>
  
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Generates the constant to create or remove.</p>
</div></span>
  
</li>

      
        
<li class="private ">
  <span class="summary_signature">
    
      <a href="#genthing-instance_method" title="#genthing (instance method)">- (Object) <strong>genthing</strong>(name, type, options, block) </a>
    

    
  </span>
  
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>This does the actual work of creating our class or module.</p>
</div></span>
  
</li>

      
        
<li class="private ">
  <span class="summary_signature">
    
      <a href="#handleclassconst-instance_method" title="#handleclassconst (instance method)">- (Object) <strong>handleclassconst</strong>(klass, name, options) </a>
    

    
  </span>
  
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Handle the setting and/or removing of the associated constant.</p>
</div></span>
  
</li>

      
        
<li class="private ">
  <span class="summary_signature">
    
      <a href="#initclass-instance_method" title="#initclass (instance method)">- (Object) <strong>initclass</strong>(klass, options) </a>
    

    
  </span>
  
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Perform the initializations on the class.</p>
</div></span>
  
</li>

      
        
<li class="private ">
  <span class="summary_signature">
    
      <a href="#is_constant_defined%3F-instance_method" title="#is_constant_defined? (instance method)">- (Boolean) <strong>is_constant_defined?</strong>(const) </a>
    

    
  </span>
  
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>const_defined? in Ruby 1.9 behaves differently in terms
of which class hierarchy it polls for nested namespaces.</p>
</div></span>
  
</li>

      
        
<li class="private ">
  <span class="summary_signature">
    
      <a href="#name2const-instance_method" title="#name2const (instance method)">- (Object) <strong>name2const</strong>(name) </a>
    

    
  </span>
  
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Convert our name to a constant.</p>
</div></span>
  
</li>

      
        
<li class="private ">
  <span class="summary_signature">
    
      <a href="#storeclass-instance_method" title="#storeclass (instance method)">- (Object) <strong>storeclass</strong>(klass, klassname, options) </a>
    

    
  </span>
  
  
  
  
  <span class="note title private">private</span>
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Store the class in the appropriate places.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'>Puppet::Util</span></h3>
  <p class="inherited"><span class='object_link'><a href="../Util.html#exit_on_fail-class_method" title="Puppet::Util.exit_on_fail (method)">exit_on_fail</a></span>, <span class='object_link'><a href="../Util.html#exit_on_fail-instance_method" title="Puppet::Util#exit_on_fail (method)">#exit_on_fail</a></span>, <span class='object_link'><a href="../Util.html#which-class_method" title="Puppet::Util.which (method)">which</a></span>, <span class='object_link'><a href="../Util.html#which-instance_method" title="Puppet::Util#which (method)">#which</a></span></p>

  
  
  
  
  
  
  
  
  
  
  
  

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="genconst_string-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>genconst_string</strong>(name, options)  <span class="extras">(private)</span>&nbsp;<span class="note title private">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Generates the constant to create or remove.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


88
89
90
91
92
93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/util/classgen.rb', line 88</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_genconst_string identifier id'>genconst_string</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_const identifier id'>const</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:constant</span><span class='rbrack token'>]</span>
    <span class='rubyid_prefix identifier id'>prefix</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:prefix</span><span class='rbrack token'>]</span> <span class='orop op'>||</span> <span class='string val'>&quot;&quot;</span>
    <span class='rubyid_const identifier id'>const</span> <span class='assign token'>=</span> <span class='rubyid_prefix identifier id'>prefix</span> <span class='plus op'>+</span> <span class='rubyid_name2const identifier id'>name2const</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_const identifier id'>const</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="genthing-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>genthing</strong>(name, type, options, block)  <span class="extras">(private)</span>&nbsp;<span class="note title private">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>This does the actual work of creating our class or module.  It&#8217;s just a
slightly abstract version of genclass.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


100
101
102
103
104
105
106
107
108
109
110
111
112
113
114
115
116
117
118
119
120
121
122
123
124
125
126
127
128
129
130
131
132
133
134
135
136
137
138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/util/classgen.rb', line 100</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_genthing identifier id'>genthing</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_type identifier id'>type</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='comma token'>,</span> <span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_options identifier id'>options</span> <span class='assign token'>=</span> <span class='rubyid_symbolize_options identifier id'>symbolize_options</span><span class='lparen token'>(</span><span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='rubyid_name identifier id'>name</span> <span class='assign token'>=</span> <span class='rubyid_name identifier id'>name</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_downcase identifier id'>downcase</span><span class='dot token'>.</span><span class='rubyid_intern identifier id'>intern</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_type identifier id'>type</span> <span class='eq op'>==</span> <span class='rubyid_Module constant id'>Module</span>
    <span class='comment val'>#evalmethod = :module_eval</span>
    <span class='rubyid_evalmethod identifier id'>evalmethod</span> <span class='assign token'>=</span> <span class='symbol val'>:class_eval</span>
    <span class='comment val'># Create the class, with the correct name.</span>
    <span class='rubyid_klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='rubyid_Module constant id'>Module</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span> <span class='rubyid_do do kw'>do</span>
      <span class='rubyid_class class kw'>class</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_self self kw'>self</span>
        <span class='rubyid_attr_reader identifier id'>attr_reader</span> <span class='symbol val'>:name</span>
      <span class='rubyid_end end kw'>end</span>
      <span class='rubyid_@name ivar id'>@name</span> <span class='assign token'>=</span> <span class='rubyid_name identifier id'>name</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:parent</span><span class='rbrack token'>]</span> <span class='opasgn op'>||=</span> <span class='rubyid_self self kw'>self</span>
    <span class='rubyid_evalmethod identifier id'>evalmethod</span> <span class='assign token'>=</span> <span class='symbol val'>:class_eval</span>
    <span class='comment val'># Create the class, with the correct name.</span>
    <span class='rubyid_klass identifier id'>klass</span> <span class='assign token'>=</span> <span class='rubyid_Class constant id'>Class</span><span class='dot token'>.</span><span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:parent</span><span class='rbrack token'>]</span><span class='rparen token'>)</span> <span class='rubyid_do do kw'>do</span>
      <span class='rubyid_@name ivar id'>@name</span> <span class='assign token'>=</span> <span class='rubyid_name identifier id'>name</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># Create the constant as appropriation.</span>
  <span class='rubyid_handleclassconst identifier id'>handleclassconst</span><span class='lparen token'>(</span><span class='rubyid_klass identifier id'>klass</span><span class='comma token'>,</span> <span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='comment val'># Initialize any necessary variables.</span>
  <span class='rubyid_initclass identifier id'>initclass</span><span class='lparen token'>(</span><span class='rubyid_klass identifier id'>klass</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='rubyid_block identifier id'>block</span> <span class='opasgn op'>||=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:block</span><span class='rbrack token'>]</span>

  <span class='comment val'># Evaluate the passed block if there is one.  This should usually</span>
  <span class='comment val'># define all of the work.</span>
  <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_evalmethod identifier id'>evalmethod</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_block identifier id'>block</span>

  <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_postinit identifier id'>postinit</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span> <span class='symbol val'>:postinit</span>

  <span class='comment val'># Store the class in hashes or arrays or whatever.</span>
  <span class='rubyid_storeclass identifier id'>storeclass</span><span class='lparen token'>(</span><span class='rubyid_klass identifier id'>klass</span><span class='comma token'>,</span> <span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='rubyid_klass identifier id'>klass</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="handleclassconst-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>handleclassconst</strong>(klass, name, options)  <span class="extras">(private)</span>&nbsp;<span class="note title private">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Handle the setting and/or removing of the associated constant.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/util/classgen.rb', line 161</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_handleclassconst identifier id'>handleclassconst</span><span class='lparen token'>(</span><span class='rubyid_klass identifier id'>klass</span><span class='comma token'>,</span> <span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='rubyid_const identifier id'>const</span> <span class='assign token'>=</span> <span class='rubyid_genconst_string identifier id'>genconst_string</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_is_constant_defined? fid id'>is_constant_defined?</span><span class='lparen token'>(</span><span class='rubyid_const identifier id'>const</span><span class='rparen token'>)</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:overwrite</span><span class='rbrack token'>]</span>
      <span class='rubyid_Puppet constant id'>Puppet</span><span class='dot token'>.</span><span class='rubyid_info identifier id'>info</span> <span class='dstring node'>&quot;Redefining #{name} in #{self}&quot;</span>
      <span class='rubyid_remove_const identifier id'>remove_const</span><span class='lparen token'>(</span><span class='rubyid_const identifier id'>const</span><span class='rparen token'>)</span>
    <span class='rubyid_else else kw'>else</span>
      <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_ConstantAlreadyDefined constant id'>ConstantAlreadyDefined</span><span class='comma token'>,</span>
        <span class='dstring node'>&quot;Class #{const} is already defined in #{self}&quot;</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_const_set identifier id'>const_set</span><span class='lparen token'>(</span><span class='rubyid_const identifier id'>const</span><span class='comma token'>,</span> <span class='rubyid_klass identifier id'>klass</span><span class='rparen token'>)</span>

  <span class='rubyid_const identifier id'>const</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="initclass-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>initclass</strong>(klass, options)  <span class="extras">(private)</span>&nbsp;<span class="note title private">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Perform the initializations on the class.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/util/classgen.rb', line 181</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_initclass identifier id'>initclass</span><span class='lparen token'>(</span><span class='rubyid_klass identifier id'>klass</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_initvars identifier id'>initvars</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span> <span class='symbol val'>:initvars</span>

  <span class='rubyid_if if kw'>if</span> <span class='rubyid_attrs identifier id'>attrs</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:attributes</span><span class='rbrack token'>]</span>
    <span class='rubyid_attrs identifier id'>attrs</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_param identifier id'>param</span><span class='comma token'>,</span> <span class='rubyid_value identifier id'>value</span><span class='bitor op'>|</span>
      <span class='rubyid_method identifier id'>method</span> <span class='assign token'>=</span> <span class='rubyid_param identifier id'>param</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span> <span class='plus op'>+</span> <span class='string val'>&quot;=&quot;</span>
      <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_method identifier id'>method</span><span class='comma token'>,</span> <span class='rubyid_value identifier id'>value</span><span class='rparen token'>)</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span> <span class='rubyid_method identifier id'>method</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='lbrack token'>[</span><span class='symbol val'>:include</span><span class='comma token'>,</span> <span class='symbol val'>:extend</span><span class='rbrack token'>]</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_method identifier id'>method</span><span class='bitor op'>|</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_set identifier id'>set</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='rubyid_method identifier id'>method</span><span class='rbrack token'>]</span>
      <span class='rubyid_set identifier id'>set</span> <span class='assign token'>=</span> <span class='lbrack token'>[</span><span class='rubyid_set identifier id'>set</span><span class='rbrack token'>]</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_set identifier id'>set</span><span class='dot token'>.</span><span class='rubyid_is_a? fid id'>is_a?</span><span class='lparen token'>(</span><span class='rubyid_Array constant id'>Array</span><span class='rparen token'>)</span>
      <span class='rubyid_set identifier id'>set</span><span class='dot token'>.</span><span class='rubyid_each identifier id'>each</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_mod identifier id'>mod</span><span class='bitor op'>|</span>
        <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_send identifier id'>send</span><span class='lparen token'>(</span><span class='rubyid_method identifier id'>method</span><span class='comma token'>,</span> <span class='rubyid_mod identifier id'>mod</span><span class='rparen token'>)</span>
      <span class='rubyid_end end kw'>end</span>
    <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_preinit identifier id'>preinit</span> <span class='rubyid_if if_mod kw'>if</span> <span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span> <span class='symbol val'>:preinit</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="is_constant_defined?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>is_constant_defined?</strong>(const)  <span class="extras">(private)</span>&nbsp;<span class="note title private">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>const_defined? in Ruby 1.9 behaves differently in terms
of which class hierarchy it polls for nested namespaces</p>

<p>See http://redmine.ruby-lang.org/issues/show/1915</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


150
151
152
153
154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/util/classgen.rb', line 150</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_is_constant_defined? fid id'>is_constant_defined?</span><span class='lparen token'>(</span><span class='rubyid_const identifier id'>const</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='colon3 op'>::</span><span class='rubyid_RUBY_VERSION constant id'>RUBY_VERSION</span> <span class='match op'>=~</span> <span class='regexp val'>/^1.8/</span>
    <span class='rubyid_const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='rubyid_const identifier id'>const</span><span class='rparen token'>)</span>
  <span class='rubyid_else else kw'>else</span>
    <span class='rubyid_const_defined? fid id'>const_defined?</span><span class='lparen token'>(</span><span class='rubyid_const identifier id'>const</span><span class='comma token'>,</span> <span class='rubyid_false false kw'>false</span><span class='rparen token'>)</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="name2const-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>name2const</strong>(name)  <span class="extras">(private)</span>&nbsp;<span class="note title private">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Convert our name to a constant.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


205
206
207</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/util/classgen.rb', line 205</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_name2const identifier id'>name2const</span><span class='lparen token'>(</span><span class='rubyid_name identifier id'>name</span><span class='rparen token'>)</span>
  <span class='rubyid_name identifier id'>name</span><span class='dot token'>.</span><span class='rubyid_to_s identifier id'>to_s</span><span class='dot token'>.</span><span class='rubyid_capitalize identifier id'>capitalize</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="storeclass-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>storeclass</strong>(klass, klassname, options)  <span class="extras">(private)</span>&nbsp;<span class="note title private">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Store the class in the appropriate places.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/util/classgen.rb', line 211</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_storeclass identifier id'>storeclass</span><span class='lparen token'>(</span><span class='rubyid_klass identifier id'>klass</span><span class='comma token'>,</span> <span class='rubyid_klassname identifier id'>klassname</span><span class='comma token'>,</span> <span class='rubyid_options identifier id'>options</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_hash identifier id'>hash</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:hash</span><span class='rbrack token'>]</span>
    <span class='rubyid_if if kw'>if</span> <span class='rubyid_hash identifier id'>hash</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span> <span class='rubyid_klassname identifier id'>klassname</span> <span class='rubyid_and and kw'>and</span> <span class='notop op'>!</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:overwrite</span><span class='rbrack token'>]</span>
      <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_SubclassAlreadyDefined constant id'>SubclassAlreadyDefined</span><span class='comma token'>,</span>
        <span class='dstring node'>&quot;Already a generated class named #{klassname}&quot;</span>
    <span class='rubyid_end end kw'>end</span>

    <span class='rubyid_hash identifier id'>hash</span><span class='lbrack token'>[</span><span class='rubyid_klassname identifier id'>klassname</span><span class='rbrack token'>]</span> <span class='assign token'>=</span> <span class='rubyid_klass identifier id'>klass</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='comment val'># If we were told to stick it in a hash, then do so</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_array identifier id'>array</span> <span class='assign token'>=</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:array</span><span class='rbrack token'>]</span>
    <span class='rubyid_if if kw'>if</span> <span class='lparen token'>(</span><span class='rubyid_klass identifier id'>klass</span><span class='dot token'>.</span><span class='rubyid_respond_to? fid id'>respond_to?</span> <span class='colon op'>:</span><span class='rubyid_name identifier id'>name</span> <span class='rubyid_and and kw'>and</span>
            <span class='rubyid_array identifier id'>array</span><span class='dot token'>.</span><span class='rubyid_find identifier id'>find</span> <span class='lbrace token'>{</span> <span class='bitor op'>|</span><span class='rubyid_c identifier id'>c</span><span class='bitor op'>|</span> <span class='rubyid_c identifier id'>c</span><span class='dot token'>.</span><span class='rubyid_name identifier id'>name</span> <span class='eq op'>==</span> <span class='rubyid_klassname identifier id'>klassname</span> <span class='rbrace token'>}</span> <span class='rubyid_and and kw'>and</span>
            <span class='notop op'>!</span> <span class='rubyid_options identifier id'>options</span><span class='lbrack token'>[</span><span class='symbol val'>:overwrite</span><span class='rbrack token'>]</span><span class='rparen token'>)</span>
      <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_SubclassAlreadyDefined constant id'>SubclassAlreadyDefined</span><span class='comma token'>,</span>
        <span class='dstring node'>&quot;Already a generated class named #{klassname}&quot;</span>
    <span class='rubyid_end end kw'>end</span>

    <span class='rubyid_array identifier id'>array</span> <span class='lshft op'>&lt;&lt;</span> <span class='rubyid_klass identifier id'>klass</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Wed May 22 10:50:07 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.4.1 (ruby-1.8.7).
</div>

  </body>
</html>
