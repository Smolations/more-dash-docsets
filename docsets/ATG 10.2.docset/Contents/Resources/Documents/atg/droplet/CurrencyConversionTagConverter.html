<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Mon Apr 01 21:57:13 EDT 2013 -->
<TITLE>
CurrencyConversionTagConverter (ATG Java API)
</TITLE>

<META NAME="date" CONTENT="2013-04-01">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CurrencyConversionTagConverter (ATG Java API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../atg/droplet/CurrencyConversionFormatterBeanInfo.html" title="class in atg.droplet"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../atg/droplet/CurrencyFormatter.html" title="class in atg.droplet"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?atg/droplet/CurrencyConversionTagConverter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CurrencyConversionTagConverter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
atg.droplet</FONT>
<BR>
Class CurrencyConversionTagConverter</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><A HREF="../../atg/droplet/CurrencyTagConverter.html" title="class in atg.droplet">atg.droplet.CurrencyTagConverter</A>
      <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>atg.droplet.CurrencyConversionTagConverter</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../atg/droplet/TagConverter.html" title="interface in atg.droplet">TagConverter</A>, java.io.Serializable</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>CurrencyConversionTagConverter</B><DT>extends <A HREF="../../atg/droplet/CurrencyTagConverter.html" title="class in atg.droplet">CurrencyTagConverter</A></DL>
</PRE>

<P>
A tag converter which is used to parse, format currency amounts and to
 convert them between an default currency and a locale-specific currency.
 <P>
 This converter is a subclass of CurrencyTagConverter, and relies upon
 CurrencyTagConverter to do parsing and formatting.
 <P>
 The exchange rates are specified in a properties file that uses 2-letter
 country codes as the property names.  The corresponding value is the number
 in that country's local currency that corresponds to one unit of the default
 currency.
 <P>
 If the country of the user's locale (or of the locale specified as an attribute
 with this TagConverter) does not have a configured exchange rate, then this
 TagConverter returns null, which causes a &lt;VALUEOF&gt; tag to use its default
 value.
 <P>
 An example of the use of this converter is as follows:
 <blockquote>
 <code>&lt;valueof param="priceInfo.amount" currencyConversion&gt;no price&lt;/valueof&gt;</code>
 </blockquote>
 You can also specify a locale as follows:
 <blockquote>
 <code>&lt;valueof param="priceInfo.amount" currencyConversion locale="en_US"&gt;no price&lt;/valueof&gt;</code>
 </blockquote>
 As with CurrencyTagConverter, if no locale is specified then the converter first looks for a request parameter named <i>locale</i>.
 This parameter can either be a java.util.Locale object or a String which names a locale. If this
 cannot be found then we fetch the locale from the RequestLocale.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../serialized-form.html#atg.droplet.CurrencyConversionTagConverter">Serialized Form</A></DL>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#CLASS_VERSION">CLASS_VERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class version string</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#mExchangeRates">mExchangeRates</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#NAME">NAME</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#CurrencyConversionTagConverter()">CurrencyConversionTagConverter</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs an instance of CurrencyConversionTagConverter</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Number</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#convertCurrency(java.lang.Number, java.util.Locale, boolean)">convertCurrency</A></B>(java.lang.Number&nbsp;pOriginalValue,
                java.util.Locale&nbsp;pLocale,
                boolean&nbsp;toLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Convert an amount of money between the default currency and the
 currency of a specified locale
 <BR>
 Returns null if the locale does not have a configured exchange rate</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#convertObjectToString(atg.servlet.DynamoHttpServletRequest, java.lang.Object, java.util.Properties)">convertObjectToString</A></B>(<A HREF="../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                      java.lang.Object&nbsp;pValue,
                      java.util.Properties&nbsp;pAttributes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Converts the supplied Object value to a String value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#convertStringToObject(atg.servlet.DynamoHttpServletRequest, java.lang.String, java.util.Properties)">convertStringToObject</A></B>(<A HREF="../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                      java.lang.String&nbsp;pValue,
                      java.util.Properties&nbsp;pAttributes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Converts the supplied String value to an Object value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#getExchangeRates()">getExchangeRates</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property exchangeRates, and, as a side-effect,
 initializes it if it has not already been initialized.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#getLookupKey(java.util.Locale)">getLookupKey</A></B>(java.util.Locale&nbsp;pLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Obtain the string to use as a look-up key to determine the exchange rate.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#getName()">getName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the unique name for the TagConverter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../atg/droplet/TagAttributeDescriptor.html" title="class in atg.droplet">TagAttributeDescriptor</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#getTagAttributeDescriptors()">getTagAttributeDescriptors</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the list of TagAttributeDescriptors which are used by this converter.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#initializeConversionMap()">initializeConversionMap</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs a Map of locale names to currency exchange rates, based
 on the entries in a ResourceBundle</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#initializeIfNecessary()">initializeIfNecessary</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do the initialization in <i>initializeConversionMap</i> on a
 just-in-time basis.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#replaceEURO(java.lang.String, java.lang.String)">replaceEURO</A></B>(java.lang.String&nbsp;pCurrency,
            java.lang.String&nbsp;pReplacement)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a string with the Euro character replaced with the supplied string.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../atg/droplet/CurrencyConversionTagConverter.html#setExchangeRates(java.util.Map)">setExchangeRates</A></B>(java.util.Map&nbsp;pExchangeRates)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property exchangeRates</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.droplet.CurrencyTagConverter"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class atg.droplet.<A HREF="../../atg/droplet/CurrencyTagConverter.html" title="class in atg.droplet">CurrencyTagConverter</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html#formatCurrency(java.lang.Object, java.util.Locale)">formatCurrency</A>, <A HREF="../../atg/droplet/CurrencyTagConverter.html#getCurrencyFormat(java.util.Locale)">getCurrencyFormat</A>, <A HREF="../../atg/droplet/CurrencyTagConverter.html#getDefaultLocale()">getDefaultLocale</A>, <A HREF="../../atg/droplet/CurrencyTagConverter.html#getNumberFormat(java.util.Locale)">getNumberFormat</A>, <A HREF="../../atg/droplet/CurrencyTagConverter.html#isUseRequestLocale()">isUseRequestLocale</A>, <A HREF="../../atg/droplet/CurrencyTagConverter.html#setDefaultLocale(java.util.Locale)">setDefaultLocale</A>, <A HREF="../../atg/droplet/CurrencyTagConverter.html#setUseRequestLocale(boolean)">setUseRequestLocale</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CLASS_VERSION"><!-- --></A><H3>
CLASS_VERSION</H3>
<PRE>
public static java.lang.String <B>CLASS_VERSION</B></PRE>
<DL>
<DD>Class version string
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="NAME"><!-- --></A><H3>
NAME</H3>
<PRE>
public static final java.lang.String <B>NAME</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../constant-values.html#atg.droplet.CurrencyConversionTagConverter.NAME">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="mExchangeRates"><!-- --></A><H3>
mExchangeRates</H3>
<PRE>
protected java.util.Map <B>mExchangeRates</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CurrencyConversionTagConverter()"><!-- --></A><H3>
CurrencyConversionTagConverter</H3>
<PRE>
public <B>CurrencyConversionTagConverter</B>()</PRE>
<DL>
<DD>Constructs an instance of CurrencyConversionTagConverter
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="setExchangeRates(java.util.Map)"><!-- --></A><H3>
setExchangeRates</H3>
<PRE>
public void <B>setExchangeRates</B>(java.util.Map&nbsp;pExchangeRates)</PRE>
<DL>
<DD>Sets property exchangeRates
 <P>
 The value of this property is a Map that
 has an entry for each supported currency conversion.
 The name for each entry is a 2-letter country code.  The value for
 each entry is a double that indicates
 how many of the locale-specific currency are equivalent
 to one (1) unit of the default currency.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getExchangeRates()"><!-- --></A><H3>
getExchangeRates</H3>
<PRE>
public java.util.Map <B>getExchangeRates</B>()</PRE>
<DL>
<DD>Returns property exchangeRates, and, as a side-effect,
 initializes it if it has not already been initialized.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><CODE>initializeIfNecessary</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getName()"><!-- --></A><H3>
getName</H3>
<PRE>
public java.lang.String <B>getName</B>()</PRE>
<DL>
<DD>Returns the unique name for the TagConverter.  This name can be used by
 the TagConverterManager to get a handle to this converter.  When you
 specify the use of a TagConverter using the converter attribute in
 a tag, you use this name to refer to the TagConverter.  TagConverter
 names are case insensitive (as is the convention in HTML).
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../atg/droplet/TagConverter.html#getName()">getName</A></CODE> in interface <CODE><A HREF="../../atg/droplet/TagConverter.html" title="interface in atg.droplet">TagConverter</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html#getName()">getName</A></CODE> in class <CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html" title="class in atg.droplet">CurrencyTagConverter</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTagAttributeDescriptors()"><!-- --></A><H3>
getTagAttributeDescriptors</H3>
<PRE>
public <A HREF="../../atg/droplet/TagAttributeDescriptor.html" title="class in atg.droplet">TagAttributeDescriptor</A>[] <B>getTagAttributeDescriptors</B>()</PRE>
<DL>
<DD>Returns the list of TagAttributeDescriptors which are used by this converter.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../atg/droplet/TagConverter.html#getTagAttributeDescriptors()">getTagAttributeDescriptors</A></CODE> in interface <CODE><A HREF="../../atg/droplet/TagConverter.html" title="interface in atg.droplet">TagConverter</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html#getTagAttributeDescriptors()">getTagAttributeDescriptors</A></CODE> in class <CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html" title="class in atg.droplet">CurrencyTagConverter</A></CODE></DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="convertStringToObject(atg.servlet.DynamoHttpServletRequest, java.lang.String, java.util.Properties)"><!-- --></A><H3>
convertStringToObject</H3>
<PRE>
public java.lang.Object <B>convertStringToObject</B>(<A HREF="../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                              java.lang.String&nbsp;pValue,
                                              java.util.Properties&nbsp;pAttributes)
                                       throws <A HREF="../../atg/droplet/TagConversionException.html" title="class in atg.droplet">TagConversionException</A></PRE>
<DL>
<DD>Converts the supplied String value to an Object value.  This operation
 is performed if a converter is used with an input tag during the
 form submission process or if a converter attributes are specified
 in the param tag when defining a new parameter.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../atg/droplet/TagConverter.html#convertStringToObject(atg.servlet.DynamoHttpServletRequest, java.lang.String, java.util.Properties)">convertStringToObject</A></CODE> in interface <CODE><A HREF="../../atg/droplet/TagConverter.html" title="interface in atg.droplet">TagConverter</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html#convertStringToObject(atg.servlet.DynamoHttpServletRequest, java.lang.String, java.util.Properties)">convertStringToObject</A></CODE> in class <CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html" title="class in atg.droplet">CurrencyTagConverter</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRequest</CODE> - the request object for this conversion.  This object
 can be null if the conversion is not performed in the context of
 a request.<DD><CODE>pAttributes</CODE> - The list of attributes in the tag that is invoking
 this converter.<DD><CODE>pValue</CODE> - The original String value to be converted.
<DT><B>Returns:</B><DD>the converted object value.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../atg/droplet/TagConversionException.html" title="class in atg.droplet">TagConversionException</A></CODE> - if the conversion failed.</DL>
</DD>
</DL>
<HR>

<A NAME="convertObjectToString(atg.servlet.DynamoHttpServletRequest, java.lang.Object, java.util.Properties)"><!-- --></A><H3>
convertObjectToString</H3>
<PRE>
public java.lang.String <B>convertObjectToString</B>(<A HREF="../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                              java.lang.Object&nbsp;pValue,
                                              java.util.Properties&nbsp;pAttributes)
                                       throws <A HREF="../../atg/droplet/TagConversionException.html" title="class in atg.droplet">TagConversionException</A></PRE>
<DL>
<DD>Converts the supplied Object value to a String value.  This operation
 is performed when you are displaying a value using this converter.
 This occurs when the converter is used in the valueof tag or
 when rendering the value attribute of an input tag.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../atg/droplet/TagConverter.html#convertObjectToString(atg.servlet.DynamoHttpServletRequest, java.lang.Object, java.util.Properties)">convertObjectToString</A></CODE> in interface <CODE><A HREF="../../atg/droplet/TagConverter.html" title="interface in atg.droplet">TagConverter</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html#convertObjectToString(atg.servlet.DynamoHttpServletRequest, java.lang.Object, java.util.Properties)">convertObjectToString</A></CODE> in class <CODE><A HREF="../../atg/droplet/CurrencyTagConverter.html" title="class in atg.droplet">CurrencyTagConverter</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRequest</CODE> - the request this conversion applies to.  You can use
 this request to obtain the RequestLocale to localize the conversion
 process.  This can be null if the conversion is not performed in
 the context of a request.<DD><CODE>pValue</CODE> - the Object value to be converted to a String<DD><CODE>pAttributes</CODE> - the set of attributes supplied in this tag
 declaration.
<DT><B>Returns:</B><DD>the converted object value.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../atg/droplet/TagConversionException.html" title="class in atg.droplet">TagConversionException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initializeIfNecessary()"><!-- --></A><H3>
initializeIfNecessary</H3>
<PRE>
protected void <B>initializeIfNecessary</B>()</PRE>
<DL>
<DD>Do the initialization in <i>initializeConversionMap</i> on a
 just-in-time basis.  Formerly this was done in the constructor,
 causing a deferrable start-up cost for this class.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><CODE>initializeConversionMap</CODE>, 
<CODE>getExchangeRates</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initializeConversionMap()"><!-- --></A><H3>
initializeConversionMap</H3>
<PRE>
public void <B>initializeConversionMap</B>()</PRE>
<DL>
<DD>Constructs a Map of locale names to currency exchange rates, based
 on the entries in a ResourceBundle
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="convertCurrency(java.lang.Number, java.util.Locale, boolean)"><!-- --></A><H3>
convertCurrency</H3>
<PRE>
public java.lang.Number <B>convertCurrency</B>(java.lang.Number&nbsp;pOriginalValue,
                                        java.util.Locale&nbsp;pLocale,
                                        boolean&nbsp;toLocale)</PRE>
<DL>
<DD>Convert an amount of money between the default currency and the
 currency of a specified locale
 <BR>
 Returns null if the locale does not have a configured exchange rate
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOriginalValue</CODE> - the amount of money to convert<DD><CODE>pLocale</CODE> - the locale indicating the currency from/to which to convert<DD><CODE>toLocale</CODE> - true to convert from default to locale-specific currency,
 false to convert from locale-specific currency to default currency</DL>
</DD>
</DL>
<HR>

<A NAME="getLookupKey(java.util.Locale)"><!-- --></A><H3>
getLookupKey</H3>
<PRE>
public java.lang.String <B>getLookupKey</B>(java.util.Locale&nbsp;pLocale)</PRE>
<DL>
<DD>Obtain the string to use as a look-up key to determine the exchange rate.
 The implementation here uses the locale's country name.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pLocale</CODE> - the user's locale</DL>
</DD>
</DL>
<HR>

<A NAME="replaceEURO(java.lang.String, java.lang.String)"><!-- --></A><H3>
replaceEURO</H3>
<PRE>
protected static java.lang.String <B>replaceEURO</B>(java.lang.String&nbsp;pCurrency,
                                              java.lang.String&nbsp;pReplacement)</PRE>
<DL>
<DD>Returns a string with the Euro character replaced with the supplied string.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../atg/droplet/CurrencyConversionFormatterBeanInfo.html" title="class in atg.droplet"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../atg/droplet/CurrencyFormatter.html" title="class in atg.droplet"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?atg/droplet/CurrencyConversionTagConverter.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CurrencyConversionTagConverter.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
