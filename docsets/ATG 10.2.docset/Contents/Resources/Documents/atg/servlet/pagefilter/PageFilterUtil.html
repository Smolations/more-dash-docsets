<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Mon Apr 01 21:57:14 EDT 2013 -->
<TITLE>
PageFilterUtil (ATG Java API)
</TITLE>

<META NAME="date" CONTENT="2013-04-01">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PageFilterUtil (ATG Java API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?atg/servlet/pagefilter/PageFilterUtil.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PageFilterUtil.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
atg.servlet.pagefilter</FONT>
<BR>
Class PageFilterUtil</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>atg.servlet.pagefilter.PageFilterUtil</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>PageFilterUtil</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/servlet/pagefilter/PageFilterUtil.html#CLASS_VERSION">CLASS_VERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class version string</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/servlet/pagefilter/PageFilterUtil.html#encodeHTMLFile(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, java.lang.String, java.lang.String, boolean)">encodeHTMLFile</A></B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
               <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
               java.lang.String&nbsp;pFilename,
               java.lang.String&nbsp;pSrcEncoding,
               boolean&nbsp;pCacheData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes the file name specified, parses it and encodes all URLs it found
 using the request.encodeURL method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/servlet/pagefilter/PageFilterUtil.html#writeFile(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, java.lang.String, java.lang.String, boolean)">writeFile</A></B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
          <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
          java.lang.String&nbsp;pFilename,
          java.lang.String&nbsp;pSrcEncoding,
          boolean&nbsp;pCacheData)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will write a file to the response supplied.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/servlet/pagefilter/PageFilterUtil.html#writeHTMLFile(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, java.lang.String, java.lang.String, boolean, boolean)">writeHTMLFile</A></B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
              <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
              java.lang.String&nbsp;pFilename,
              java.lang.String&nbsp;pSrcEncoding,
              boolean&nbsp;pCacheData,
              boolean&nbsp;pSetContentType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Takes the name of an HTML file and writes its content to the response
 supplied.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CLASS_VERSION"><!-- --></A><H3>
CLASS_VERSION</H3>
<PRE>
public static java.lang.String <B>CLASS_VERSION</B></PRE>
<DL>
<DD>Class version string
<P>
<DL>
</DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="writeHTMLFile(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, java.lang.String, java.lang.String, boolean, boolean)"><!-- --></A><H3>
writeHTMLFile</H3>
<PRE>
public static void <B>writeHTMLFile</B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                 <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
                                 java.lang.String&nbsp;pFilename,
                                 java.lang.String&nbsp;pSrcEncoding,
                                 boolean&nbsp;pCacheData,
                                 boolean&nbsp;pSetContentType)
                          throws java.io.IOException</PRE>
<DL>
<DD>Takes the name of an HTML file and writes its content to the response
 supplied.  If there is any reason we need to encode URLs for this response
 (i.e. there is a base directory, url rewriting is on or exit tracking is
 on), we will parse the HTML file and encode any URLs inside using the
 request.encodeURL method.  If there is no reason to be encoding URLs, the
 output is just written to the browser as fast as possible.  If the
 pCacheData parameter is passed with true, caching is used for both the 
 input file data and an offset table is generated which represents this
 input file.  This offset table is used then to locate URLs in the parsed
 file.
 <p>
 If URLs are encoded, and the response has not already been committed, 
 the dynamic headers are set to indicate that this page should not be 
 cached.  If you are calling this on a response whose headers have already
 been commited, you must be sure to call
 ServletUtil.setDynamicContentHeaders yourself before the response is
 committed so that the headers can prevent proxy servers from caching this
 response.
 <p>
 If the response has not been committed and the pSetContentType parameter
 is true, the content type is also set to: 
 "text/html; charset=the encoding you supply.  You should only set this to
 true, if no output has been written to the response yet.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRequest</CODE> - the request<DD><CODE>pResponse</CODE> - the response<DD><CODE>pFilename</CODE> - the filename of the file to send.  This may be used as a
  key to a hashtable, so it is good to ensure that some consistent form of
  the pathname is used.<DD><CODE>pSrcEncoding</CODE> - the name of the encoding of the file to be written.
  If null it passed, the default encoding in the response is used
  (generally ISO-8859-1).<DD><CODE>pCacheData</CODE> - if true, the parsing of the HTML file is cached using
  an offset table to make subsequent requests which need to encode URLs in
  the same HTML file faster.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if either the response output has been closed (i.e.
  the browser's stop button was pressed), or if the input file could not
  be read.  To differentiate between these two cases, you will have to try
  and open the file yourself after catching the IOException.</DL>
</DD>
</DL>
<HR>

<A NAME="encodeHTMLFile(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
encodeHTMLFile</H3>
<PRE>
public static void <B>encodeHTMLFile</B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                  <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
                                  java.lang.String&nbsp;pFilename,
                                  java.lang.String&nbsp;pSrcEncoding,
                                  boolean&nbsp;pCacheData)
                           throws java.io.IOException</PRE>
<DL>
<DD>Takes the file name specified, parses it and encodes all URLs it found
 using the request.encodeURL method.  The results are send to the response
 object given.  Use writeHTMLFile to avoid parsing the HTML file in the
 event that encoding of URLs is not needed.  This method will always call
 request.encodeURL for URLs found in the HTML file specified.
 If you want more efficient automatic operation, use the writeHTMLFile
 method.  Use this method if you want to always encode the URLs, and/or
 want to set the response headers differently from what was done in
 writeHTMLFile.  Make sure to set the response's content type before calling this
 method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRequest</CODE> - the request<DD><CODE>pResponse</CODE> - the response<DD><CODE>pFilename</CODE> - the filename of the file to send.  This may be used as a
  key to a hashtable, so it is good to ensure that some consistent form of
  the pathname is used.<DD><CODE>pSrcEncoding</CODE> - the name of the encoding of the file to be written.
  If null it passed, the default encoding in the response is used
  (generally ISO-8859-1).<DD><CODE>pCacheData</CODE> - if true, the parsing of the HTML file is cached using
  an offset table to make subsequent requests which need to encode URLs in
  the same HTML file faster.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if either the response output has been closed (i.e.
  the browser's stop button was pressed), or if the input file could not
  be read.  To differentiate between these two cases, you will have to try
  and open the file yourself after catching the IOException.</DL>
</DD>
</DL>
<HR>

<A NAME="writeFile(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
writeFile</H3>
<PRE>
public static void <B>writeFile</B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                             <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
                             java.lang.String&nbsp;pFilename,
                             java.lang.String&nbsp;pSrcEncoding,
                             boolean&nbsp;pCacheData)
                      throws java.io.IOException</PRE>
<DL>
<DD>This method will write a file to the response supplied.  It does not do
 any encoding of URLs in the supplied content.  If an encoding is supplied, it
 will parse the file as characters and write them through the PrintWriter.
 If null is passed for the encoding parameter, the file is assumed to be
 in the encoding of the current response, if there is one.  Make sure you
 call response.setContentType before calling this method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRequest</CODE> - the request<DD><CODE>pResponse</CODE> - the response<DD><CODE>pFilename</CODE> - the filename of the file to send.  This may be used as a
  key to a hashtable, so it is good to ensure that some consistent form of
  the pathname is used.<DD><CODE>pSrcEncoding</CODE> - the name of the encoding of the file to be written.
  If null it passed, the default encoding in the response is used
  (generally ISO-8859-1).<DD><CODE>pCacheData</CODE> - if true, the parsing of the HTML file is cached using
  an offset table to make subsequent requests which need to encode URLs in
  the same HTML file faster.
<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE> - if either the response output has been closed (i.e.
  the browser's stop button was pressed), or if the input file could not
  be read.  To differentiate between these two cases, you will have to try
  and open the file yourself after catching the IOException.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;PREV CLASS&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?atg/servlet/pagefilter/PageFilterUtil.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PageFilterUtil.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;CONSTR&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
