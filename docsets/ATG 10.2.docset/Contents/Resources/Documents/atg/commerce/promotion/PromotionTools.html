<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Mon Apr 01 21:57:07 EDT 2013 -->
<TITLE>
PromotionTools (ATG Java API)
</TITLE>

<META NAME="date" CONTENT="2013-04-01">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PromotionTools (ATG Java API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/promotion/PromotionServlet.html" title="class in atg.commerce.promotion"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../atg/commerce/promotion/PromotionUpsellProductTargeter.html" title="class in atg.commerce.promotion"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?atg/commerce/promotion/PromotionTools.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PromotionTools.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
atg.commerce.promotion</FONT>
<BR>
Class PromotionTools</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html" title="class in atg.nucleus.logging">atg.nucleus.logging.VariableArgumentApplicationLoggingImpl</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">atg.nucleus.GenericService</A>
          <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>atg.commerce.promotion.PromotionTools</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>atg.naming.AbsoluteNameable, <A HREF="../../../atg/naming/NameContextBindingListener.html" title="interface in atg.naming">NameContextBindingListener</A>, <A HREF="../../../atg/naming/NameContextElement.html" title="interface in atg.naming">NameContextElement</A>, atg.naming.NameContextParentable, <A HREF="../../../atg/naming/NameResolver.html" title="interface in atg.naming">NameResolver</A>, <A HREF="../../../atg/nucleus/AdminableService.html" title="interface in atg.nucleus">AdminableService</A>, atg.nucleus.Configured, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A>, atg.nucleus.logging.ApplicationLoggingSender, atg.nucleus.logging.TraceApplicationLogging, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLogging.html" title="interface in atg.nucleus.logging">VariableArgumentApplicationLogging</A>, <A HREF="../../../atg/nucleus/naming/ComponentNameResolver.html" title="interface in atg.nucleus.naming">ComponentNameResolver</A>, <A HREF="../../../atg/nucleus/Service.html" title="interface in atg.nucleus">Service</A>, <A HREF="../../../atg/nucleus/ServiceListener.html" title="interface in atg.nucleus">ServiceListener</A>, java.util.EventListener</DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>PromotionTools</B><DT>extends <A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></DL>
</PRE>

<P>
Utility service with methods to help process promotions.
<P>

<P>
<HR>

<P>
<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#CLASS_VERSION">CLASS_VERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class version string</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#COPIED_DURING_LOGIN">COPIED_DURING_LOGIN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#EXTRA_PARAM_QUALIFIERSERVICE">EXTRA_PARAM_QUALIFIERSERVICE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Key into extra parameters map to an optional Qualifier service reference</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#mQualifierService">mQualifierService</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map&lt;java.lang.String,<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#mQualifierServices">mQualifierServices</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cache of qualifier service path names to service instances</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/nucleus/naming/ComponentName.html" title="class in atg.nucleus.naming">ComponentName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#mUserPricingModelHolderPath">mUserPricingModelHolderPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#REVOKED_DURING_LOGIN">REVOKED_DURING_LOGIN</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class atg.nucleus.<A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/GenericService.html#SERVICE_INFO_KEY">SERVICE_INFO_KEY</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.logging.TraceApplicationLogging"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface atg.nucleus.logging.TraceApplicationLogging</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>DEFAULT_LOG_TRACE_STATUS</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.logging.ApplicationLogging"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface atg.nucleus.logging.<A HREF="../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_DEBUG_STATUS">DEFAULT_LOG_DEBUG_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_ERROR_STATUS">DEFAULT_LOG_ERROR_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_INFO_STATUS">DEFAULT_LOG_INFO_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_WARNING_STATUS">DEFAULT_LOG_WARNING_STATUS</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#PromotionTools()">PromotionTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#addAllPromotions(atg.repository.MutableRepositoryItem, java.util.Collection)">addAllPromotions</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                 java.util.Collection&nbsp;pPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds all of the promotions in the collection to the user's activePromotion
 attribute value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#addAllPromotions(atg.repository.MutableRepositoryItem, java.util.Collection, java.lang.String)">addAllPromotions</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                 java.util.Collection&nbsp;pPromotions,
                 java.lang.String&nbsp;pComment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds all of the promotions in the collection to the user's activePromotion
 attribute value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#addCouponToExistingPromoStatus(java.util.Collection, atg.repository.RepositoryItem, atg.repository.RepositoryItem)">addCouponToExistingPromoStatus</A></B>(java.util.Collection&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPromotionStatuses,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds a coupon to an existing promostatus if it is not already
 in the list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#addPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem)">addPromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the promotion to the user's activePromotion attribute value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#addPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String)">addPromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
             java.lang.String&nbsp;pComment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the promotion to the user's activePromotion attribute value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#addPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String)">addPromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
             java.lang.String&nbsp;pComment,
             java.lang.String&nbsp;pSiteId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the promotion to the user's activePromotion attribute value.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#calculatePromotionsForOrder(atg.commerce.order.Order)">calculatePromotionsForOrder</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will return a map containing the count of promotions contained
 in the given order, and the total value of those promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#checkPromotionExpiration(atg.repository.RepositoryItem, java.util.Date)">checkPromotionExpiration</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                         java.util.Date&nbsp;pNow)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return true if the promotion or the promotionStatus has expired and should
 not be used in pricing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#checkPromotionGrant(atg.repository.RepositoryItem, atg.repository.RepositoryItem)">checkPromotionGrant</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will throw appropriate exception or return true if it's OK to grant the
 promotion to the passed in profile</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#checkPromotionGrant(atg.repository.RepositoryItem, atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String[])">checkPromotionGrant</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon,
                    java.lang.String[]&nbsp;pCheckProps)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will throw appropriate exception or return true if it's OK to grant the
 promotion to the passed in profile</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#checkPromotionGrant(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String[])">checkPromotionGrant</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                    java.lang.String[]&nbsp;pCheckProps)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Will throw appropriate exception or return true if it's OK to grant the
 promotion to the passed in profile</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#consumePromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem)">consumePromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                 <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method moves a promotion from the user's activePromotions list to
 their usedPromotions list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#convertPromoStatusToPromo(java.util.Collection)">convertPromoStatusToPromo</A></B>(java.util.Collection&nbsp;pPromoStatuses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns a collection of propmotions from the passed in
 collection of promotion statuses.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#convertSinglePromoStatusToPromo(atg.repository.RepositoryItem)">convertSinglePromoStatusToPromo</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromoStatus)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method returns the single promotion from a promotion status</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#createPromotionCountMap(atg.commerce.order.Order)">createPromotionCountMap</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a Map of promotion id to the use count in the order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#createPromotionStatus(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.Integer)">createPromotionStatus</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                      java.lang.Integer&nbsp;pNumUses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method calls createTransientPromotionStatus to create and return a
 PromotionStatus repository item.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#createPromotionStatus(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.Integer, atg.repository.RepositoryItem)">createPromotionStatus</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                      java.lang.Integer&nbsp;pNumUses,
                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method calls createTransientPromotionStatus to create and return a
 PromotionStatus repository item.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#createPromotionValueMap(atg.commerce.order.Order, boolean, boolean, boolean, boolean)">createPromotionValueMap</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                        boolean&nbsp;pIncludeOrderPromos,
                        boolean&nbsp;pIncludeItemPromos,
                        boolean&nbsp;pIncludeShippingPromos,
                        boolean&nbsp;pIncludeTaxPromos)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a map of promotion id to adjustment value for each promotion
 applied to the given order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#createTransientPromotionStatus(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.Integer)">createTransientPromotionStatus</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               java.lang.Integer&nbsp;pNumUses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method creates a PromotionStatus repository item and returns it
 without saving it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#createTransientPromotionStatus(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.Integer, atg.repository.RepositoryItem)">createTransientPromotionStatus</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               java.lang.Integer&nbsp;pNumUses,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method creates a PromotionStatus repository item and returns it
 without saving it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#expirePromotion(atg.repository.RepositoryItem, atg.repository.RepositoryItem)">expirePromotion</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will remove the passed in promotion from the Profile.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getActivePromotionsProperty()">getActivePromotionsProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property of the profile to which we add new promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getAddItemEventPipeline()">getAddItemEventPipeline</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the pipeline used to send the ScenarioAddedItemToOrder event
 Defaults to PipelineConstants.SENDSCENARIOEVENT</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getAllowMultipleProperty()">getAllowMultipleProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property name of the 'allowMultiple' property in the promotion</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getAlternateUserPricingModelHolderPaths()">getAlternateUserPricingModelHolderPaths</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property AlternateUserPricingModelHolderPaths</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getBaseClosenessQualifierItemType()">getBaseClosenessQualifierItemType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property BaseClosenessQualifierItemType</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getBasePromotionItemType()">getBasePromotionItemType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property BasePromotionItemType</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/service/util/CurrentDate.html" title="class in atg.service.util">CurrentDate</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getCurrentDate()">getCurrentDate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the current date component used to get the current date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/xml/GetService.html" title="class in atg.repository.xml">GetService</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getGetService()">getGetService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The tool used to convert promotions to xml in
 <code>getPromotionsAsXML</code></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getGiveToAnonymousProfilesProperty()">getGiveToAnonymousProfilesProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property name of the 'giveToAnonymousProfiles' property in the promotion</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection)">getItemPromotions</A></B>(<A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                  java.util.Collection&nbsp;pPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotions used in the CommerceItem.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection, boolean)">getItemPromotions</A></B>(<A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                  java.util.Collection&nbsp;pPromotions,
                  boolean&nbsp;pGetAdjustments)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>as of 10.2; use <A HREF="../../../atg/commerce/promotion/PromotionTools.html#getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection, java.util.Collection, boolean)"><CODE>getItemPromotions(CommerceItem, Collection, Collection, boolean)</CODE></A> instead</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection, java.util.Collection, boolean)">getItemPromotions</A></B>(<A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                  java.util.Collection&nbsp;pPromotions,
                  java.util.Collection&nbsp;pPromotionInstancesAdded,
                  boolean&nbsp;pGetAdjustments)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotions used in the CommerceItem.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getMappingFileName()">getMappingFileName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The name of the mapping file that describes the XML format for
 <code>getPromotionsAsXML</code></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getOrderPromotions(atg.commerce.order.Order, java.util.Collection)">getOrderPromotions</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                   java.util.Collection&nbsp;pPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotions used in the order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getOrderPromotions(atg.commerce.order.Order, java.util.Collection, boolean)">getOrderPromotions</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                   java.util.Collection&nbsp;pPromotions,
                   boolean&nbsp;pGetAdjustments)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotions used in the order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getOrderPromotions(atg.commerce.order.Order, java.util.Collection, java.util.Collection, java.util.Collection, java.util.Collection)">getOrderPromotions</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                   java.util.Collection&nbsp;pOrderPromotions,
                   java.util.Collection&nbsp;pTaxPromotions,
                   java.util.Collection&nbsp;pItemPromotions,
                   java.util.Collection&nbsp;pShippingPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method retrieves all the promotions in an order and adds them to their
 respective collection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getOrderPromotions(atg.commerce.order.Order, java.util.Collection, java.util.Collection, java.util.Collection, java.util.Collection, boolean)">getOrderPromotions</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                   java.util.Collection&nbsp;pOrderPromotions,
                   java.util.Collection&nbsp;pTaxPromotions,
                   java.util.Collection&nbsp;pItemPromotions,
                   java.util.Collection&nbsp;pShippingPromotions,
                   boolean&nbsp;pGetAdjustments)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method retrieves all the promotions in an order and adds them to their
 respective collection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/service/pipeline/PipelineManager.html" title="class in atg.service.pipeline">PipelineManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPipelineManager()">getPipelineManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The PipelineManager is used to run the pipeline process that sends scenario
 events</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPMDLVersion(atg.repository.RepositoryItem)">getPMDLVersion</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility method to get the pmdl version for a given promotion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/PricingModelProperties.html" title="class in atg.commerce.pricing">PricingModelProperties</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPricingModelProperties()">getPricingModelProperties</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a bean that contains properties for a PricingModel</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPricingTools()">getPricingTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the PricingTools component</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getProfile(java.lang.String)">getProfile</A></B>(java.lang.String&nbsp;pProfileId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the profile repository item with the given id</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getProfileItemType()">getProfileItemType</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/MutableRepository.html" title="interface in atg.repository">MutableRepository</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getProfileRepository()">getProfileRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the editable profile repository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromoStatusCouponsPropertyName()">getPromoStatusCouponsPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the descriptor name for the Coupons property</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromoStatusDescriptorName()">getPromoStatusDescriptorName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the descriptor name for the promoStatus descriptor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromoStatuses(atg.repository.RepositoryItem, java.lang.String[])">getPromoStatuses</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                 java.lang.String[]&nbsp;pCheckProps)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get all of the promoStatuses for the profile</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromoStatusNumUsesProperty()">getPromoStatusNumUsesProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promoStatus num_uses property name</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromoStatusProfileIdProperty()">getPromoStatusProfileIdProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promoStatus profile id property name</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromoStatusPromoProperty()">getPromoStatusPromoProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promoStatus promo property name</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromotionCount(atg.commerce.order.Order, atg.repository.RepositoryItem)">getPromotionCount</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                  <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the number of times a promotion appears in the order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromotionFromComposite(atg.repository.RepositoryItem)">getPromotionFromComposite</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;For composite promotion items we need to get the item from the promotions
 repository <br>
 since for example the promotion may have come from the profile repository
 which <br>
 could be composite.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/messaging/MessageSender.html" title="class in atg.commerce.messaging">MessageSender</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromotionGrantedMessageSender()">getPromotionGrantedMessageSender</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets property MessageSender.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/messaging/MessageSender.html" title="class in atg.commerce.messaging">MessageSender</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromotionRevokedMessageSender()">getPromotionRevokedMessageSender</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets property PromotionRevokedMessageSender.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/Repository.html" title="interface in atg.repository">Repository</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromotions()">getPromotions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property Promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromotions(java.lang.String)">getPromotions</A></B>(java.lang.String&nbsp;pProfileId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will look up the given profile and return all of the available
 promotions for that user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getPromotionsAsXML(java.lang.String)">getPromotionsAsXML</A></B>(java.lang.String&nbsp;pProfileId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will look up the given profile, and for each available
 promotion, will return an xml representation of it using the GetService and
 the <code>mappingFileName</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getQualifierService()">getQualifierService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the default Qualifier service to use.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getQualifierService(atg.repository.RepositoryItem, java.util.Map, atg.commerce.pricing.Qualifier)">getQualifierService</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                    java.util.Map&nbsp;pExtraParameters,
                    <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A>&nbsp;pDefaultQualifier)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the Qualifier service to use for the given promotion item.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection)">getShippingPromotions</A></B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pGroup,
                      java.util.Collection&nbsp;pPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotions used in the ShippingGroup.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection, boolean)">getShippingPromotions</A></B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pGroup,
                      java.util.Collection&nbsp;pPromotions,
                      boolean&nbsp;pGetAdjustments)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>as of 10.2; use <A HREF="../../../atg/commerce/promotion/PromotionTools.html#getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection, java.util.Collection, boolean)"><CODE>getShippingPromotions(ShippingGroup, Collection, Collection, boolean)</CODE></A> instead</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection, java.util.Collection, boolean)">getShippingPromotions</A></B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pGroup,
                      java.util.Collection&nbsp;pPromotions,
                      java.util.Collection&nbsp;pPromotionInstancesAdded,
                      boolean&nbsp;pGetAdjustments)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotions used in the ShippingGroup.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getSiteGroupPropertyName()">getSiteGroupPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the SiteGroupPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getSiteGroupsPropertyName()">getSiteGroupsPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the SiteGroupsPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getSiteIdPropertyName()">getSiteIdPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the SiteIdPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getSitesPropertyName()">getSitesPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the SitesPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getTaxPromotions(atg.commerce.order.Order, java.util.Collection)">getTaxPromotions</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                 java.util.Collection&nbsp;pPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotions used in the tax calculation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getTaxPromotions(atg.commerce.order.Order, java.util.Collection, boolean)">getTaxPromotions</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                 java.util.Collection&nbsp;pPromotions,
                 boolean&nbsp;pGetAdjustments)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotions used in the tax calculation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getUsedPromotionsProperty()">getUsedPromotionsProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Property of the profile to which we add consumed promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getUserPricingModelHolderPath()">getUserPricingModelHolderPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property UserPricingModelHolderPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getUsesProperty()">getUsesProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the usesProperty</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#grantPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem)">grantPromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the given promotion to the user's "activePromotions" list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#grantPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String)">grantPromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
               java.lang.String&nbsp;pComment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the given promotion to the user's "activePromotions" list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#grantPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String)">grantPromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
               java.lang.String&nbsp;pComment,
               java.lang.String&nbsp;pSiteId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the given promotion to the user's "activePromotions" list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#grantPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String, atg.repository.RepositoryItem)">grantPromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
               java.lang.String&nbsp;pComment,
               java.lang.String&nbsp;pSiteId,
               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the given promotion to the user's "activePromotions" list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#grantPromotion(java.lang.String, java.lang.String)">grantPromotion</A></B>(java.lang.String&nbsp;pProfileId,
               java.lang.String&nbsp;pPromotionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the given promotion to the user's "activePromotions" list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#grantPromotion(java.lang.String, java.lang.String, java.lang.String)">grantPromotion</A></B>(java.lang.String&nbsp;pProfileId,
               java.lang.String&nbsp;pPromotionId,
               java.lang.String&nbsp;pComment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the given promotion to the user's "activePromotions" list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#grantPromotion(java.lang.String, java.lang.String, java.lang.String, java.lang.String)">grantPromotion</A></B>(java.lang.String&nbsp;pProfileId,
               java.lang.String&nbsp;pPromotionId,
               java.lang.String&nbsp;pComment,
               java.lang.String&nbsp;pSiteId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the given promotion to the user's "activePromotions" list.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#initializePricingModels()">initializePricingModels</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize the set of pricing models/promotions that a user currently holds
 while having an active session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#initializePricingModels(boolean)">initializePricingModels</A></B>(boolean&nbsp;pRemoveExpiredGlobalPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize the set of pricing models/promotions that a user currently holds
 while having an active session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#initializePricingModels(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)">initializePricingModels</A></B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                        <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initialize the set of pricing models/promotions that a user currently holds
 while having an active session.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isClosenessQualifierItem(java.lang.Object)">isClosenessQualifierItem</A></B>(java.lang.Object&nbsp;pObj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method to determine if a passed in repository item or item descriptor is
 from a closeness qualifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isFirePromotionGrantedEvent()">isFirePromotionGrantedEvent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets property FirePromotionGrantedEvent</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isFirePromotionRevokedEvent()">isFirePromotionRevokedEvent</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets property FirePromotionRevokedEvent</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isItemOfType(java.lang.Object, atg.repository.RepositoryItemDescriptor)">isItemOfType</A></B>(java.lang.Object&nbsp;pObj,
             <A HREF="../../../atg/repository/RepositoryItemDescriptor.html" title="interface in atg.repository">RepositoryItemDescriptor</A>&nbsp;pBaseType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method to determine if a passed in repository item or item descriptor is of
 a base type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isPromotionInPromotionStatuses(atg.repository.RepositoryItem, java.util.Collection)">isPromotionInPromotionStatuses</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               java.util.Collection&nbsp;pPromotionStatuses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method takes a promotion and a collection of promotion statuses, and
 returns a boolean indicating if the given promotion is represented in the
 status collection.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isPromotionItem(java.lang.Object)">isPromotionItem</A></B>(java.lang.Object&nbsp;pObj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Method to determine if a passed in repository item or item descriptor is
 from a promotion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isRemoveExpiredGlobalPromotions()">isRemoveExpiredGlobalPromotions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Indicates if expired global promotions should be removed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isSendEventOnAddItem()">isSendEventOnAddItem</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If this is true, then the ScenarioAddedItemToCart event will be sent If
 this is false, then the ScenarioAddedItemToCart event will not be sent.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isUsable(atg.repository.RepositoryItem)">isUsable</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method determines if the given promotion is usable based on the date
 allowed on the promotion compared to the current date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#isUsable(atg.repository.RepositoryItem, java.util.Date)">isUsable</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
         java.util.Date&nbsp;pNow)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method determines if the given promotion is usable based on the date
 allowed on the promotion compared to the passed in date.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#lookupPromotion(java.lang.String)">lookupPromotion</A></B>(java.lang.String&nbsp;pPromotionId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Does a simple lookup to return the promotion repository item for the given
 id from the repository.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#removePromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, boolean)">removePromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                boolean&nbsp;pRemoveAll)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the passed in promotion pPromotion from the pProfile's list of
 active promotions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#resolveQualifierService(java.lang.String)">resolveQualifierService</A></B>(java.lang.String&nbsp;pQualifierPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resolves the given String nucleus path to a Qualifier service object
 reference.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#revokePromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, boolean)">revokePromotion</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                boolean&nbsp;pRemoveAll)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the passed in promotion pPromotion from the pProfile's list of
 active promotions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#revokePromotion(java.lang.String, java.lang.String, boolean)">revokePromotion</A></B>(java.lang.String&nbsp;pProfileId,
                java.lang.String&nbsp;pPromotionId,
                boolean&nbsp;pRemoveAllInstances)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the passed in promotion pPromotion from the pProfile's list of
 active promotions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#scenarioAddedItemToOrder(atg.commerce.order.Order, atg.commerce.order.CommerceItem, long)">scenarioAddedItemToOrder</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                         <A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                         long&nbsp;pQuantity)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called by the AddItemToOrder scenario action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#scenarioAddedItemToOrder(atg.commerce.order.Order, atg.commerce.order.CommerceItem, long, java.lang.String)">scenarioAddedItemToOrder</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                         <A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                         long&nbsp;pQuantity,
                         java.lang.String&nbsp;pSiteId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is called by the AddItemToOrder scenario action.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#sendPromotionGrantedEvent(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem)">sendPromotionGrantedEvent</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                          <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an PromotionGranted Event through the PromotionGrantedMessageSender
 if FirePromotionGrantedEvent is set to true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#sendPromotionGrantedEvent(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String)">sendPromotionGrantedEvent</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                          <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                          java.lang.String&nbsp;pComment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an PromotionGranted Event through the PromotionGrantedMessageSender
 if FirePromotionGrantedEvent is set to true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#sendPromotionGrantedEvent(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String)">sendPromotionGrantedEvent</A></B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                          <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                          java.lang.String&nbsp;pComment,
                          java.lang.String&nbsp;pSiteId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends an PromotionGranted Event through the PromotionGrantedMessageSender
 if FirePromotionGrantedEvent is set to true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#sendPromotionRevokedEvent(atg.repository.RepositoryItem, atg.repository.RepositoryItem)">sendPromotionRevokedEvent</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                          <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a PromotionRevoked Event through the PromotionRevokedMessageSender if
 FirePromotionRevokedEvent is set to true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#sendPromotionRevokedEvent(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String)">sendPromotionRevokedEvent</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                          <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                          java.lang.String&nbsp;pComment)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a PromotionRevoked Event through the PromotionRevokedMessageSender if
 FirePromotionRevokedEvent is set to true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#sendPromotionRevokedEvent(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String)">sendPromotionRevokedEvent</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                          <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                          java.lang.String&nbsp;pComment,
                          java.lang.String&nbsp;pSiteId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sends a PromotionRevoked Event through the PromotionRevokedMessageSender if
 FirePromotionRevokedEvent is set to true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setActivePromotionsProperty(java.lang.String)">setActivePromotionsProperty</A></B>(java.lang.String&nbsp;pActivePromotionsProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setAddItemEventPipeline(java.lang.String)">setAddItemEventPipeline</A></B>(java.lang.String&nbsp;pAddItemEventPipeline)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setAllowMultipleProperty(java.lang.String)">setAllowMultipleProperty</A></B>(java.lang.String&nbsp;pAllowMultipleProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setAlternateUserPricingModelHolderPaths(java.lang.String[])">setAlternateUserPricingModelHolderPaths</A></B>(java.lang.String[]&nbsp;pAlternateUserPricingModelHolderPaths)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property AlternateUserPricingModelHolderPaths</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setBaseClosenessQualifierItemType(java.lang.String)">setBaseClosenessQualifierItemType</A></B>(java.lang.String&nbsp;pBaseClosenessQualifierItemType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property BaseClosenessQualifierItemType</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setBasePromotionItemType(java.lang.String)">setBasePromotionItemType</A></B>(java.lang.String&nbsp;pBasePromotionItemType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property BasePromotionItemType</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setCurrentDate(atg.service.util.CurrentDate)">setCurrentDate</A></B>(<A HREF="../../../atg/service/util/CurrentDate.html" title="class in atg.service.util">CurrentDate</A>&nbsp;pCurrentDate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setFirePromotionGrantedEvent(boolean)">setFirePromotionGrantedEvent</A></B>(boolean&nbsp;pFirePromotionGrantedEvent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property FirePromotionGrantedEvent</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setFirePromotionRevokedEvent(boolean)">setFirePromotionRevokedEvent</A></B>(boolean&nbsp;pFirePromotionRevokedEvent)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property FirePromotionRevokedEvent</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setGetService(atg.repository.xml.GetService)">setGetService</A></B>(<A HREF="../../../atg/repository/xml/GetService.html" title="class in atg.repository.xml">GetService</A>&nbsp;pGetService)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setGiveToAnonymousProfilesProperty(java.lang.String)">setGiveToAnonymousProfilesProperty</A></B>(java.lang.String&nbsp;pGiveToAnonymousProfilesProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setMappingFileName(java.lang.String)">setMappingFileName</A></B>(java.lang.String&nbsp;pMappingFileName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPipelineManager(atg.service.pipeline.PipelineManager)">setPipelineManager</A></B>(<A HREF="../../../atg/service/pipeline/PipelineManager.html" title="class in atg.service.pipeline">PipelineManager</A>&nbsp;pPipelineManager)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPricingModelProperties(atg.commerce.pricing.PricingModelProperties)">setPricingModelProperties</A></B>(<A HREF="../../../atg/commerce/pricing/PricingModelProperties.html" title="class in atg.commerce.pricing">PricingModelProperties</A>&nbsp;pPricingModelProperties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPricingTools(atg.commerce.pricing.PricingTools)">setPricingTools</A></B>(<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A>&nbsp;pPricingTools)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setProfileItemType(java.lang.String)">setProfileItemType</A></B>(java.lang.String&nbsp;pProfileItemType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setProfileRepository(atg.repository.MutableRepository)">setProfileRepository</A></B>(<A HREF="../../../atg/repository/MutableRepository.html" title="interface in atg.repository">MutableRepository</A>&nbsp;pProfileRepository)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPromoStatusCouponsPropertyName(java.lang.String)">setPromoStatusCouponsPropertyName</A></B>(java.lang.String&nbsp;pPromoStatusCouponsPropertyName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPromoStatusDescriptorName(java.lang.String)">setPromoStatusDescriptorName</A></B>(java.lang.String&nbsp;pPromoStatusDescriptorName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPromoStatusNumUsesProperty(java.lang.String)">setPromoStatusNumUsesProperty</A></B>(java.lang.String&nbsp;pPromoStatusNumUsesProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPromoStatusProfileIdProperty(java.lang.String)">setPromoStatusProfileIdProperty</A></B>(java.lang.String&nbsp;pPromoStatusProfileIdProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPromoStatusPromoProperty(java.lang.String)">setPromoStatusPromoProperty</A></B>(java.lang.String&nbsp;pPromoStatusPromoProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPromotionGrantedMessageSender(atg.commerce.messaging.MessageSender)">setPromotionGrantedMessageSender</A></B>(<A HREF="../../../atg/commerce/messaging/MessageSender.html" title="class in atg.commerce.messaging">MessageSender</A>&nbsp;pPromotionGrantedMessageSender)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property PromotionGrantedMessageSender.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPromotionRevokedMessageSender(atg.commerce.messaging.MessageSender)">setPromotionRevokedMessageSender</A></B>(<A HREF="../../../atg/commerce/messaging/MessageSender.html" title="class in atg.commerce.messaging">MessageSender</A>&nbsp;pPromotionRevokedMessageSender)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property PromotionRevokedMessageSender.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setPromotions(atg.repository.Repository)">setPromotions</A></B>(<A HREF="../../../atg/repository/Repository.html" title="interface in atg.repository">Repository</A>&nbsp;pPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property Promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setQualifierService(atg.commerce.pricing.Qualifier)">setQualifierService</A></B>(<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A>&nbsp;pQualifierService)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the default Qualifier service to use.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setRemoveExpiredGlobalPromotions(boolean)">setRemoveExpiredGlobalPromotions</A></B>(boolean&nbsp;pRemoveExpiredGlobalPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setSendEventOnAddItem(boolean)">setSendEventOnAddItem</A></B>(boolean&nbsp;pSendEventOnAddItem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setSiteGroupPropertyName(java.lang.String)">setSiteGroupPropertyName</A></B>(java.lang.String&nbsp;pSiteGroupPropertyName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the SiteGroupPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setSiteGroupsPropertyName(java.lang.String)">setSiteGroupsPropertyName</A></B>(java.lang.String&nbsp;pSiteGroupsPropertyName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the SiteGroupsPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setSiteIdPropertyName(java.lang.String)">setSiteIdPropertyName</A></B>(java.lang.String&nbsp;pSiteIdPropertyName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the SiteIdPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setSitesPropertyName(java.lang.String)">setSitesPropertyName</A></B>(java.lang.String&nbsp;pSitesPropertyName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the SitesPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setUsedPromotionsProperty(java.lang.String)">setUsedPromotionsProperty</A></B>(java.lang.String&nbsp;pUsedPromotionsProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setUserPricingModelHolderPath(java.lang.String)">setUserPricingModelHolderPath</A></B>(java.lang.String&nbsp;pUserPricingModelHolderPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property UserPricingModelHolderPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/promotion/PromotionTools.html#setUsesProperty(java.lang.String)">setUsesProperty</A></B>(java.lang.String&nbsp;pUsesProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the usesProperty</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class atg.nucleus.<A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/GenericService.html#addLogListener(atg.nucleus.logging.LogListener)">addLogListener</A>, <A HREF="../../../atg/nucleus/GenericService.html#createAdminServlet()">createAdminServlet</A>, <A HREF="../../../atg/nucleus/GenericService.html#doStartService()">doStartService</A>, <A HREF="../../../atg/nucleus/GenericService.html#doStopService()">doStopService</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAbsoluteName()">getAbsoluteName</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAdminServlet()">getAdminServlet</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAdminServletOutputStreamEncoding()">getAdminServletOutputStreamEncoding</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLoggingForVlogging()">getLoggingForVlogging</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLogListenerCount()">getLogListenerCount</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLogListeners()">getLogListeners</A>, <A HREF="../../../atg/nucleus/GenericService.html#getName()">getName</A>, <A HREF="../../../atg/nucleus/GenericService.html#getNameContext()">getNameContext</A>, <A HREF="../../../atg/nucleus/GenericService.html#getNucleus()">getNucleus</A>, <A HREF="../../../atg/nucleus/GenericService.html#getRoot()">getRoot</A>, <A HREF="../../../atg/nucleus/GenericService.html#getServiceConfiguration()">getServiceConfiguration</A>, <A HREF="../../../atg/nucleus/GenericService.html#getServiceInfo()">getServiceInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#isAdminServletUseServletOutputStream()">isAdminServletUseServletOutputStream</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingDebug()">isLoggingDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingError()">isLoggingError</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingInfo()">isLoggingInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingTrace()">isLoggingTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingWarning()">isLoggingWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#isRunning()">isRunning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.String)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.String, java.lang.Throwable)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.Throwable)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.String)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.String, java.lang.Throwable)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.Throwable)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.String)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.String, java.lang.Throwable)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.Throwable)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logTrace(java.lang.String)">logTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#logTrace(java.lang.String, java.lang.Throwable)">logTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#logTrace(java.lang.Throwable)">logTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.String)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.String, java.lang.Throwable)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.Throwable)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#nameContextElementBound(atg.naming.NameContextBindingEvent)">nameContextElementBound</A>, <A HREF="../../../atg/nucleus/GenericService.html#nameContextElementUnbound(atg.naming.NameContextBindingEvent)">nameContextElementUnbound</A>, <A HREF="../../../atg/nucleus/GenericService.html#removeLogListener(atg.nucleus.logging.LogListener)">removeLogListener</A>, <A HREF="../../../atg/nucleus/GenericService.html#reResolveThis()">reResolveThis</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName, boolean)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(java.lang.String)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(java.lang.String, boolean)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#sendLogEvent(atg.nucleus.logging.LogEvent)">sendLogEvent</A>, <A HREF="../../../atg/nucleus/GenericService.html#setAdminServletOutputStreamEncoding(java.lang.String)">setAdminServletOutputStreamEncoding</A>, <A HREF="../../../atg/nucleus/GenericService.html#setAdminServletUseServletOutputStream(boolean)">setAdminServletUseServletOutputStream</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingDebug(boolean)">setLoggingDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingError(boolean)">setLoggingError</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingInfo(boolean)">setLoggingInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingTrace(boolean)">setLoggingTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingWarning(boolean)">setLoggingWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#setNucleus(atg.nucleus.Nucleus)">setNucleus</A>, <A HREF="../../../atg/nucleus/GenericService.html#setServiceInfo(java.lang.String)">setServiceInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#startService(atg.nucleus.ServiceEvent)">startService</A>, <A HREF="../../../atg/nucleus/GenericService.html#stopService()">stopService</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.nucleus.logging.VariableArgumentApplicationLoggingImpl"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class atg.nucleus.logging.<A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html" title="class in atg.nucleus.logging">VariableArgumentApplicationLoggingImpl</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebug(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogDebug</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebug(java.lang.String, java.lang.Object...)">vlogDebug</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebug(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogDebug</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebug(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogDebug</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebugTrace(java.lang.String, java.lang.Object...)">vlogDebugTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogError(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogError</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogError(java.lang.String, java.lang.Object...)">vlogError</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogError(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogError</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogError(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogError</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogInfo(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogInfo</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogInfo(java.lang.String, java.lang.Object...)">vlogInfo</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogInfo(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogInfo</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogInfo(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogInfo</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogTrace(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogTrace(java.lang.String, java.lang.Object...)">vlogTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogTrace(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogTrace(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogWarning(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogWarning</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogWarning(java.lang.String, java.lang.Object...)">vlogWarning</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogWarning(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogWarning</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogWarning(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogWarning</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CLASS_VERSION"><!-- --></A><H3>
CLASS_VERSION</H3>
<PRE>
public static final java.lang.String <B>CLASS_VERSION</B></PRE>
<DL>
<DD>Class version string
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#atg.commerce.promotion.PromotionTools.CLASS_VERSION">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="COPIED_DURING_LOGIN"><!-- --></A><H3>
COPIED_DURING_LOGIN</H3>
<PRE>
public static final java.lang.String <B>COPIED_DURING_LOGIN</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#atg.commerce.promotion.PromotionTools.COPIED_DURING_LOGIN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="REVOKED_DURING_LOGIN"><!-- --></A><H3>
REVOKED_DURING_LOGIN</H3>
<PRE>
public static final java.lang.String <B>REVOKED_DURING_LOGIN</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#atg.commerce.promotion.PromotionTools.REVOKED_DURING_LOGIN">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="EXTRA_PARAM_QUALIFIERSERVICE"><!-- --></A><H3>
EXTRA_PARAM_QUALIFIERSERVICE</H3>
<PRE>
public static final java.lang.String <B>EXTRA_PARAM_QUALIFIERSERVICE</B></PRE>
<DL>
<DD>Key into extra parameters map to an optional Qualifier service reference
<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#atg.commerce.promotion.PromotionTools.EXTRA_PARAM_QUALIFIERSERVICE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="mQualifierService"><!-- --></A><H3>
mQualifierService</H3>
<PRE>
protected <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A> <B>mQualifierService</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mUserPricingModelHolderPath"><!-- --></A><H3>
mUserPricingModelHolderPath</H3>
<PRE>
protected <A HREF="../../../atg/nucleus/naming/ComponentName.html" title="class in atg.nucleus.naming">ComponentName</A> <B>mUserPricingModelHolderPath</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mQualifierServices"><!-- --></A><H3>
mQualifierServices</H3>
<PRE>
protected java.util.Map&lt;java.lang.String,<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A>&gt; <B>mQualifierServices</B></PRE>
<DL>
<DD>Cache of qualifier service path names to service instances
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="PromotionTools()"><!-- --></A><H3>
PromotionTools</H3>
<PRE>
public <B>PromotionTools</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getQualifierService()"><!-- --></A><H3>
getQualifierService</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A> <B>getQualifierService</B>()</PRE>
<DL>
<DD>Gets the default Qualifier service to use.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>Qualifier service reference</DL>
</DD>
</DL>
<HR>

<A NAME="setQualifierService(atg.commerce.pricing.Qualifier)"><!-- --></A><H3>
setQualifierService</H3>
<PRE>
public void <B>setQualifierService</B>(<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A>&nbsp;pQualifierService)</PRE>
<DL>
<DD>Sets the default Qualifier service to use.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pQualifierService</CODE> - Qualifier service reference</DL>
</DD>
</DL>
<HR>

<A NAME="setSiteGroupsPropertyName(java.lang.String)"><!-- --></A><H3>
setSiteGroupsPropertyName</H3>
<PRE>
public void <B>setSiteGroupsPropertyName</B>(java.lang.String&nbsp;pSiteGroupsPropertyName)</PRE>
<DL>
<DD>Set the SiteGroupsPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSiteGroupsPropertyName()"><!-- --></A><H3>
getSiteGroupsPropertyName</H3>
<PRE>
public java.lang.String <B>getSiteGroupsPropertyName</B>()</PRE>
<DL>
<DD>Return the SiteGroupsPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSiteGroupPropertyName(java.lang.String)"><!-- --></A><H3>
setSiteGroupPropertyName</H3>
<PRE>
public void <B>setSiteGroupPropertyName</B>(java.lang.String&nbsp;pSiteGroupPropertyName)</PRE>
<DL>
<DD>Set the SiteGroupPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSiteGroupPropertyName()"><!-- --></A><H3>
getSiteGroupPropertyName</H3>
<PRE>
public java.lang.String <B>getSiteGroupPropertyName</B>()</PRE>
<DL>
<DD>Return the SiteGroupPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSiteIdPropertyName(java.lang.String)"><!-- --></A><H3>
setSiteIdPropertyName</H3>
<PRE>
public void <B>setSiteIdPropertyName</B>(java.lang.String&nbsp;pSiteIdPropertyName)</PRE>
<DL>
<DD>Set the SiteIdPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSiteIdPropertyName()"><!-- --></A><H3>
getSiteIdPropertyName</H3>
<PRE>
public java.lang.String <B>getSiteIdPropertyName</B>()</PRE>
<DL>
<DD>Return the SiteIdPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSitesPropertyName(java.lang.String)"><!-- --></A><H3>
setSitesPropertyName</H3>
<PRE>
public void <B>setSitesPropertyName</B>(java.lang.String&nbsp;pSitesPropertyName)</PRE>
<DL>
<DD>Set the SitesPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSitesPropertyName()"><!-- --></A><H3>
getSitesPropertyName</H3>
<PRE>
public java.lang.String <B>getSitesPropertyName</B>()</PRE>
<DL>
<DD>Return the SitesPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setFirePromotionGrantedEvent(boolean)"><!-- --></A><H3>
setFirePromotionGrantedEvent</H3>
<PRE>
public void <B>setFirePromotionGrantedEvent</B>(boolean&nbsp;pFirePromotionGrantedEvent)</PRE>
<DL>
<DD>Sets property FirePromotionGrantedEvent
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isFirePromotionGrantedEvent()"><!-- --></A><H3>
isFirePromotionGrantedEvent</H3>
<PRE>
public boolean <B>isFirePromotionGrantedEvent</B>()</PRE>
<DL>
<DD>Gets property FirePromotionGrantedEvent
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setFirePromotionRevokedEvent(boolean)"><!-- --></A><H3>
setFirePromotionRevokedEvent</H3>
<PRE>
public void <B>setFirePromotionRevokedEvent</B>(boolean&nbsp;pFirePromotionRevokedEvent)</PRE>
<DL>
<DD>Sets property FirePromotionRevokedEvent
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isFirePromotionRevokedEvent()"><!-- --></A><H3>
isFirePromotionRevokedEvent</H3>
<PRE>
public boolean <B>isFirePromotionRevokedEvent</B>()</PRE>
<DL>
<DD>Gets property FirePromotionRevokedEvent
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromotionGrantedMessageSender(atg.commerce.messaging.MessageSender)"><!-- --></A><H3>
setPromotionGrantedMessageSender</H3>
<PRE>
public void <B>setPromotionGrantedMessageSender</B>(<A HREF="../../../atg/commerce/messaging/MessageSender.html" title="class in atg.commerce.messaging">MessageSender</A>&nbsp;pPromotionGrantedMessageSender)</PRE>
<DL>
<DD>Sets property PromotionGrantedMessageSender. The MessageSender is used to
 send PromotionGranted Events.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionGrantedMessageSender()"><!-- --></A><H3>
getPromotionGrantedMessageSender</H3>
<PRE>
public <A HREF="../../../atg/commerce/messaging/MessageSender.html" title="class in atg.commerce.messaging">MessageSender</A> <B>getPromotionGrantedMessageSender</B>()</PRE>
<DL>
<DD>Gets property MessageSender.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromotionRevokedMessageSender(atg.commerce.messaging.MessageSender)"><!-- --></A><H3>
setPromotionRevokedMessageSender</H3>
<PRE>
public void <B>setPromotionRevokedMessageSender</B>(<A HREF="../../../atg/commerce/messaging/MessageSender.html" title="class in atg.commerce.messaging">MessageSender</A>&nbsp;pPromotionRevokedMessageSender)</PRE>
<DL>
<DD>Sets property PromotionRevokedMessageSender. The MessageSender is used to
 send PromotionRevoked Events.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionRevokedMessageSender()"><!-- --></A><H3>
getPromotionRevokedMessageSender</H3>
<PRE>
public <A HREF="../../../atg/commerce/messaging/MessageSender.html" title="class in atg.commerce.messaging">MessageSender</A> <B>getPromotionRevokedMessageSender</B>()</PRE>
<DL>
<DD>Gets property PromotionRevokedMessageSender.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPipelineManager(atg.service.pipeline.PipelineManager)"><!-- --></A><H3>
setPipelineManager</H3>
<PRE>
public void <B>setPipelineManager</B>(<A HREF="../../../atg/service/pipeline/PipelineManager.html" title="class in atg.service.pipeline">PipelineManager</A>&nbsp;pPipelineManager)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPipelineManager()"><!-- --></A><H3>
getPipelineManager</H3>
<PRE>
public <A HREF="../../../atg/service/pipeline/PipelineManager.html" title="class in atg.service.pipeline">PipelineManager</A> <B>getPipelineManager</B>()</PRE>
<DL>
<DD>The PipelineManager is used to run the pipeline process that sends scenario
 events
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSendEventOnAddItem(boolean)"><!-- --></A><H3>
setSendEventOnAddItem</H3>
<PRE>
public void <B>setSendEventOnAddItem</B>(boolean&nbsp;pSendEventOnAddItem)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isSendEventOnAddItem()"><!-- --></A><H3>
isSendEventOnAddItem</H3>
<PRE>
public boolean <B>isSendEventOnAddItem</B>()</PRE>
<DL>
<DD>If this is true, then the ScenarioAddedItemToCart event will be sent If
 this is false, then the ScenarioAddedItemToCart event will not be sent. The
 default value is true
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAddItemEventPipeline(java.lang.String)"><!-- --></A><H3>
setAddItemEventPipeline</H3>
<PRE>
public void <B>setAddItemEventPipeline</B>(java.lang.String&nbsp;pAddItemEventPipeline)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAddItemEventPipeline()"><!-- --></A><H3>
getAddItemEventPipeline</H3>
<PRE>
public java.lang.String <B>getAddItemEventPipeline</B>()</PRE>
<DL>
<DD>The name of the pipeline used to send the ScenarioAddedItemToOrder event
 Defaults to PipelineConstants.SENDSCENARIOEVENT
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingModelProperties(atg.commerce.pricing.PricingModelProperties)"><!-- --></A><H3>
setPricingModelProperties</H3>
<PRE>
public void <B>setPricingModelProperties</B>(<A HREF="../../../atg/commerce/pricing/PricingModelProperties.html" title="class in atg.commerce.pricing">PricingModelProperties</A>&nbsp;pPricingModelProperties)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingModelProperties()"><!-- --></A><H3>
getPricingModelProperties</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/PricingModelProperties.html" title="class in atg.commerce.pricing">PricingModelProperties</A> <B>getPricingModelProperties</B>()</PRE>
<DL>
<DD>Returns a bean that contains properties for a PricingModel
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setActivePromotionsProperty(java.lang.String)"><!-- --></A><H3>
setActivePromotionsProperty</H3>
<PRE>
public void <B>setActivePromotionsProperty</B>(java.lang.String&nbsp;pActivePromotionsProperty)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getActivePromotionsProperty()"><!-- --></A><H3>
getActivePromotionsProperty</H3>
<PRE>
public java.lang.String <B>getActivePromotionsProperty</B>()</PRE>
<DL>
<DD>Property of the profile to which we add new promotions
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUsedPromotionsProperty(java.lang.String)"><!-- --></A><H3>
setUsedPromotionsProperty</H3>
<PRE>
public void <B>setUsedPromotionsProperty</B>(java.lang.String&nbsp;pUsedPromotionsProperty)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUsedPromotionsProperty()"><!-- --></A><H3>
getUsedPromotionsProperty</H3>
<PRE>
public java.lang.String <B>getUsedPromotionsProperty</B>()</PRE>
<DL>
<DD>Property of the profile to which we add consumed promotions
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAllowMultipleProperty(java.lang.String)"><!-- --></A><H3>
setAllowMultipleProperty</H3>
<PRE>
public void <B>setAllowMultipleProperty</B>(java.lang.String&nbsp;pAllowMultipleProperty)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAllowMultipleProperty()"><!-- --></A><H3>
getAllowMultipleProperty</H3>
<PRE>
public java.lang.String <B>getAllowMultipleProperty</B>()</PRE>
<DL>
<DD>Property name of the 'allowMultiple' property in the promotion
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setGiveToAnonymousProfilesProperty(java.lang.String)"><!-- --></A><H3>
setGiveToAnonymousProfilesProperty</H3>
<PRE>
public void <B>setGiveToAnonymousProfilesProperty</B>(java.lang.String&nbsp;pGiveToAnonymousProfilesProperty)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getGiveToAnonymousProfilesProperty()"><!-- --></A><H3>
getGiveToAnonymousProfilesProperty</H3>
<PRE>
public java.lang.String <B>getGiveToAnonymousProfilesProperty</B>()</PRE>
<DL>
<DD>Property name of the 'giveToAnonymousProfiles' property in the promotion
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUsesProperty(java.lang.String)"><!-- --></A><H3>
setUsesProperty</H3>
<PRE>
public void <B>setUsesProperty</B>(java.lang.String&nbsp;pUsesProperty)</PRE>
<DL>
<DD>Sets the usesProperty
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUsesProperty()"><!-- --></A><H3>
getUsesProperty</H3>
<PRE>
public java.lang.String <B>getUsesProperty</B>()</PRE>
<DL>
<DD>Returns the usesProperty
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromoStatusDescriptorName(java.lang.String)"><!-- --></A><H3>
setPromoStatusDescriptorName</H3>
<PRE>
public void <B>setPromoStatusDescriptorName</B>(java.lang.String&nbsp;pPromoStatusDescriptorName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromoStatusDescriptorName()"><!-- --></A><H3>
getPromoStatusDescriptorName</H3>
<PRE>
public java.lang.String <B>getPromoStatusDescriptorName</B>()</PRE>
<DL>
<DD>Returns the descriptor name for the promoStatus descriptor
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromoStatusCouponsPropertyName(java.lang.String)"><!-- --></A><H3>
setPromoStatusCouponsPropertyName</H3>
<PRE>
public void <B>setPromoStatusCouponsPropertyName</B>(java.lang.String&nbsp;pPromoStatusCouponsPropertyName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromoStatusCouponsPropertyName()"><!-- --></A><H3>
getPromoStatusCouponsPropertyName</H3>
<PRE>
public java.lang.String <B>getPromoStatusCouponsPropertyName</B>()</PRE>
<DL>
<DD>Returns the descriptor name for the Coupons property
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromoStatusProfileIdProperty(java.lang.String)"><!-- --></A><H3>
setPromoStatusProfileIdProperty</H3>
<PRE>
public void <B>setPromoStatusProfileIdProperty</B>(java.lang.String&nbsp;pPromoStatusProfileIdProperty)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromoStatusProfileIdProperty()"><!-- --></A><H3>
getPromoStatusProfileIdProperty</H3>
<PRE>
public java.lang.String <B>getPromoStatusProfileIdProperty</B>()</PRE>
<DL>
<DD>Returns the promoStatus profile id property name
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromoStatusNumUsesProperty(java.lang.String)"><!-- --></A><H3>
setPromoStatusNumUsesProperty</H3>
<PRE>
public void <B>setPromoStatusNumUsesProperty</B>(java.lang.String&nbsp;pPromoStatusNumUsesProperty)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromoStatusNumUsesProperty()"><!-- --></A><H3>
getPromoStatusNumUsesProperty</H3>
<PRE>
public java.lang.String <B>getPromoStatusNumUsesProperty</B>()</PRE>
<DL>
<DD>Returns the promoStatus num_uses property name
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromoStatusPromoProperty(java.lang.String)"><!-- --></A><H3>
setPromoStatusPromoProperty</H3>
<PRE>
public void <B>setPromoStatusPromoProperty</B>(java.lang.String&nbsp;pPromoStatusPromoProperty)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromoStatusPromoProperty()"><!-- --></A><H3>
getPromoStatusPromoProperty</H3>
<PRE>
public java.lang.String <B>getPromoStatusPromoProperty</B>()</PRE>
<DL>
<DD>Returns the promoStatus promo property name
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setProfileRepository(atg.repository.MutableRepository)"><!-- --></A><H3>
setProfileRepository</H3>
<PRE>
public void <B>setProfileRepository</B>(<A HREF="../../../atg/repository/MutableRepository.html" title="interface in atg.repository">MutableRepository</A>&nbsp;pProfileRepository)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileRepository()"><!-- --></A><H3>
getProfileRepository</H3>
<PRE>
public <A HREF="../../../atg/repository/MutableRepository.html" title="interface in atg.repository">MutableRepository</A> <B>getProfileRepository</B>()</PRE>
<DL>
<DD>Return the editable profile repository
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setProfileItemType(java.lang.String)"><!-- --></A><H3>
setProfileItemType</H3>
<PRE>
public void <B>setProfileItemType</B>(java.lang.String&nbsp;pProfileItemType)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileItemType()"><!-- --></A><H3>
getProfileItemType</H3>
<PRE>
public java.lang.String <B>getProfileItemType</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingTools(atg.commerce.pricing.PricingTools)"><!-- --></A><H3>
setPricingTools</H3>
<PRE>
public void <B>setPricingTools</B>(<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A>&nbsp;pPricingTools)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingTools()"><!-- --></A><H3>
getPricingTools</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A> <B>getPricingTools</B>()</PRE>
<DL>
<DD>Return the PricingTools component
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromotions(atg.repository.Repository)"><!-- --></A><H3>
setPromotions</H3>
<PRE>
public void <B>setPromotions</B>(<A HREF="../../../atg/repository/Repository.html" title="interface in atg.repository">Repository</A>&nbsp;pPromotions)</PRE>
<DL>
<DD>Sets property Promotions
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotions()"><!-- --></A><H3>
getPromotions</H3>
<PRE>
public <A HREF="../../../atg/repository/Repository.html" title="interface in atg.repository">Repository</A> <B>getPromotions</B>()</PRE>
<DL>
<DD>Returns property Promotions
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setBasePromotionItemType(java.lang.String)"><!-- --></A><H3>
setBasePromotionItemType</H3>
<PRE>
public void <B>setBasePromotionItemType</B>(java.lang.String&nbsp;pBasePromotionItemType)</PRE>
<DL>
<DD>Sets property BasePromotionItemType
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getBasePromotionItemType()"><!-- --></A><H3>
getBasePromotionItemType</H3>
<PRE>
public java.lang.String <B>getBasePromotionItemType</B>()</PRE>
<DL>
<DD>Returns property BasePromotionItemType
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setBaseClosenessQualifierItemType(java.lang.String)"><!-- --></A><H3>
setBaseClosenessQualifierItemType</H3>
<PRE>
public void <B>setBaseClosenessQualifierItemType</B>(java.lang.String&nbsp;pBaseClosenessQualifierItemType)</PRE>
<DL>
<DD>Sets property BaseClosenessQualifierItemType
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getBaseClosenessQualifierItemType()"><!-- --></A><H3>
getBaseClosenessQualifierItemType</H3>
<PRE>
public java.lang.String <B>getBaseClosenessQualifierItemType</B>()</PRE>
<DL>
<DD>Returns property BaseClosenessQualifierItemType
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUserPricingModelHolderPath(java.lang.String)"><!-- --></A><H3>
setUserPricingModelHolderPath</H3>
<PRE>
public void <B>setUserPricingModelHolderPath</B>(java.lang.String&nbsp;pUserPricingModelHolderPath)</PRE>
<DL>
<DD>Sets property UserPricingModelHolderPath
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUserPricingModelHolderPath()"><!-- --></A><H3>
getUserPricingModelHolderPath</H3>
<PRE>
public java.lang.String <B>getUserPricingModelHolderPath</B>()</PRE>
<DL>
<DD>Returns property UserPricingModelHolderPath
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAlternateUserPricingModelHolderPaths(java.lang.String[])"><!-- --></A><H3>
setAlternateUserPricingModelHolderPaths</H3>
<PRE>
public void <B>setAlternateUserPricingModelHolderPaths</B>(java.lang.String[]&nbsp;pAlternateUserPricingModelHolderPaths)</PRE>
<DL>
<DD>Sets property AlternateUserPricingModelHolderPaths
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAlternateUserPricingModelHolderPaths()"><!-- --></A><H3>
getAlternateUserPricingModelHolderPaths</H3>
<PRE>
public java.lang.String[] <B>getAlternateUserPricingModelHolderPaths</B>()</PRE>
<DL>
<DD>Returns property AlternateUserPricingModelHolderPaths
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setGetService(atg.repository.xml.GetService)"><!-- --></A><H3>
setGetService</H3>
<PRE>
public void <B>setGetService</B>(<A HREF="../../../atg/repository/xml/GetService.html" title="class in atg.repository.xml">GetService</A>&nbsp;pGetService)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getGetService()"><!-- --></A><H3>
getGetService</H3>
<PRE>
public <A HREF="../../../atg/repository/xml/GetService.html" title="class in atg.repository.xml">GetService</A> <B>getGetService</B>()</PRE>
<DL>
<DD>The tool used to convert promotions to xml in
 <code>getPromotionsAsXML</code>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setMappingFileName(java.lang.String)"><!-- --></A><H3>
setMappingFileName</H3>
<PRE>
public void <B>setMappingFileName</B>(java.lang.String&nbsp;pMappingFileName)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getMappingFileName()"><!-- --></A><H3>
getMappingFileName</H3>
<PRE>
public java.lang.String <B>getMappingFileName</B>()</PRE>
<DL>
<DD>The name of the mapping file that describes the XML format for
 <code>getPromotionsAsXML</code>
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setCurrentDate(atg.service.util.CurrentDate)"><!-- --></A><H3>
setCurrentDate</H3>
<PRE>
public void <B>setCurrentDate</B>(<A HREF="../../../atg/service/util/CurrentDate.html" title="class in atg.service.util">CurrentDate</A>&nbsp;pCurrentDate)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrentDate()"><!-- --></A><H3>
getCurrentDate</H3>
<PRE>
public <A HREF="../../../atg/service/util/CurrentDate.html" title="class in atg.service.util">CurrentDate</A> <B>getCurrentDate</B>()</PRE>
<DL>
<DD>The name of the current date component used to get the current date.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A component that contains the current date information</DL>
</DD>
</DL>
<HR>

<A NAME="setRemoveExpiredGlobalPromotions(boolean)"><!-- --></A><H3>
setRemoveExpiredGlobalPromotions</H3>
<PRE>
public void <B>setRemoveExpiredGlobalPromotions</B>(boolean&nbsp;pRemoveExpiredGlobalPromotions)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isRemoveExpiredGlobalPromotions()"><!-- --></A><H3>
isRemoveExpiredGlobalPromotions</H3>
<PRE>
public boolean <B>isRemoveExpiredGlobalPromotions</B>()</PRE>
<DL>
<DD>Indicates if expired global promotions should be removed.
<P>
<DD><DL>

<DT><B>Returns:</B><DD><code>true</code> if expired global promotions should
 be removed, <code>false</code> otherwise.</DL>
</DD>
</DL>
<HR>

<A NAME="createPromotionStatus(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.Integer)"><!-- --></A><H3>
createPromotionStatus</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>createPromotionStatus</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                            java.lang.Integer&nbsp;pNumUses)
                                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method calls createTransientPromotionStatus to create and return a
 PromotionStatus repository item. If the profile is not transient, then it
 will add the returned PromotionStatus to the promotions repository.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - - the profile of the user for whom the promotion status is being
          created.<DD><CODE>pPromotion</CODE> - - the promotion to be added.<DD><CODE>pNumUses</CODE> - - the number of uses that this promotion can have.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createPromotionStatus(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.Integer, atg.repository.RepositoryItem)"><!-- --></A><H3>
createPromotionStatus</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>createPromotionStatus</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                            java.lang.Integer&nbsp;pNumUses,
                                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon)
                                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method calls createTransientPromotionStatus to create and return a
 PromotionStatus repository item. If the profile is not transient, then it
 will add the returned PromotionStatus to the promotions repository.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - - the profile of the user for whom the promotion status is being
          created.<DD><CODE>pPromotion</CODE> - - the promotion to be added.<DD><CODE>pNumUses</CODE> - - the number of uses that this promotion can have.<DD><CODE>pCoupon</CODE> - the coupon that the promotion was claimed from
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createTransientPromotionStatus(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.Integer)"><!-- --></A><H3>
createTransientPromotionStatus</H3>
<PRE>
public <A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A> <B>createTransientPromotionStatus</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                                            java.lang.Integer&nbsp;pNumUses)
                                                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method creates a PromotionStatus repository item and returns it
 without saving it. This method is responsible for setting the expiration
 date on the promotionStatus if this promotion is a relative expiration
 promotion. It also sets the grantedDate property to the current date and
 time.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - - the profile of the user for whom the promotion status is being
          created.<DD><CODE>pPromotion</CODE> - - the promotion to be added.<DD><CODE>pNumUses</CODE> - - the number of uses that this promotion can have.
<DT><B>Returns:</B><DD>an initialized promotion status item that has not been saved
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createTransientPromotionStatus(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.Integer, atg.repository.RepositoryItem)"><!-- --></A><H3>
createTransientPromotionStatus</H3>
<PRE>
public <A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A> <B>createTransientPromotionStatus</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                                            java.lang.Integer&nbsp;pNumUses,
                                                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon)
                                                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method creates a PromotionStatus repository item and returns it
 without saving it. This method is responsible for setting the expiration
 date on the promotionStatus if this promotion is a relative expiration
 promotion. It also sets the grantedDate property to the current date and
 time.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - - the profile of the user for whom the promotion status is being
          created.<DD><CODE>pPromotion</CODE> - - the promotion to be added.<DD><CODE>pNumUses</CODE> - - the number of uses that this promotion can have.
<DT><B>Returns:</B><DD>an initialized promotion status item that has not been saved
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initializePricingModels()"><!-- --></A><H3>
initializePricingModels</H3>
<PRE>
public void <B>initializePricingModels</B>()
                             throws javax.servlet.ServletException,
                                    java.io.IOException</PRE>
<DL>
<DD>Initialize the set of pricing models/promotions that a user currently holds
 while having an active session.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initializePricingModels(boolean)"><!-- --></A><H3>
initializePricingModels</H3>
<PRE>
public void <B>initializePricingModels</B>(boolean&nbsp;pRemoveExpiredGlobalPromotions)
                             throws javax.servlet.ServletException,
                                    java.io.IOException</PRE>
<DL>
<DD>Initialize the set of pricing models/promotions that a user currently holds
 while having an active session. The pRemoveExpiredGlobalPromotions parameter
 gives the ability for expired global promotions to be removed before
 initialization.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRemoveExpiredGlobalPromotions</CODE> - indicator as to whether the removeExpiredGlobalPromotions
 should be set or not
<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="initializePricingModels(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)"><!-- --></A><H3>
initializePricingModels</H3>
<PRE>
public void <B>initializePricingModels</B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                    <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)
                             throws javax.servlet.ServletException,
                                    java.io.IOException</PRE>
<DL>
<DD>Initialize the set of pricing models/promotions that a user currently holds
 while having an active session.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionFromComposite(atg.repository.RepositoryItem)"><!-- --></A><H3>
getPromotionFromComposite</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getPromotionFromComposite</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</PRE>
<DL>
<DD>For composite promotion items we need to get the item from the promotions
 repository <br>
 since for example the promotion may have come from the profile repository
 which <br>
 could be composite.
 <p>
 See bugs COMMERCE-168557, COMMERCE-168558, COMMERCE-126830, COMMERCE-168127
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - RepositoryItem which may be a CompositeItem
<DT><B>Returns:</B><DD>RepositoryItem from the promotions repository or null if it wasn't
         found.</DL>
</DD>
</DL>
<HR>

<A NAME="isPromotionItem(java.lang.Object)"><!-- --></A><H3>
isPromotionItem</H3>
<PRE>
public boolean <B>isPromotionItem</B>(java.lang.Object&nbsp;pObj)
                        throws java.lang.IllegalArgumentException,
                               <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Method to determine if a passed in repository item or item descriptor is
 from a promotion. <br>
 The passed in object can be of any super type of the base promotion type.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pObj</CODE> - Object to check, RepositoryItem or RepositoryItemDescriptor
<DT><B>Returns:</B><DD>true if pObj is of a type which is a sub-type of the base promotion
         type
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if pObj is null or not a RepositoryItem or a
           RepositoryItemDescriptor
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if pObj is a RepositoryItem and it's type could not be accessed
           or the base promotion type could not be determined.</DL>
</DD>
</DL>
<HR>

<A NAME="isClosenessQualifierItem(java.lang.Object)"><!-- --></A><H3>
isClosenessQualifierItem</H3>
<PRE>
public boolean <B>isClosenessQualifierItem</B>(java.lang.Object&nbsp;pObj)
                                 throws java.lang.IllegalArgumentException,
                                        <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Method to determine if a passed in repository item or item descriptor is
 from a closeness qualifier. <br>
 The passed in object can be of any super type of the base closeness
 qualifier type.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pObj</CODE> - Object to check, RepositoryItem or RepositoryItemDescriptor
<DT><B>Returns:</B><DD>true if pObj is of a type which is a sub-type of the base closeness
         qualifier type
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if pObj is null or not a RepositoryItem or a
           RepositoryItemDescriptor
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if pObj is a RepositoryItem and it's type could not be accessed
           or the base closeness qualifier type could not be determined.</DL>
</DD>
</DL>
<HR>

<A NAME="isItemOfType(java.lang.Object, atg.repository.RepositoryItemDescriptor)"><!-- --></A><H3>
isItemOfType</H3>
<PRE>
public boolean <B>isItemOfType</B>(java.lang.Object&nbsp;pObj,
                            <A HREF="../../../atg/repository/RepositoryItemDescriptor.html" title="interface in atg.repository">RepositoryItemDescriptor</A>&nbsp;pBaseType)
                     throws java.lang.IllegalArgumentException,
                            <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Method to determine if a passed in repository item or item descriptor is of
 a base type. <br>
 The passed in object can be of any super type of the base type.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pObj</CODE> - Object to check, RepositoryItem or RepositoryItemDescriptor<DD><CODE>pBaseType</CODE> - RepositoryItemDescriptor for the base type
<DT><B>Returns:</B><DD>true if pObj is of a type which is a sub-type of the base type
<DT><B>Throws:</B>
<DD><CODE>java.lang.IllegalArgumentException</CODE> - if pBaseType is null or pObj is null or not a RepositoryItem or a
           RepositoryItemDescriptor
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if pObj is a RepositoryItem and it's type could not be determined</DL>
</DD>
</DL>
<HR>

<A NAME="checkPromotionExpiration(atg.repository.RepositoryItem, java.util.Date)"><!-- --></A><H3>
checkPromotionExpiration</H3>
<PRE>
public boolean <B>checkPromotionExpiration</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                        java.util.Date&nbsp;pNow)</PRE>
<DL>
<DD>Return true if the promotion or the promotionStatus has expired and should
 not be used in pricing.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - the promotion that should be verified<DD><CODE>pNow</CODE> - the current date
<DT><B>Returns:</B><DD>true if the promotion has expired, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="addAllPromotions(atg.repository.MutableRepositoryItem, java.util.Collection)"><!-- --></A><H3>
addAllPromotions</H3>
<PRE>
public void <B>addAllPromotions</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                             java.util.Collection&nbsp;pPromotions)</PRE>
<DL>
<DD>Adds all of the promotions in the collection to the user's activePromotion
 attribute value.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addAllPromotions(atg.repository.MutableRepositoryItem, java.util.Collection, java.lang.String)"><!-- --></A><H3>
addAllPromotions</H3>
<PRE>
public void <B>addAllPromotions</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                             java.util.Collection&nbsp;pPromotions,
                             java.lang.String&nbsp;pComment)</PRE>
<DL>
<DD>Adds all of the promotions in the collection to the user's activePromotion
 attribute value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile being modified<DD><CODE>pPromotion</CODE> - The promotion being added<DD><CODE>pComment</CODE> - And extra string describe this event.</DL>
</DD>
</DL>
<HR>

<A NAME="addPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
addPromotion</H3>
<PRE>
public boolean <B>addPromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</PRE>
<DL>
<DD>Adds the promotion to the user's activePromotion attribute value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile being modified<DD><CODE>pPromotion</CODE> - The promotion being added
<DT><B>Returns:</B><DD>true if the promotion was added</DL>
</DD>
</DL>
<HR>

<A NAME="addPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String)"><!-- --></A><H3>
addPromotion</H3>
<PRE>
public boolean <B>addPromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                            java.lang.String&nbsp;pComment)</PRE>
<DL>
<DD>Adds the promotion to the user's activePromotion attribute value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile being modified<DD><CODE>pPromotion</CODE> - The promotion being added<DD><CODE>pComment</CODE> - And extra string describe this event.
<DT><B>Returns:</B><DD>true if the promotion was added</DL>
</DD>
</DL>
<HR>

<A NAME="addPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String)"><!-- --></A><H3>
addPromotion</H3>
<PRE>
public boolean <B>addPromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                            java.lang.String&nbsp;pComment,
                            java.lang.String&nbsp;pSiteId)</PRE>
<DL>
<DD>Adds the promotion to the user's activePromotion attribute value.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile being modified<DD><CODE>pPromotion</CODE> - The promotion being added<DD><CODE>pComment</CODE> - And extra string describe this event.<DD><CODE>pSiteId</CODE> - site with which the promotion is associated
<DT><B>Returns:</B><DD>true if the promotion was added</DL>
</DD>
</DL>
<HR>

<A NAME="lookupPromotion(java.lang.String)"><!-- --></A><H3>
lookupPromotion</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>lookupPromotion</B>(java.lang.String&nbsp;pPromotionId)
                               throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Does a simple lookup to return the promotion repository item for the given
 id from the repository.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotionId</CODE> - String repository id
<DT><B>Returns:</B><DD>RepositoryItem for the given id
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if the id is not found in the promotion repository</DL>
</DD>
</DL>
<HR>

<A NAME="grantPromotion(java.lang.String, java.lang.String)"><!-- --></A><H3>
grantPromotion</H3>
<PRE>
public void <B>grantPromotion</B>(java.lang.String&nbsp;pProfileId,
                           java.lang.String&nbsp;pPromotionId)
                    throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Adds the given promotion to the user's "activePromotions" list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileId</CODE> - <DD><CODE>pPromotionId</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - Thrown if the promotion can't be added for some reason (e.g. the
           promotion is expired, the user already had the promotion)</DL>
</DD>
</DL>
<HR>

<A NAME="grantPromotion(java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
grantPromotion</H3>
<PRE>
public void <B>grantPromotion</B>(java.lang.String&nbsp;pProfileId,
                           java.lang.String&nbsp;pPromotionId,
                           java.lang.String&nbsp;pComment)
                    throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Adds the given promotion to the user's "activePromotions" list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileId</CODE> - The profile gaining the promotion<DD><CODE>pPromotionId</CODE> - The promotion being added<DD><CODE>pComment</CODE> - And extra string describe this event.
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - Thrown if the promotion can't be added for some reason (e.g. the
           promotion is expired, the user already had the promotion)</DL>
</DD>
</DL>
<HR>

<A NAME="grantPromotion(java.lang.String, java.lang.String, java.lang.String, java.lang.String)"><!-- --></A><H3>
grantPromotion</H3>
<PRE>
public void <B>grantPromotion</B>(java.lang.String&nbsp;pProfileId,
                           java.lang.String&nbsp;pPromotionId,
                           java.lang.String&nbsp;pComment,
                           java.lang.String&nbsp;pSiteId)
                    throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Adds the given promotion to the user's "activePromotions" list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileId</CODE> - The profile gaining the promotion<DD><CODE>pPromotionId</CODE> - The promotion being added<DD><CODE>pComment</CODE> - And extra string describe this event.<DD><CODE>pSiteId</CODE> - The site with which the promotion is associated
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - Thrown if the promotion can't be added for some reason (e.g. the
           promotion is expired, the user already had the promotion)</DL>
</DD>
</DL>
<HR>

<A NAME="grantPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
grantPromotion</H3>
<PRE>
public void <B>grantPromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)
                    throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Adds the given promotion to the user's "activePromotions" list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - <DD><CODE>pPromotion</CODE> - 
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - Thrown if the promotion can't be added for some reason (e.g. the
           promotion is expired, the user already had the promotion)</DL>
</DD>
</DL>
<HR>

<A NAME="grantPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String)"><!-- --></A><H3>
grantPromotion</H3>
<PRE>
public void <B>grantPromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                           java.lang.String&nbsp;pComment)
                    throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Adds the given promotion to the user's "activePromotions" list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile gaining the promotion<DD><CODE>pPromotion</CODE> - The promotion being added<DD><CODE>pComment</CODE> - And extra string describe this event.
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - Thrown if the promotion can't be added for some reason (e.g. the
           promotion is expired, the user already had the promotion)</DL>
</DD>
</DL>
<HR>

<A NAME="grantPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String)"><!-- --></A><H3>
grantPromotion</H3>
<PRE>
public void <B>grantPromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                           java.lang.String&nbsp;pComment,
                           java.lang.String&nbsp;pSiteId)
                    throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Adds the given promotion to the user's "activePromotions" list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile gaining the promotion<DD><CODE>pPromotion</CODE> - The promotion being added<DD><CODE>pComment</CODE> - And extra string describe this event.<DD><CODE>pSiteId</CODE> - The site with which the promotion is associated
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - Thrown if the promotion can't be added for some reason (e.g. the
           promotion is expired, the user already had the promotion)</DL>
</DD>
</DL>
<HR>

<A NAME="grantPromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String, atg.repository.RepositoryItem)"><!-- --></A><H3>
grantPromotion</H3>
<PRE>
public void <B>grantPromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                           java.lang.String&nbsp;pComment,
                           java.lang.String&nbsp;pSiteId,
                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon)
                    throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Adds the given promotion to the user's "activePromotions" list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile gaining the promotion<DD><CODE>pPromotion</CODE> - The promotion being added<DD><CODE>pComment</CODE> - And extra string describe this event.<DD><CODE>pSiteId</CODE> - The site with which the promotion is associated<DD><CODE>pCoupon</CODE> - the coupon that was claimed that contained the promotion to be
          granted
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - Thrown if the promotion can't be added for some reason (e.g. the
           promotion is expired, the user already had the promotion)</DL>
</DD>
</DL>
<HR>

<A NAME="checkPromotionGrant(atg.repository.RepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
checkPromotionGrant</H3>
<PRE>
public boolean <B>checkPromotionGrant</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                   <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)
                            throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Will throw appropriate exception or return true if it's OK to grant the
 promotion to the passed in profile
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile gaining the promotion<DD><CODE>pPromotion</CODE> - The promotion being added
<DT><B>Returns:</B><DD>true indicates that no checks that may have prevented the grant are
         applicable
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkPromotionGrant(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String[])"><!-- --></A><H3>
checkPromotionGrant</H3>
<PRE>
public boolean <B>checkPromotionGrant</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                   <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                   java.lang.String[]&nbsp;pCheckProps)
                            throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Will throw appropriate exception or return true if it's OK to grant the
 promotion to the passed in profile
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile gaining the promotion<DD><CODE>pPromotion</CODE> - The promotion being added<DD><CODE>pCheckProps</CODE> - Array of property names in which to look for granted promotions in
          the profile
<DT><B>Returns:</B><DD>true indicates that no checks that may have prevented the grant are
         applicable
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkPromotionGrant(atg.repository.RepositoryItem, atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String[])"><!-- --></A><H3>
checkPromotionGrant</H3>
<PRE>
public boolean <B>checkPromotionGrant</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                   <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                   <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon,
                                   java.lang.String[]&nbsp;pCheckProps)
                            throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Will throw appropriate exception or return true if it's OK to grant the
 promotion to the passed in profile
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The profile gaining the promotion<DD><CODE>pPromotion</CODE> - The promotion being added<DD><CODE>pCoupon</CODE> - The coupon that caused the promotion grant<DD><CODE>pCheckProps</CODE> - Array of property names in which to look for granted promotions in
          the profile
<DT><B>Returns:</B><DD>true indicates that no checks that may have prevented the grant are
         applicable
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPromoStatuses(atg.repository.RepositoryItem, java.lang.String[])"><!-- --></A><H3>
getPromoStatuses</H3>
<PRE>
public java.util.Collection <B>getPromoStatuses</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                             java.lang.String[]&nbsp;pCheckProps)</PRE>
<DL>
<DD>Get all of the promoStatuses for the profile
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - <DD><CODE>pCheckProps</CODE> - 
<DT><B>Returns:</B><DD></DL>
</DD>
</DL>
<HR>

<A NAME="sendPromotionGrantedEvent(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
sendPromotionGrantedEvent</H3>
<PRE>
public void <B>sendPromotionGrantedEvent</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</PRE>
<DL>
<DD>Sends an PromotionGranted Event through the PromotionGrantedMessageSender
 if FirePromotionGrantedEvent is set to true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user's profile to record with the event<DD><CODE>pPromotion</CODE> - pPromotion the promotion to record with the event</DL>
</DD>
</DL>
<HR>

<A NAME="sendPromotionGrantedEvent(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String)"><!-- --></A><H3>
sendPromotionGrantedEvent</H3>
<PRE>
public void <B>sendPromotionGrantedEvent</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                      java.lang.String&nbsp;pComment)</PRE>
<DL>
<DD>Sends an PromotionGranted Event through the PromotionGrantedMessageSender
 if FirePromotionGrantedEvent is set to true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user's profile to record with the event<DD><CODE>pPromotion</CODE> - pPromotion the promotion to record with the event<DD><CODE>pComment</CODE> - An extra comment describing the eveng</DL>
</DD>
</DL>
<HR>

<A NAME="sendPromotionGrantedEvent(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String)"><!-- --></A><H3>
sendPromotionGrantedEvent</H3>
<PRE>
public void <B>sendPromotionGrantedEvent</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                      java.lang.String&nbsp;pComment,
                                      java.lang.String&nbsp;pSiteId)</PRE>
<DL>
<DD>Sends an PromotionGranted Event through the PromotionGrantedMessageSender
 if FirePromotionGrantedEvent is set to true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user's profile to record with the event<DD><CODE>pPromotion</CODE> - pPromotion the promotion to record with the event<DD><CODE>pComment</CODE> - An extra comment describing the event<DD><CODE>pSiteId</CODE> - site id associated with the event</DL>
</DD>
</DL>
<HR>

<A NAME="sendPromotionRevokedEvent(atg.repository.RepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
sendPromotionRevokedEvent</H3>
<PRE>
public void <B>sendPromotionRevokedEvent</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</PRE>
<DL>
<DD>Sends a PromotionRevoked Event through the PromotionRevokedMessageSender if
 FirePromotionRevokedEvent is set to true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user's profile to record with the event<DD><CODE>pPromotion</CODE> - pPromotion the promotion to record with the event</DL>
</DD>
</DL>
<HR>

<A NAME="sendPromotionRevokedEvent(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String)"><!-- --></A><H3>
sendPromotionRevokedEvent</H3>
<PRE>
public void <B>sendPromotionRevokedEvent</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                      java.lang.String&nbsp;pComment)</PRE>
<DL>
<DD>Sends a PromotionRevoked Event through the PromotionRevokedMessageSender if
 FirePromotionRevokedEvent is set to true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user's profile to record with the event<DD><CODE>pPromotion</CODE> - pPromotion the promotion to record with the event<DD><CODE>pComment</CODE> - An extra comment describing the event</DL>
</DD>
</DL>
<HR>

<A NAME="sendPromotionRevokedEvent(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.lang.String)"><!-- --></A><H3>
sendPromotionRevokedEvent</H3>
<PRE>
public void <B>sendPromotionRevokedEvent</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                      java.lang.String&nbsp;pComment,
                                      java.lang.String&nbsp;pSiteId)</PRE>
<DL>
<DD>Sends a PromotionRevoked Event through the PromotionRevokedMessageSender if
 FirePromotionRevokedEvent is set to true.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user's profile to record with the event<DD><CODE>pPromotion</CODE> - pPromotion the promotion to record with the event<DD><CODE>pComment</CODE> - An extra comment describing the event<DD><CODE>pSiteId</CODE> - site id associated with the event</DL>
</DD>
</DL>
<HR>

<A NAME="isPromotionInPromotionStatuses(atg.repository.RepositoryItem, java.util.Collection)"><!-- --></A><H3>
isPromotionInPromotionStatuses</H3>
<PRE>
public boolean <B>isPromotionInPromotionStatuses</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                              java.util.Collection&nbsp;pPromotionStatuses)</PRE>
<DL>
<DD>This method takes a promotion and a collection of promotion statuses, and
 returns a boolean indicating if the given promotion is represented in the
 status collection. This method is called when granting a promotion to
 determine if the promotion already exists among the user's active
 promotions
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addCouponToExistingPromoStatus(java.util.Collection, atg.repository.RepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
addCouponToExistingPromoStatus</H3>
<PRE>
public void <B>addCouponToExistingPromoStatus</B>(java.util.Collection&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPromotionStatuses,
                                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCoupon)</PRE>
<DL>
<DD>This method adds a coupon to an existing promostatus if it is not already
 in the list.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - promotion that is being granted<DD><CODE>pCoupon</CODE> - coupon that caused the promotion grant<DD><CODE>pPromotionStatuses</CODE> - collection of promo statuses to check for promotion</DL>
</DD>
</DL>
<HR>

<A NAME="consumePromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
consumePromotion</H3>
<PRE>
public boolean <B>consumePromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                                <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</PRE>
<DL>
<DD>This method moves a promotion from the user's activePromotions list to
 their usedPromotions list. It does this only for promotions marked as
 "use once".
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user's profile<DD><CODE>pPromotion</CODE> - the promotion to consume
<DT><B>Returns:</B><DD>true if the promotion was moved, false if the promotion is not
         found.</DL>
</DD>
</DL>
<HR>

<A NAME="removePromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, boolean)"><!-- --></A><H3>
removePromotion</H3>
<PRE>
public boolean <B>removePromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               boolean&nbsp;pRemoveAll)</PRE>
<DL>
<DD>Removes the passed in promotion pPromotion from the pProfile's list of
 active promotions. If the pRemoveAll flag is set then all instances of this
 promotion are removed, otherwise the first one of it's kind is removed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - - the profile of the user from whom the promotion will be taken
          out<DD><CODE>pPromotion</CODE> - - the promotion to be removed<DD><CODE>pRemoveAll</CODE> - - true if all instances of this promotion should be removed, false
          otherwise
<DT><B>Returns:</B><DD>true if one or more instances of the promotion was removed from the
         list of active promotions.</DL>
</DD>
</DL>
<HR>

<A NAME="revokePromotion(java.lang.String, java.lang.String, boolean)"><!-- --></A><H3>
revokePromotion</H3>
<PRE>
public boolean <B>revokePromotion</B>(java.lang.String&nbsp;pProfileId,
                               java.lang.String&nbsp;pPromotionId,
                               boolean&nbsp;pRemoveAllInstances)
                        throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Removes the passed in promotion pPromotion from the pProfile's list of
 active promotions. If the pRemoveAll flag is set then all instances of this
 promotion are removed, otherwise the first one of it's kind is removed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileId</CODE> - - the profile of the user from whom the promotion will be taken
          out<DD><CODE>pPromotionId</CODE> - - the promotion to be removed<DD><CODE>pRemoveAll</CODE> - - true if all instances of this promotion should be removed, false
          otherwise
<DT><B>Returns:</B><DD>true if the promotion was removed, false if nothing happened
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - if the promotion could not be removed.</DL>
</DD>
</DL>
<HR>

<A NAME="revokePromotion(atg.repository.MutableRepositoryItem, atg.repository.RepositoryItem, boolean)"><!-- --></A><H3>
revokePromotion</H3>
<PRE>
public boolean <B>revokePromotion</B>(<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pProfile,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               boolean&nbsp;pRemoveAll)
                        throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>Removes the passed in promotion pPromotion from the pProfile's list of
 active promotions. If the pRemoveAll flag is set then all instances of this
 promotion are removed, otherwise the first one of it's kind is removed.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - - the profile of the user from whom the promotion will be taken
          out<DD><CODE>pPromotion</CODE> - - the promotion to be removed<DD><CODE>pRemoveAll</CODE> - - true if all instances of this promotion should be removed, false
          otherwise
<DT><B>Returns:</B><DD>true if the promotion was removed, false if nothing happened
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE> - if the promotion could not be removed.</DL>
</DD>
</DL>
<HR>

<A NAME="getOrderPromotions(atg.commerce.order.Order, java.util.Collection)"><!-- --></A><H3>
getOrderPromotions</H3>
<PRE>
public void <B>getOrderPromotions</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                               java.util.Collection&nbsp;pPromotions)</PRE>
<DL>
<DD>Returns the promotions used in the order.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to</DL>
</DD>
</DL>
<HR>

<A NAME="getTaxPromotions(atg.commerce.order.Order, java.util.Collection)"><!-- --></A><H3>
getTaxPromotions</H3>
<PRE>
public void <B>getTaxPromotions</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                             java.util.Collection&nbsp;pPromotions)</PRE>
<DL>
<DD>Returns the promotions used in the tax calculation.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to</DL>
</DD>
</DL>
<HR>

<A NAME="getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection)"><!-- --></A><H3>
getItemPromotions</H3>
<PRE>
public void <B>getItemPromotions</B>(<A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                              java.util.Collection&nbsp;pPromotions)</PRE>
<DL>
<DD>Returns the promotions used in the CommerceItem.

 If calling this method for multiple items,
 use <A HREF="../../../atg/commerce/promotion/PromotionTools.html#getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection, java.util.Collection, boolean)"><CODE>getItemPromotions(CommerceItem, Collection, Collection, boolean)</CODE></A> instead as the
 passed parameter, pPromotionInstancesAdded tracks each unique promotion instance.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - the CommerceItem that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to</DL>
</DD>
</DL>
<HR>

<A NAME="getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection)"><!-- --></A><H3>
getShippingPromotions</H3>
<PRE>
public void <B>getShippingPromotions</B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pGroup,
                                  java.util.Collection&nbsp;pPromotions)</PRE>
<DL>
<DD>Returns the promotions used in the ShippingGroup.

 If calling this method for multiple shipping groups,
 use <A HREF="../../../atg/commerce/promotion/PromotionTools.html#getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection, java.util.Collection, boolean)"><CODE>getShippingPromotions(ShippingGroup, Collection, Collection, boolean)</CODE></A> instead as the
 passed parameter, pPromotionInstancesAdded tracks each unique promotion instance.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pGroup</CODE> - the ShippingGroup that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to</DL>
</DD>
</DL>
<HR>

<A NAME="getOrderPromotions(atg.commerce.order.Order, java.util.Collection, java.util.Collection, java.util.Collection, java.util.Collection)"><!-- --></A><H3>
getOrderPromotions</H3>
<PRE>
public void <B>getOrderPromotions</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                               java.util.Collection&nbsp;pOrderPromotions,
                               java.util.Collection&nbsp;pTaxPromotions,
                               java.util.Collection&nbsp;pItemPromotions,
                               java.util.Collection&nbsp;pShippingPromotions)</PRE>
<DL>
<DD>This method retrieves all the promotions in an order and adds them to their
 respective collection.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order to retrieve the promotions from<DD><CODE>pOrderPromotions</CODE> - the collection to add the order level promotions to<DD><CODE>pTaxPromotions</CODE> - the collection to add the tax level promotions to<DD><CODE>pItemPromotions</CODE> - the collection to add the item level promotions to<DD><CODE>pShippingPromotions</CODE> - the collection to add the shipping level promotions to</DL>
</DD>
</DL>
<HR>

<A NAME="getOrderPromotions(atg.commerce.order.Order, java.util.Collection, boolean)"><!-- --></A><H3>
getOrderPromotions</H3>
<PRE>
public void <B>getOrderPromotions</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                               java.util.Collection&nbsp;pPromotions,
                               boolean&nbsp;pGetAdjustments)</PRE>
<DL>
<DD>Returns the promotions used in the order. If <code>pGetAdjustments</code>
 is true then <code>pPromotions</code> is populated with each
 PricingAdjustment associated with a promotion. If it is false, then
 <code>pPromotions</code> is populated with the actual pricing model
 repository items.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to<DD><CODE>pGetAdjustments</CODE> - If true, get the PricingAdjustments, if false get the promotions</DL>
</DD>
</DL>
<HR>

<A NAME="getTaxPromotions(atg.commerce.order.Order, java.util.Collection, boolean)"><!-- --></A><H3>
getTaxPromotions</H3>
<PRE>
public void <B>getTaxPromotions</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                             java.util.Collection&nbsp;pPromotions,
                             boolean&nbsp;pGetAdjustments)</PRE>
<DL>
<DD>Returns the promotions used in the tax calculation. If
 <code>pGetAdjustments</code> is true then <code>pPromotions</code> is
 populated with each PricingAdjustment associated with a promotion. If it is
 false, then <code>pPromotions</code> is populated with the actual pricing
 model repository items.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to<DD><CODE>pGetAdjustments</CODE> - If true, get the PricingAdjustments, if false get the promotions</DL>
</DD>
</DL>
<HR>

<A NAME="getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection, boolean)"><!-- --></A><H3>
getItemPromotions</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>public void <B>getItemPromotions</B>(<A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                                         java.util.Collection&nbsp;pPromotions,
                                         boolean&nbsp;pGetAdjustments)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>as of 10.2; use <A HREF="../../../atg/commerce/promotion/PromotionTools.html#getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection, java.util.Collection, boolean)"><CODE>getItemPromotions(CommerceItem, Collection, Collection, boolean)</CODE></A> instead</I>
<P>
<DD>Returns the promotions used in the CommerceItem. If
 <code>pGetAdjustments</code> is true then <code>pPromotions</code> is
 populated with each PricingAdjustment associated with a promotion. If it is
 false, then <code>pPromotions</code> is populated with the actual pricing
 model repository items.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - the CommerceItem that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to<DD><CODE>pGetAdjustments</CODE> - If true, get the PricingAdjustments, if false get the promotions</DL>
</DD>
</DL>
<HR>

<A NAME="getItemPromotions(atg.commerce.order.CommerceItem, java.util.Collection, java.util.Collection, boolean)"><!-- --></A><H3>
getItemPromotions</H3>
<PRE>
public void <B>getItemPromotions</B>(<A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                              java.util.Collection&nbsp;pPromotions,
                              java.util.Collection&nbsp;pPromotionInstancesAdded,
                              boolean&nbsp;pGetAdjustments)</PRE>
<DL>
<DD>Returns the promotions used in the CommerceItem. If
 <code>pGetAdjustments</code> is true then <code>pPromotions</code> is
 populated with each PricingAdjustment associated with a promotion. If it is
 false, then <code>pPromotions</code> is populated with the actual pricing
 model repository items.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - the CommerceItem that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to<DD><CODE>pPromotionInstancesAdded</CODE> - a collection tracking the unique promotion instances added to pPromotions<DD><CODE>pGetAdjustments</CODE> - If true, get the PricingAdjustments, if false get the promotions</DL>
</DD>
</DL>
<HR>

<A NAME="getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection, boolean)"><!-- --></A><H3>
getShippingPromotions</H3>
<PRE>
<FONT SIZE="-1">@Deprecated
</FONT>public void <B>getShippingPromotions</B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pGroup,
                                             java.util.Collection&nbsp;pPromotions,
                                             boolean&nbsp;pGetAdjustments)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>as of 10.2; use <A HREF="../../../atg/commerce/promotion/PromotionTools.html#getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection, java.util.Collection, boolean)"><CODE>getShippingPromotions(ShippingGroup, Collection, Collection, boolean)</CODE></A> instead</I>
<P>
<DD>Returns the promotions used in the ShippingGroup. If
 <code>pGetAdjustments</code> is true then <code>pPromotions</code> is
 populated with each PricingAdjustment associated with a promotion. If it is
 false, then <code>pPromotions</code> is populated with the actual pricing
 model repository items.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pGroup</CODE> - the ShippingGroup that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to<DD><CODE>pGetAdjustments</CODE> - If true, get the PricingAdjustments, if false get the promotions</DL>
</DD>
</DL>
<HR>

<A NAME="getShippingPromotions(atg.commerce.order.ShippingGroup, java.util.Collection, java.util.Collection, boolean)"><!-- --></A><H3>
getShippingPromotions</H3>
<PRE>
public void <B>getShippingPromotions</B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pGroup,
                                  java.util.Collection&nbsp;pPromotions,
                                  java.util.Collection&nbsp;pPromotionInstancesAdded,
                                  boolean&nbsp;pGetAdjustments)</PRE>
<DL>
<DD>Returns the promotions used in the ShippingGroup. If
 <code>pGetAdjustments</code> is true then <code>pPromotions</code> is
 populated with each PricingAdjustment associated with a promotion. If it is
 false, then <code>pPromotions</code> is populated with the actual pricing
 model repository items.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pGroup</CODE> - the ShippingGroup that the promotions are in<DD><CODE>pPromotions</CODE> - a collection that the promotions are to be added to<DD><CODE>pPromotionInstancesAdded</CODE> - a collection tracking the unique promotion instances added to pPromotions<DD><CODE>pGetAdjustments</CODE> - If true, get the PricingAdjustments, if false get the promotions</DL>
</DD>
</DL>
<HR>

<A NAME="getOrderPromotions(atg.commerce.order.Order, java.util.Collection, java.util.Collection, java.util.Collection, java.util.Collection, boolean)"><!-- --></A><H3>
getOrderPromotions</H3>
<PRE>
public void <B>getOrderPromotions</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                               java.util.Collection&nbsp;pOrderPromotions,
                               java.util.Collection&nbsp;pTaxPromotions,
                               java.util.Collection&nbsp;pItemPromotions,
                               java.util.Collection&nbsp;pShippingPromotions,
                               boolean&nbsp;pGetAdjustments)</PRE>
<DL>
<DD>This method retrieves all the promotions in an order and adds them to their
 respective collection. If <code>pGetAdjustments</code> is true then each
 promotion collection is populated with each PricingAdjustment associated
 with a promotion. If it is false, then each promotion collection is
 populated with the actual pricing model repository items.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order to retrieve the promotions from<DD><CODE>pOrderPromotions</CODE> - the collection to add the order level promotions to<DD><CODE>pTaxPromotions</CODE> - the collection to add the tax level promotions to<DD><CODE>pItemPromotions</CODE> - the collection to add the item level promotions to<DD><CODE>pShippingPromotions</CODE> - the collection to add the shipping level promotions to<DD><CODE>pGetAdjustments</CODE> - If true, get the PricingAdjustments, if false get the promotions</DL>
</DD>
</DL>
<HR>

<A NAME="expirePromotion(atg.repository.RepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
expirePromotion</H3>
<PRE>
public void <B>expirePromotion</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>This method will remove the passed in promotion from the Profile.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - the promotion which has expired<DD><CODE>pProfile</CODE> - the profile for which a promotion has expired</DL>
</DD>
</DL>
<HR>

<A NAME="convertPromoStatusToPromo(java.util.Collection)"><!-- --></A><H3>
convertPromoStatusToPromo</H3>
<PRE>
public java.util.Collection <B>convertPromoStatusToPromo</B>(java.util.Collection&nbsp;pPromoStatuses)</PRE>
<DL>
<DD>This method returns a collection of propmotions from the passed in
 collection of promotion statuses.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromoStatuses</CODE> - 
<DT><B>Returns:</B><DD>collection of promotions</DL>
</DD>
</DL>
<HR>

<A NAME="convertSinglePromoStatusToPromo(atg.repository.RepositoryItem)"><!-- --></A><H3>
convertSinglePromoStatusToPromo</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>convertSinglePromoStatusToPromo</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromoStatus)</PRE>
<DL>
<DD>This method returns the single promotion from a promotion status
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromoStatus</CODE> - - promoStatus to get the promotion from
<DT><B>Returns:</B><DD>the promotion in the promoStatus</DL>
</DD>
</DL>
<HR>

<A NAME="scenarioAddedItemToOrder(atg.commerce.order.Order, atg.commerce.order.CommerceItem, long)"><!-- --></A><H3>
scenarioAddedItemToOrder</H3>
<PRE>
public boolean <B>scenarioAddedItemToOrder</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                        <A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                                        long&nbsp;pQuantity)</PRE>
<DL>
<DD>This method is called by the AddItemToOrder scenario action. It will create
 a ScenarioAddedItemToOrder scenario event and send it. If
 <code>sendEventOnAddItem</code> is false, then nothing happens and true is
 returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - The order that was modified<DD><CODE>pItem</CODE> - The item that was added<DD><CODE>pQuantity</CODE> - The quantity of pItem added to pOrder
<DT><B>Returns:</B><DD>false if there were errors, true otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="scenarioAddedItemToOrder(atg.commerce.order.Order, atg.commerce.order.CommerceItem, long, java.lang.String)"><!-- --></A><H3>
scenarioAddedItemToOrder</H3>
<PRE>
public boolean <B>scenarioAddedItemToOrder</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                        <A HREF="../../../atg/commerce/order/CommerceItem.html" title="interface in atg.commerce.order">CommerceItem</A>&nbsp;pItem,
                                        long&nbsp;pQuantity,
                                        java.lang.String&nbsp;pSiteId)</PRE>
<DL>
<DD>This method is called by the AddItemToOrder scenario action. It will create
 a ScenarioAddedItemToOrder scenario event and send it. If
 <code>sendEventOnAddItem</code> is false, then nothing happens and true is
 returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - The order that was modified<DD><CODE>pItem</CODE> - The item that was added<DD><CODE>pQuantity</CODE> - The quantity of pItem added to pOrder<DD><CODE>pSiteId</CODE> - The site ID associated with a scenario event
<DT><B>Returns:</B><DD>false if there were errors, true otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getProfile(java.lang.String)"><!-- --></A><H3>
getProfile</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getProfile</B>(java.lang.String&nbsp;pProfileId)
                          throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Gets the profile repository item with the given id
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileId</CODE> - the id of the profile to retrieve
<DT><B>Returns:</B><DD>the profie repository item
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error while retrieving the profile</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionsAsXML(java.lang.String)"><!-- --></A><H3>
getPromotionsAsXML</H3>
<PRE>
public java.lang.String[] <B>getPromotionsAsXML</B>(java.lang.String&nbsp;pProfileId)
                                      throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>This method will look up the given profile, and for each available
 promotion, will return an xml representation of it using the GetService and
 the <code>mappingFileName</code>. Both active promotions in the profile and
 global promotions are returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileId</CODE> - The id of the user whose promotions are returned
<DT><B>Returns:</B><DD>An XML representation of each active promotion in the profile
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPromotions(java.lang.String)"><!-- --></A><H3>
getPromotions</H3>
<PRE>
public java.util.Collection <B>getPromotions</B>(java.lang.String&nbsp;pProfileId)
                                   throws atg.commerce.promotion.PromotionException</PRE>
<DL>
<DD>This method will look up the given profile and return all of the available
 promotions for that user. This will include active promotions in the
 profile, as well as global promotions.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileId</CODE> - The id of the user whose promotions are returned
<DT><B>Returns:</B><DD>A collection of promotion items
<DT><B>Throws:</B>
<DD><CODE>PromotionException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="calculatePromotionsForOrder(atg.commerce.order.Order)"><!-- --></A><H3>
calculatePromotionsForOrder</H3>
<PRE>
public java.util.Map <B>calculatePromotionsForOrder</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)</PRE>
<DL>
<DD>This method will return a map containing the count of promotions contained
 in the given order, and the total value of those promotions
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order whose promotions we would like to calculate.</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionCount(atg.commerce.order.Order, atg.repository.RepositoryItem)"><!-- --></A><H3>
getPromotionCount</H3>
<PRE>
public int <B>getPromotionCount</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</PRE>
<DL>
<DD>Returns the number of times a promotion appears in the order.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order<DD><CODE>pPromotion</CODE> - the promotion
<DT><B>Returns:</B><DD>number of occurrences</DL>
</DD>
</DL>
<HR>

<A NAME="createPromotionCountMap(atg.commerce.order.Order)"><!-- --></A><H3>
createPromotionCountMap</H3>
<PRE>
public java.util.Map <B>createPromotionCountMap</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)</PRE>
<DL>
<DD>Creates a Map of promotion id to the use count in the order.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="isUsable(atg.repository.RepositoryItem)"><!-- --></A><H3>
isUsable</H3>
<PRE>
public boolean <B>isUsable</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</PRE>
<DL>
<DD>This method determines if the given promotion is usable based on the date
 allowed on the promotion compared to the current date.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - the promotion that should be verified
<DT><B>Returns:</B><DD>true if the promotion should be added to the list of promotions
         which can be used for pricing</DL>
</DD>
</DL>
<HR>

<A NAME="isUsable(atg.repository.RepositoryItem, java.util.Date)"><!-- --></A><H3>
isUsable</H3>
<PRE>
public boolean <B>isUsable</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                        java.util.Date&nbsp;pNow)</PRE>
<DL>
<DD>This method determines if the given promotion is usable based on the date
 allowed on the promotion compared to the passed in date.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - the promotion that should be verified<DD><CODE>pNow</CODE> - the current date
<DT><B>Returns:</B><DD>true if the promotion should be added to the list of promotions
         which can be used for pricing</DL>
</DD>
</DL>
<HR>

<A NAME="getPMDLVersion(atg.repository.RepositoryItem)"><!-- --></A><H3>
getPMDLVersion</H3>
<PRE>
public int <B>getPMDLVersion</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel)</PRE>
<DL>
<DD>Utility method to get the pmdl version for a given promotion.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - Promotion RepositoryItem to check
<DT><B>Returns:</B><DD>int pmdl version 1 = old type, 2+ = new type.</DL>
</DD>
</DL>
<HR>

<A NAME="getQualifierService(atg.repository.RepositoryItem, java.util.Map, atg.commerce.pricing.Qualifier)"><!-- --></A><H3>
getQualifierService</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A> <B>getQualifierService</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                     java.util.Map&nbsp;pExtraParameters,
                                     <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A>&nbsp;pDefaultQualifier)</PRE>
<DL>
<DD>Gets the Qualifier service to use for the given promotion item. First
 checks the extra parameters map for a Qualifier with key
 EXTRA_PARAM_QUALIFIERSERVICE. Then checks the given promotion item
 'qualifierService' property. If this is not null then it tries to resolve
 it into a Qualifier to use. If we still don't have a Qualifier then the
 passed in default qualifier service is used. If this is also null then the
 Qualifier service this service is configured with is used.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - RepositoryItem of the promotion. May be null.<DD><CODE>pExtraParameters</CODE> - Map of optional extra parameters. May be null.<DD><CODE>pDefaultQualifier</CODE> - Qualifier to use if promotion item 'qualifierService' property is
          null. May be null.
<DT><B>Returns:</B><DD>Qualifier to use.</DL>
</DD>
</DL>
<HR>

<A NAME="resolveQualifierService(java.lang.String)"><!-- --></A><H3>
resolveQualifierService</H3>
<PRE>
protected <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A> <B>resolveQualifierService</B>(java.lang.String&nbsp;pQualifierPath)
                                     throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Resolves the given String nucleus path to a Qualifier service object
 reference. Caches the service references for efficiency.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pQualifierPath</CODE> - String nucleus path to resolve.
<DT><B>Returns:</B><DD>Qualifier service
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if the qualifier service could not be resolved</DL>
</DD>
</DL>
<HR>

<A NAME="createPromotionValueMap(atg.commerce.order.Order, boolean, boolean, boolean, boolean)"><!-- --></A><H3>
createPromotionValueMap</H3>
<PRE>
public java.util.Map <B>createPromotionValueMap</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                             boolean&nbsp;pIncludeOrderPromos,
                                             boolean&nbsp;pIncludeItemPromos,
                                             boolean&nbsp;pIncludeShippingPromos,
                                             boolean&nbsp;pIncludeTaxPromos)</PRE>
<DL>
<DD>Creates a map of promotion id to adjustment value for each promotion
 applied to the given order.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - <DD><CODE>pIncludeOrderPromos</CODE> - if true, the order promotions are included in the Map<DD><CODE>pIncludeItemPromos</CODE> - if true, the item promotions are included in the Map<DD><CODE>pIncludeShippingPromos</CODE> - if true, the shipping promotions are included in the Map<DD><CODE>pIncludeTaxPromos</CODE> - if true, the tax promotions are included in the Map
<DT><B>Returns:</B><DD>Map of promotion id to total adjustment value</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/promotion/PromotionServlet.html" title="class in atg.commerce.promotion"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../atg/commerce/promotion/PromotionUpsellProductTargeter.html" title="class in atg.commerce.promotion"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?atg/commerce/promotion/PromotionTools.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PromotionTools.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
