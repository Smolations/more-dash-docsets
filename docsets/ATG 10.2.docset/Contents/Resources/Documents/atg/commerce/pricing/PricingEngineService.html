<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_24) on Mon Apr 01 21:56:54 EDT 2013 -->
<TITLE>
PricingEngineService (ATG Java API)
</TITLE>

<META NAME="date" CONTENT="2013-04-01">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="PricingEngineService (ATG Java API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/pricing/PricingEngine.html" title="interface in atg.commerce.pricing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../atg/commerce/pricing/PricingEngineService.EmptyItemPriceInfo.html" title="class in atg.commerce.pricing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?atg/commerce/pricing/PricingEngineService.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PricingEngineService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
atg.commerce.pricing</FONT>
<BR>
Class PricingEngineService</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html" title="class in atg.nucleus.logging">atg.nucleus.logging.VariableArgumentApplicationLoggingImpl</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">atg.nucleus.GenericService</A>
          <IMG SRC="../../../resources/inherit.gif" ALT="extended by "><B>atg.commerce.pricing.PricingEngineService</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>atg.naming.AbsoluteNameable, <A HREF="../../../atg/naming/NameContextBindingListener.html" title="interface in atg.naming">NameContextBindingListener</A>, <A HREF="../../../atg/naming/NameContextElement.html" title="interface in atg.naming">NameContextElement</A>, atg.naming.NameContextParentable, <A HREF="../../../atg/naming/NameResolver.html" title="interface in atg.naming">NameResolver</A>, <A HREF="../../../atg/nucleus/AdminableService.html" title="interface in atg.nucleus">AdminableService</A>, atg.nucleus.Configured, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A>, atg.nucleus.logging.ApplicationLoggingSender, atg.nucleus.logging.TraceApplicationLogging, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLogging.html" title="interface in atg.nucleus.logging">VariableArgumentApplicationLogging</A>, <A HREF="../../../atg/nucleus/naming/ComponentNameResolver.html" title="interface in atg.nucleus.naming">ComponentNameResolver</A>, <A HREF="../../../atg/nucleus/Service.html" title="interface in atg.nucleus">Service</A>, <A HREF="../../../atg/nucleus/ServiceListener.html" title="interface in atg.nucleus">ServiceListener</A>, <A HREF="../../../atg/service/scheduler/Schedulable.html" title="interface in atg.service.scheduler">Schedulable</A>, java.util.EventListener</DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../atg/commerce/pricing/ItemPricingEngineImpl.html" title="class in atg.commerce.pricing">ItemPricingEngineImpl</A>, <A HREF="../../../atg/commerce/pricing/OrderPricingEngineImpl.html" title="class in atg.commerce.pricing">OrderPricingEngineImpl</A>, <A HREF="../../../atg/commerce/pricing/ShippingPricingEngineImpl.html" title="class in atg.commerce.pricing">ShippingPricingEngineImpl</A>, <A HREF="../../../atg/commerce/pricing/TaxPricingEngineImpl.html" title="class in atg.commerce.pricing">TaxPricingEngineImpl</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public abstract class <B>PricingEngineService</B><DT>extends <A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A><DT>implements <A HREF="../../../atg/service/scheduler/Schedulable.html" title="interface in atg.service.scheduler">Schedulable</A></DL>
</PRE>

<P>
A GenericService version of a PricingEngine.  PricingEngine implementations
 can extend this class in order to leverage scheduling, global promotions, locale,
 and other configuration functionality from the PricingEngineService.
 <p>
 Properties:
 <ul>
  <li><b>scheduler</b> is the atg.service.scheduler.Scheduler which this service
      uses to periodically run the <code>globalPromotionsQuery</code>.  Re-running
      that query generates a new list of global promotions.
  <li><b>updateSchedule</b> is the schedule on which the <code>globalPromotionsQuery</code>
      is periodically run.
  <li><b>defaultLocale</b> is the default locale in which this pricing engine should
      generate prices.
  <li><b>priceInfoClass</b> is the class of the prices that this engine generates.
  <li><b>pricingModelComparator</b> is the comparator that's used to sort pricing models.
  <li><b>pricingModelProperties</b> is a bean that holds the name of every property of
      a pricing model RepositoryItem.
  <li><b>profileProperties</b> is a list of properties of a profile that should be checked
      for active promotions.
  <li><b>promotionsRepository</b> is the repository that holds all of the promotions
      which this engine can use as pricing models.
  <li><b>promotionItemTypes</b> is an array of item descriptor names in the promotionsRepository.
      A promotion that this engine uses as a pricing model must be of one of the types in
      promotionItemTypes.
  <li><b>globalPromotionsQuery</b> is a query that is run on the promotionsRepository to
      return all promotions which should always be taken into account in every pricing.
      A typical way to mark global promotions is to have all promotions in the
      promotionsRepository have a boolean property 'global', and to have the query
      return all promotions whose 'global' property is 'true'.
 </ul>
<P>

<P>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->

<A NAME="nested_class_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Nested Class Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.EmptyItemPriceInfo.html" title="class in atg.commerce.pricing">PricingEngineService.EmptyItemPriceInfo</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Internal class used to set up as yet unpriced commerce items used outside
 of item pricing.</TD>
</TR>
</TABLE>
&nbsp;<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Field Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#CLASS_VERSION">CLASS_VERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class version string</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#EXTRA_PARAM_QUALIFIERSERVICE">EXTRA_PARAM_QUALIFIERSERVICE</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#mGlobalPromotions">mGlobalPromotions</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#mPricingCalculatorServices">mPricingCalculatorServices</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Cache of calculator names to calculator service instances</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from class atg.nucleus.<A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/GenericService.html#SERVICE_INFO_KEY">SERVICE_INFO_KEY</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.logging.TraceApplicationLogging"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface atg.nucleus.logging.TraceApplicationLogging</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>DEFAULT_LOG_TRACE_STATUS</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.logging.ApplicationLogging"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Fields inherited from interface atg.nucleus.logging.<A HREF="../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_DEBUG_STATUS">DEFAULT_LOG_DEBUG_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_ERROR_STATUS">DEFAULT_LOG_ERROR_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_INFO_STATUS">DEFAULT_LOG_INFO_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_WARNING_STATUS">DEFAULT_LOG_WARNING_STATUS</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#PricingEngineService()">PricingEngineService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#addPromotion(atg.repository.RepositoryItem, java.util.Date)">addPromotion</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
             java.util.Date&nbsp;pNow)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method determines if the given promotion should qualify for use in determining pricing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#addPromotionToList(atg.repository.RepositoryItem, java.util.List, atg.repository.RepositoryItem)">addPromotionToList</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                   java.util.List&nbsp;pPricingModels,
                   <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds a new promotion to the list of pricing models.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#applyPromotionProcessing(atg.commerce.pricing.PromotionProcessingComponent[], java.util.Collection, atg.commerce.pricing.PricingContext, java.util.Map)">applyPromotionProcessing</A></B>(atg.commerce.pricing.PromotionProcessingComponent[]&nbsp;pPromotionProcessingComponents,
                         java.util.Collection&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPricingModels,
                         <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                         java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Apply the given promotion processing components.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#checkAndAddPromotions(java.util.Collection, java.util.Collection, java.util.Date, atg.repository.RepositoryItem)">checkAndAddPromotions</A></B>(java.util.Collection&nbsp;pSource,
                      java.util.Collection&nbsp;pDestination,
                      java.util.Date&nbsp;pNow,
                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Receives a collection of promotionStatus objects which are cycled through to determine
 which of these promotions has expired, and which should be added to the pricingModels
 used.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#checkAndMergePromotions(java.util.Collection, java.util.Collection, java.util.Collection, java.util.Date, atg.repository.RepositoryItem)">checkAndMergePromotions</A></B>(java.util.Collection&nbsp;pSource,
                        java.util.Collection&nbsp;pCheckedMerge,
                        java.util.Collection&nbsp;pDestination,
                        java.util.Date&nbsp;pNow,
                        <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Merges together two lists of promotions in the correct sorted order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#checkPromotionExpiration(atg.repository.RepositoryItem, java.util.Date)">checkPromotionExpiration</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                         java.util.Date&nbsp;pNow)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return true if the promotion has expired and should be removed from the user's collection
 of active promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/commerce/pricing/ItemPriceInfo.html" title="class in atg.commerce.pricing">ItemPriceInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#createEmptyItemPriceInfo()">createEmptyItemPriceInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a basic ItemPriceInfo to use for commerce items that
 have not yet been priced but which are being referenced outside of
 item pricing, e.g.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#createPriceInfo()">createPriceInfo</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a new instance of the of the class defined through the <code>priceInfoClass</code>
 property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#createStackingRuleExclusionMessage(java.lang.Object[], java.util.Map, atg.repository.RepositoryItem, atg.commerce.pricing.PricingContext, java.util.Map)">createStackingRuleExclusionMessage</A></B>(java.lang.Object[]&nbsp;pSkippedPromotionDetails,
                                   java.util.Map&lt;java.lang.String,atg.web.messaging.UserMessage&gt;&nbsp;pStackingRuleAppMessages,
                                   <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                   <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                   java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates and returns a stacking rule exclusion message.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#didPromotionApply(atg.repository.RepositoryItem, atg.commerce.pricing.AmountInfo, java.util.Map)">didPromotionApply</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                  <A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&nbsp;pPriceInfo,
                  java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if the promotion applied, <code>false</code> otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#didPromotionQualify(atg.repository.RepositoryItem, atg.commerce.pricing.PricingContext, java.util.Map)">didPromotionQualify</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                    <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                    java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if a promotion qualified, <code>false</code> otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#doStartService()">doStartService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Loads the global promotions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#doStopService()">doStopService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stops the schedule for updating the global promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#expirePromotion(atg.repository.RepositoryItem, atg.repository.RepositoryItem)">expirePromotion</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Called if <code>checkPromotionExpiration</code> determines that a promotion has expired and
 should no longer be active.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#findGlobalPromotions()">findGlobalPromotions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the set of global promotions for this pricing engine</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#generateStackingRuleInfo(atg.commerce.pricing.PricingContext, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map)">generateStackingRuleInfo</A></B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                         java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                         java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                         java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                         java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                         java.util.Map&lt;java.lang.String,atg.web.messaging.UserMessage&gt;&nbsp;pStackingRuleAppMessages,
                         java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Generates stacking rule tracking information and stacking rule exclusion messages based
 on the information linked to the applied promotions from pricing engines that have
 not been processed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getAdjustmentPricingModels(atg.commerce.pricing.AmountInfo)">getAdjustmentPricingModels</A></B>(<A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&nbsp;pPriceInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the pricingModels from the priceInfo's "adjustments" property
 These are the promotions the order has qualified for, and should
 not be evaluated for closeness</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getAlwaysLoadGlobalPromotions()">getAlwaysLoadGlobalPromotions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets whether or not to always load the global promotions rather than using the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getAppliedPromotions(atg.commerce.pricing.AmountInfo)">getAppliedPromotions</A></B>(<A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&nbsp;pPriceInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a list of applied promotions for the given price info.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getCalculator(atg.repository.RepositoryItem)">getCalculator</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the pricing calculator that should be used for the given promotion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getCalculatorForCalculatorType(java.lang.String)">getCalculatorForCalculatorType</A></B>(java.lang.String&nbsp;pCalculatorType)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the calculator service for the given type.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/nucleus/ServiceMap.html" title="class in atg.nucleus">ServiceMap</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getCalculatorTypeCalculators()">getCalculatorTypeCalculators</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/CalculatorInfo.html" title="class in atg.commerce.pricing">CalculatorInfo</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getCalculatorTypes()">getCalculatorTypes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the information for the calculators this pricing engine supports</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/ClosenessQualifierEvaluator.html" title="class in atg.commerce.pricing">ClosenessQualifierEvaluator</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getClosenessQualifierEvaluator()">getClosenessQualifierEvaluator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getCurrencyCode(java.util.Locale)">getCurrencyCode</A></B>(java.util.Locale&nbsp;pLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the currency code which should be used for the given locale.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Locale</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getDefaultLocale()">getDefaultLocale</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property DefaultLocale</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getGlobalPromotions()">getGlobalPromotions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property GlobalPromotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/rql/RqlStatement.html" title="class in atg.repository.rql">RqlStatement</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getGlobalPromotionsQuery()">getGlobalPromotionsQuery</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property GlobalPromotionsQuery</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/service/util/CurrentDate.html" title="class in atg.service.util">CurrentDate</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getGlobalPromotionsSchedulableDate()">getGlobalPromotionsSchedulableDate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property GlobalPromotionsSchedulableDate</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getInitialPromotions(atg.repository.RepositoryItem)">getInitialPromotions</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper method that returns a List of promotions for given a Profile.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Locale</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getLocale(atg.commerce.pricing.PricingContext, java.util.Map)">getLocale</A></B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
          java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the locale to use.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Class</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPriceInfoClass()">getPriceInfoClass</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property PriceInfoClass</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List&lt;<A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPriceInfoDetails(atg.commerce.pricing.PricingContext, java.util.Map)">getPriceInfoDetails</A></B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                    java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns price info details.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPricingCurrencyCode(atg.repository.RepositoryItem, java.lang.String, boolean, java.util.Map, java.util.Locale)">getPricingCurrencyCode</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                       java.lang.String&nbsp;pPriceListPropertyName,
                       boolean&nbsp;pUseDefaultPriceList,
                       java.util.Map&nbsp;pExtraParameters,
                       java.util.Locale&nbsp;pLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the locale currency code for pricing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Comparator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPricingModelComparator()">getPricingModelComparator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property PricingModelComparator</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/PricingModelEvaluationVetoer.html" title="interface in atg.commerce.pricing">PricingModelEvaluationVetoer</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPricingModelEvaluationVetoers()">getPricingModelEvaluationVetoers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/PricingModelHolderVetoer.html" title="interface in atg.commerce.pricing">PricingModelHolderVetoer</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPricingModelHolderVetoers()">getPricingModelHolderVetoers</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/PricingModelProperties.html" title="class in atg.commerce.pricing">PricingModelProperties</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPricingModelProperties()">getPricingModelProperties</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a bean that contains properties for a PricingModel</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPricingTools()">getPricingTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property PricingTools</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getProfileProperties()">getProfileProperties</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The profile properties to inspect for pricing models</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItemDescriptor.html" title="interface in atg.repository">RepositoryItemDescriptor</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPromotionItemDescriptors()">getPromotionItemDescriptors</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the promotion item descriptors</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPromotionItemTypes()">getPromotionItemTypes</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property PromotionItemTypes</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPromotions(atg.repository.RepositoryItem)">getPromotions</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/Repository.html" title="interface in atg.repository">Repository</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPromotionsRepository()">getPromotionsRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The repository which contains the promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/promotion/PromotionTools.html" title="class in atg.commerce.promotion">PromotionTools</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getPromotionTools()">getPromotionTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property PromotionTools</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getQualifierService()">getQualifierService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getQualifierService(java.util.Map)">getQualifierService</A></B>(java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the Qualifier service to use.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getQualifierService(atg.repository.RepositoryItem, java.util.Map)">getQualifierService</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                    java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gets the Qualifier service to use.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/service/scheduler/Scheduler.html" title="class in atg.service.scheduler">Scheduler</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getScheduler()">getScheduler</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property Scheduler</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getStackingRuleOrderLimitReachedMessageIdentifier()">getStackingRuleOrderLimitReachedMessageIdentifier</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Value for stacking rule order limit reached message identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getStackingRulePromotionExcludedMessageIdentifier()">getStackingRulePromotionExcludedMessageIdentifier</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Value for stacking rule promotion excluded message identifier.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/service/scheduler/Schedule.html" title="interface in atg.service.scheduler">Schedule</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getUpdateSchedule()">getUpdateSchedule</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property UpdateSchedule</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#getUserOnlyPromotions(atg.repository.RepositoryItem)">getUserOnlyPromotions</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#isUseMerge()">isUseMerge</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If true then this flag turns on an efficient merge
 algorithm to merge profile and global promotions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#isValidItemDescriptor(atg.repository.RepositoryItem)">isValidItemDescriptor</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method determines if the given promotion's item descriptor matches that of
 the PricingEngine configured item descriptors, promotionItemDescriptors</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#loadGlobalPromotions()">loadGlobalPromotions</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Find and load the global promotions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#performScheduledTask(atg.service.scheduler.Scheduler, atg.service.scheduler.ScheduledJob)">performScheduledTask</A></B>(<A HREF="../../../atg/service/scheduler/Scheduler.html" title="class in atg.service.scheduler">Scheduler</A>&nbsp;pScheduler,
                     <A HREF="../../../atg/service/scheduler/ScheduledJob.html" title="class in atg.service.scheduler">ScheduledJob</A>&nbsp;pJob)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reload the global promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List&lt;atg.commerce.pricing.PricingEngineService.ValidEvaluationVetoer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#prepareEvaluationVetoers(atg.commerce.pricing.PricingEngineService, atg.commerce.pricing.PricingContext, java.util.Map)">prepareEvaluationVetoers</A></B>(<A HREF="../../../atg/commerce/pricing/PricingEngineService.html" title="class in atg.commerce.pricing">PricingEngineService</A>&nbsp;pPricingEngine,
                         <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                         java.util.Map&nbsp;pExtraParametersMap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterates over the configured pricing model evaluation vetoers and
 calls the prepare method for each.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List&lt;atg.commerce.pricing.PricingEngineService.ValidHolderVetoer&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#prepareHolderVetoers(atg.commerce.pricing.PricingEngineService, atg.repository.RepositoryItem)">prepareHolderVetoers</A></B>(<A HREF="../../../atg/commerce/pricing/PricingEngineService.html" title="class in atg.commerce.pricing">PricingEngineService</A>&nbsp;pPricingEngine,
                     <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Iterates over the configured pricing model holdr vetoers and calls the prepare
 method for each.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#pricingComplete(java.util.Map)">pricingComplete</A></B>(java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carry out any required operations after a pricing engine has executed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#pricingStart(java.util.Map)">pricingStart</A></B>(java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Carry out any required operations prior to a pricing engine executing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#processCQPromotionAnalysisInformation(java.util.Map)">processCQPromotionAnalysisInformation</A></B>(java.util.Map&nbsp;pExtraParametersMap)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Helper method used to set closeness qualifier information in the promotion analysis information holder object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#processDidPromotionApply(atg.repository.RepositoryItem, atg.commerce.pricing.AmountInfo, java.util.Set, boolean, java.util.Map, java.util.Map, java.util.Map, java.util.Map, atg.commerce.pricing.PricingContext, java.util.Map)">processDidPromotionApply</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                         <A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&nbsp;pPriceInfo,
                         java.util.Set&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPromotionsNotApplied,
                         boolean&nbsp;pProcessStackingRules,
                         java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                         java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                         java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                         java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                         <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                         java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes the applied status of a promotion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#removeExpiredPromotions(java.util.List)">removeExpiredPromotions</A></B>(java.util.List&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPricingModels)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Builds up a new list of promotions, none of which will be expired.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#resetEmptyItemPriceInfos(atg.commerce.order.Order)">resetEmptyItemPriceInfos</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Utility method to revert item price infos back to null if they
 were temporarily set to use the EmptyItemPriceInfo for pricing.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#resolveCalculator(java.lang.String)">resolveCalculator</A></B>(java.lang.String&nbsp;pCalcServiceString)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resolves the passed in calculator service nucleus path to a
 service reference.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setAlwaysLoadGlobalPromotions(boolean)">setAlwaysLoadGlobalPromotions</A></B>(boolean&nbsp;pAlwaysLoadGlobalPromotions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets whether or not to always load the global promotions rather than using the cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setCalculatorTypeCalculators(atg.nucleus.ServiceMap)">setCalculatorTypeCalculators</A></B>(<A HREF="../../../atg/nucleus/ServiceMap.html" title="class in atg.nucleus">ServiceMap</A>&nbsp;pCalculatorTypeCalculators)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setClosenessQualifierEvaluator(atg.commerce.pricing.ClosenessQualifierEvaluator)">setClosenessQualifierEvaluator</A></B>(<A HREF="../../../atg/commerce/pricing/ClosenessQualifierEvaluator.html" title="class in atg.commerce.pricing">ClosenessQualifierEvaluator</A>&nbsp;pClosenessQualifierEvaluator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Component that evaluates if an order or item meets the closenessQualifiers
 for relevant promotions</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setDefaultLocale(java.util.Locale)">setDefaultLocale</A></B>(java.util.Locale&nbsp;pDefaultLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property DefaultLocale</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setGlobalPromotionsQuery(atg.repository.rql.RqlStatement)">setGlobalPromotionsQuery</A></B>(<A HREF="../../../atg/repository/rql/RqlStatement.html" title="class in atg.repository.rql">RqlStatement</A>&nbsp;pGlobalPromotionsQuery)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property GlobalPromotionsQuery</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setGlobalPromotionsSchedulableDate(atg.service.util.CurrentDate)">setGlobalPromotionsSchedulableDate</A></B>(<A HREF="../../../atg/service/util/CurrentDate.html" title="class in atg.service.util">CurrentDate</A>&nbsp;pGlobalPromotionsSchedulableDate)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property GlobalPromotionsSchedulableDate</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPriceInfoClass(java.lang.Class)">setPriceInfoClass</A></B>(java.lang.Class&nbsp;pPriceInfoClass)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property PriceInfoClass</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPricingModelComparator(java.util.Comparator)">setPricingModelComparator</A></B>(java.util.Comparator&nbsp;pPricingModelComparator)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property PricingModelComparator</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPricingModelEvaluationVetoers(atg.commerce.pricing.PricingModelEvaluationVetoer[])">setPricingModelEvaluationVetoers</A></B>(<A HREF="../../../atg/commerce/pricing/PricingModelEvaluationVetoer.html" title="interface in atg.commerce.pricing">PricingModelEvaluationVetoer</A>[]&nbsp;pPricingModelEvaluationVetoers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPricingModelHolderVetoers(atg.commerce.pricing.PricingModelHolderVetoer[])">setPricingModelHolderVetoers</A></B>(<A HREF="../../../atg/commerce/pricing/PricingModelHolderVetoer.html" title="interface in atg.commerce.pricing">PricingModelHolderVetoer</A>[]&nbsp;pPricingModelHolderVetoers)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPricingModelProperties(atg.commerce.pricing.PricingModelProperties)">setPricingModelProperties</A></B>(<A HREF="../../../atg/commerce/pricing/PricingModelProperties.html" title="class in atg.commerce.pricing">PricingModelProperties</A>&nbsp;pPricingModelProperties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPricingTools(atg.commerce.pricing.PricingTools)">setPricingTools</A></B>(<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A>&nbsp;pPricingTools)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property PricingTools</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setProfileProperties(java.lang.String[])">setProfileProperties</A></B>(java.lang.String[]&nbsp;pProfileProperties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPromotionItemTypes(java.lang.String[])">setPromotionItemTypes</A></B>(java.lang.String[]&nbsp;pPromotionItemTypes)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property PromotionItemTypes</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPromotionsRepository(atg.repository.Repository)">setPromotionsRepository</A></B>(<A HREF="../../../atg/repository/Repository.html" title="interface in atg.repository">Repository</A>&nbsp;pPromotionsRepository)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setPromotionTools(atg.commerce.promotion.PromotionTools)">setPromotionTools</A></B>(<A HREF="../../../atg/commerce/promotion/PromotionTools.html" title="class in atg.commerce.promotion">PromotionTools</A>&nbsp;pPromotionTools)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property PromotionTools</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setQualifierService(atg.commerce.pricing.Qualifier)">setQualifierService</A></B>(<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A>&nbsp;pQualifierService)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setScheduler(atg.service.scheduler.Scheduler)">setScheduler</A></B>(<A HREF="../../../atg/service/scheduler/Scheduler.html" title="class in atg.service.scheduler">Scheduler</A>&nbsp;pScheduler)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property Scheduler</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setUpdateSchedule(atg.service.scheduler.Schedule)">setUpdateSchedule</A></B>(<A HREF="../../../atg/service/scheduler/Schedule.html" title="interface in atg.service.scheduler">Schedule</A>&nbsp;pUpdateSchedule)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property UpdateSchedule</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setupStackingRuleCollections(atg.commerce.pricing.PricingContext, java.util.Map)">setupStackingRuleCollections</A></B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                             java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets up the stacking rule info collections:

    1.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#setUseMerge(boolean)">setUseMerge</A></B>(boolean&nbsp;pUseMerge)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.Object[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#skipPromotion(atg.commerce.pricing.PricingContext, atg.repository.RepositoryItem, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map)">skipPromotion</A></B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
              <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
              java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
              java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
              java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
              java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
              java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines whether or not the given promotion should not be applied.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#updateStackingRuleTracking(atg.repository.RepositoryItem, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map)">updateStackingRuleTracking</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                           java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates the stacking rule tracking information, based upon the details relating to the applied
 promotion.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Collection&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#vetoPromotionsForEvaluation(atg.commerce.pricing.PricingContext, java.util.Map, java.util.Collection)">vetoPromotionsForEvaluation</A></B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                            java.util.Map&nbsp;pExtraParametersMap,
                            java.util.Collection&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPricingModels)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validates the passed in promotions against the configured vetoers for
 evaluation.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#wasPromotionSkipped(atg.commerce.pricing.PricingContext, atg.repository.RepositoryItem, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map)">wasPromotionSkipped</A></B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                    java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                    java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                    java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                    java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                    java.util.Map&lt;java.lang.String,atg.web.messaging.UserMessage&gt;&nbsp;pStackingRuleAppMessages,
                    java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method determines if a promotion was skipped, based on the stacking rule exclusion.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class atg.nucleus.<A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/GenericService.html#addLogListener(atg.nucleus.logging.LogListener)">addLogListener</A>, <A HREF="../../../atg/nucleus/GenericService.html#createAdminServlet()">createAdminServlet</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAbsoluteName()">getAbsoluteName</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAdminServlet()">getAdminServlet</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAdminServletOutputStreamEncoding()">getAdminServletOutputStreamEncoding</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLoggingForVlogging()">getLoggingForVlogging</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLogListenerCount()">getLogListenerCount</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLogListeners()">getLogListeners</A>, <A HREF="../../../atg/nucleus/GenericService.html#getName()">getName</A>, <A HREF="../../../atg/nucleus/GenericService.html#getNameContext()">getNameContext</A>, <A HREF="../../../atg/nucleus/GenericService.html#getNucleus()">getNucleus</A>, <A HREF="../../../atg/nucleus/GenericService.html#getRoot()">getRoot</A>, <A HREF="../../../atg/nucleus/GenericService.html#getServiceConfiguration()">getServiceConfiguration</A>, <A HREF="../../../atg/nucleus/GenericService.html#getServiceInfo()">getServiceInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#isAdminServletUseServletOutputStream()">isAdminServletUseServletOutputStream</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingDebug()">isLoggingDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingError()">isLoggingError</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingInfo()">isLoggingInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingTrace()">isLoggingTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingWarning()">isLoggingWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#isRunning()">isRunning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.String)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.String, java.lang.Throwable)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.Throwable)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.String)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.String, java.lang.Throwable)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.Throwable)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.String)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.String, java.lang.Throwable)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.Throwable)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logTrace(java.lang.String)">logTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#logTrace(java.lang.String, java.lang.Throwable)">logTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#logTrace(java.lang.Throwable)">logTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.String)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.String, java.lang.Throwable)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.Throwable)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#nameContextElementBound(atg.naming.NameContextBindingEvent)">nameContextElementBound</A>, <A HREF="../../../atg/nucleus/GenericService.html#nameContextElementUnbound(atg.naming.NameContextBindingEvent)">nameContextElementUnbound</A>, <A HREF="../../../atg/nucleus/GenericService.html#removeLogListener(atg.nucleus.logging.LogListener)">removeLogListener</A>, <A HREF="../../../atg/nucleus/GenericService.html#reResolveThis()">reResolveThis</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName, boolean)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(java.lang.String)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(java.lang.String, boolean)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#sendLogEvent(atg.nucleus.logging.LogEvent)">sendLogEvent</A>, <A HREF="../../../atg/nucleus/GenericService.html#setAdminServletOutputStreamEncoding(java.lang.String)">setAdminServletOutputStreamEncoding</A>, <A HREF="../../../atg/nucleus/GenericService.html#setAdminServletUseServletOutputStream(boolean)">setAdminServletUseServletOutputStream</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingDebug(boolean)">setLoggingDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingError(boolean)">setLoggingError</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingInfo(boolean)">setLoggingInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingTrace(boolean)">setLoggingTrace</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingWarning(boolean)">setLoggingWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#setNucleus(atg.nucleus.Nucleus)">setNucleus</A>, <A HREF="../../../atg/nucleus/GenericService.html#setServiceInfo(java.lang.String)">setServiceInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#startService(atg.nucleus.ServiceEvent)">startService</A>, <A HREF="../../../atg/nucleus/GenericService.html#stopService()">stopService</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.nucleus.logging.VariableArgumentApplicationLoggingImpl"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class atg.nucleus.logging.<A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html" title="class in atg.nucleus.logging">VariableArgumentApplicationLoggingImpl</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebug(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogDebug</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebug(java.lang.String, java.lang.Object...)">vlogDebug</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebug(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogDebug</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebug(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogDebug</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogDebugTrace(java.lang.String, java.lang.Object...)">vlogDebugTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogError(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogError</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogError(java.lang.String, java.lang.Object...)">vlogError</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogError(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogError</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogError(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogError</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogInfo(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogInfo</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogInfo(java.lang.String, java.lang.Object...)">vlogInfo</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogInfo(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogInfo</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogInfo(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogInfo</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogTrace(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogTrace(java.lang.String, java.lang.Object...)">vlogTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogTrace(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogTrace(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogTrace</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogWarning(java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogWarning</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogWarning(java.lang.String, java.lang.Object...)">vlogWarning</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogWarning(java.lang.Throwable, java.util.ResourceBundle, java.lang.String, java.lang.Object...)">vlogWarning</A>, <A HREF="../../../atg/nucleus/logging/VariableArgumentApplicationLoggingImpl.html#vlogWarning(java.lang.Throwable, java.lang.String, java.lang.Object...)">vlogWarning</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Field Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="CLASS_VERSION"><!-- --></A><H3>
CLASS_VERSION</H3>
<PRE>
public static java.lang.String <B>CLASS_VERSION</B></PRE>
<DL>
<DD>Class version string
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="EXTRA_PARAM_QUALIFIERSERVICE"><!-- --></A><H3>
EXTRA_PARAM_QUALIFIERSERVICE</H3>
<PRE>
public static final java.lang.String <B>EXTRA_PARAM_QUALIFIERSERVICE</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#atg.commerce.pricing.PricingEngineService.EXTRA_PARAM_QUALIFIERSERVICE">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="mPricingCalculatorServices"><!-- --></A><H3>
mPricingCalculatorServices</H3>
<PRE>
protected java.util.Map <B>mPricingCalculatorServices</B></PRE>
<DL>
<DD>Cache of calculator names to calculator service instances
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="mGlobalPromotions"><!-- --></A><H3>
mGlobalPromotions</H3>
<PRE>
protected java.util.List <B>mGlobalPromotions</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="PricingEngineService()"><!-- --></A><H3>
PricingEngineService</H3>
<PRE>
public <B>PricingEngineService</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="isUseMerge()"><!-- --></A><H3>
isUseMerge</H3>
<PRE>
public boolean <B>isUseMerge</B>()</PRE>
<DL>
<DD>If true then this flag turns on an efficient merge
 algorithm to merge profile and global promotions.
 If false then the standard java sorting algorithm will
 be used instead to combine the lists.
 <p>
 If the number of profile based promotions is typically very
 large it may be more efficient to disable this flag.
 Defaults to true.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>useMerge boolean</DL>
</DD>
</DL>
<HR>

<A NAME="setUseMerge(boolean)"><!-- --></A><H3>
setUseMerge</H3>
<PRE>
public void <B>setUseMerge</B>(boolean&nbsp;pUseMerge)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCalculatorTypeCalculators()"><!-- --></A><H3>
getCalculatorTypeCalculators</H3>
<PRE>
public <A HREF="../../../atg/nucleus/ServiceMap.html" title="class in atg.nucleus">ServiceMap</A> <B>getCalculatorTypeCalculators</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setCalculatorTypeCalculators(atg.nucleus.ServiceMap)"><!-- --></A><H3>
setCalculatorTypeCalculators</H3>
<PRE>
public void <B>setCalculatorTypeCalculators</B>(<A HREF="../../../atg/nucleus/ServiceMap.html" title="class in atg.nucleus">ServiceMap</A>&nbsp;pCalculatorTypeCalculators)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingModelEvaluationVetoers()"><!-- --></A><H3>
getPricingModelEvaluationVetoers</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/PricingModelEvaluationVetoer.html" title="interface in atg.commerce.pricing">PricingModelEvaluationVetoer</A>[] <B>getPricingModelEvaluationVetoers</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingModelEvaluationVetoers(atg.commerce.pricing.PricingModelEvaluationVetoer[])"><!-- --></A><H3>
setPricingModelEvaluationVetoers</H3>
<PRE>
public void <B>setPricingModelEvaluationVetoers</B>(<A HREF="../../../atg/commerce/pricing/PricingModelEvaluationVetoer.html" title="interface in atg.commerce.pricing">PricingModelEvaluationVetoer</A>[]&nbsp;pPricingModelEvaluationVetoers)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingModelHolderVetoers()"><!-- --></A><H3>
getPricingModelHolderVetoers</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/PricingModelHolderVetoer.html" title="interface in atg.commerce.pricing">PricingModelHolderVetoer</A>[] <B>getPricingModelHolderVetoers</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingModelHolderVetoers(atg.commerce.pricing.PricingModelHolderVetoer[])"><!-- --></A><H3>
setPricingModelHolderVetoers</H3>
<PRE>
public void <B>setPricingModelHolderVetoers</B>(<A HREF="../../../atg/commerce/pricing/PricingModelHolderVetoer.html" title="interface in atg.commerce.pricing">PricingModelHolderVetoer</A>[]&nbsp;pPricingModelHolderVetoers)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getQualifierService()"><!-- --></A><H3>
getQualifierService</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A> <B>getQualifierService</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setQualifierService(atg.commerce.pricing.Qualifier)"><!-- --></A><H3>
setQualifierService</H3>
<PRE>
public void <B>setQualifierService</B>(<A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A>&nbsp;pQualifierService)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionItemDescriptors()"><!-- --></A><H3>
getPromotionItemDescriptors</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItemDescriptor.html" title="interface in atg.repository">RepositoryItemDescriptor</A>[] <B>getPromotionItemDescriptors</B>()</PRE>
<DL>
<DD>Returns the promotion item descriptors
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromotionTools(atg.commerce.promotion.PromotionTools)"><!-- --></A><H3>
setPromotionTools</H3>
<PRE>
public void <B>setPromotionTools</B>(<A HREF="../../../atg/commerce/promotion/PromotionTools.html" title="class in atg.commerce.promotion">PromotionTools</A>&nbsp;pPromotionTools)</PRE>
<DL>
<DD>Sets property PromotionTools
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionTools()"><!-- --></A><H3>
getPromotionTools</H3>
<PRE>
public <A HREF="../../../atg/commerce/promotion/PromotionTools.html" title="class in atg.commerce.promotion">PromotionTools</A> <B>getPromotionTools</B>()</PRE>
<DL>
<DD>Returns property PromotionTools
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingTools(atg.commerce.pricing.PricingTools)"><!-- --></A><H3>
setPricingTools</H3>
<PRE>
public void <B>setPricingTools</B>(<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A>&nbsp;pPricingTools)</PRE>
<DL>
<DD>Sets property PricingTools
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingTools()"><!-- --></A><H3>
getPricingTools</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A> <B>getPricingTools</B>()</PRE>
<DL>
<DD>Returns property PricingTools
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setScheduler(atg.service.scheduler.Scheduler)"><!-- --></A><H3>
setScheduler</H3>
<PRE>
public void <B>setScheduler</B>(<A HREF="../../../atg/service/scheduler/Scheduler.html" title="class in atg.service.scheduler">Scheduler</A>&nbsp;pScheduler)</PRE>
<DL>
<DD>Sets property Scheduler
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getScheduler()"><!-- --></A><H3>
getScheduler</H3>
<PRE>
public <A HREF="../../../atg/service/scheduler/Scheduler.html" title="class in atg.service.scheduler">Scheduler</A> <B>getScheduler</B>()</PRE>
<DL>
<DD>Returns property Scheduler
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUpdateSchedule(atg.service.scheduler.Schedule)"><!-- --></A><H3>
setUpdateSchedule</H3>
<PRE>
public void <B>setUpdateSchedule</B>(<A HREF="../../../atg/service/scheduler/Schedule.html" title="interface in atg.service.scheduler">Schedule</A>&nbsp;pUpdateSchedule)</PRE>
<DL>
<DD>Sets property UpdateSchedule
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUpdateSchedule()"><!-- --></A><H3>
getUpdateSchedule</H3>
<PRE>
public <A HREF="../../../atg/service/scheduler/Schedule.html" title="interface in atg.service.scheduler">Schedule</A> <B>getUpdateSchedule</B>()</PRE>
<DL>
<DD>Returns property UpdateSchedule
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setDefaultLocale(java.util.Locale)"><!-- --></A><H3>
setDefaultLocale</H3>
<PRE>
public void <B>setDefaultLocale</B>(java.util.Locale&nbsp;pDefaultLocale)</PRE>
<DL>
<DD>Sets property DefaultLocale
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultLocale()"><!-- --></A><H3>
getDefaultLocale</H3>
<PRE>
public java.util.Locale <B>getDefaultLocale</B>()</PRE>
<DL>
<DD>Returns property DefaultLocale
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getGlobalPromotions()"><!-- --></A><H3>
getGlobalPromotions</H3>
<PRE>
public java.util.List <B>getGlobalPromotions</B>()</PRE>
<DL>
<DD>Returns property GlobalPromotions
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPriceInfoClass(java.lang.Class)"><!-- --></A><H3>
setPriceInfoClass</H3>
<PRE>
public void <B>setPriceInfoClass</B>(java.lang.Class&nbsp;pPriceInfoClass)</PRE>
<DL>
<DD>Sets property PriceInfoClass
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPriceInfoClass()"><!-- --></A><H3>
getPriceInfoClass</H3>
<PRE>
public java.lang.Class <B>getPriceInfoClass</B>()</PRE>
<DL>
<DD>Returns property PriceInfoClass
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingModelComparator(java.util.Comparator)"><!-- --></A><H3>
setPricingModelComparator</H3>
<PRE>
public void <B>setPricingModelComparator</B>(java.util.Comparator&nbsp;pPricingModelComparator)</PRE>
<DL>
<DD>Sets property PricingModelComparator
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingModelComparator()"><!-- --></A><H3>
getPricingModelComparator</H3>
<PRE>
public java.util.Comparator <B>getPricingModelComparator</B>()</PRE>
<DL>
<DD>Returns property PricingModelComparator
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setClosenessQualifierEvaluator(atg.commerce.pricing.ClosenessQualifierEvaluator)"><!-- --></A><H3>
setClosenessQualifierEvaluator</H3>
<PRE>
public void <B>setClosenessQualifierEvaluator</B>(<A HREF="../../../atg/commerce/pricing/ClosenessQualifierEvaluator.html" title="class in atg.commerce.pricing">ClosenessQualifierEvaluator</A>&nbsp;pClosenessQualifierEvaluator)</PRE>
<DL>
<DD>Component that evaluates if an order or item meets the closenessQualifiers
 for relevant promotions
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pClosenessQualifierEvaluator</CODE> - the component that evaluates if an order
        or item meets the closenessQualifiers for relevant promotions</DL>
</DD>
</DL>
<HR>

<A NAME="getClosenessQualifierEvaluator()"><!-- --></A><H3>
getClosenessQualifierEvaluator</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/ClosenessQualifierEvaluator.html" title="class in atg.commerce.pricing">ClosenessQualifierEvaluator</A> <B>getClosenessQualifierEvaluator</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>the component that evaluates if an order or item meets the
         closenessQualifiers for relevant promotions</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingModelProperties(atg.commerce.pricing.PricingModelProperties)"><!-- --></A><H3>
setPricingModelProperties</H3>
<PRE>
public void <B>setPricingModelProperties</B>(<A HREF="../../../atg/commerce/pricing/PricingModelProperties.html" title="class in atg.commerce.pricing">PricingModelProperties</A>&nbsp;pPricingModelProperties)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingModelProperties()"><!-- --></A><H3>
getPricingModelProperties</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/PricingModelProperties.html" title="class in atg.commerce.pricing">PricingModelProperties</A> <B>getPricingModelProperties</B>()</PRE>
<DL>
<DD>Returns a bean that contains properties for a PricingModel
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setProfileProperties(java.lang.String[])"><!-- --></A><H3>
setProfileProperties</H3>
<PRE>
public void <B>setProfileProperties</B>(java.lang.String[]&nbsp;pProfileProperties)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileProperties()"><!-- --></A><H3>
getProfileProperties</H3>
<PRE>
public java.lang.String[] <B>getProfileProperties</B>()</PRE>
<DL>
<DD>The profile properties to inspect for pricing models
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromotionsRepository(atg.repository.Repository)"><!-- --></A><H3>
setPromotionsRepository</H3>
<PRE>
public void <B>setPromotionsRepository</B>(<A HREF="../../../atg/repository/Repository.html" title="interface in atg.repository">Repository</A>&nbsp;pPromotionsRepository)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionsRepository()"><!-- --></A><H3>
getPromotionsRepository</H3>
<PRE>
public <A HREF="../../../atg/repository/Repository.html" title="interface in atg.repository">Repository</A> <B>getPromotionsRepository</B>()</PRE>
<DL>
<DD>The repository which contains the promotions
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setPromotionItemTypes(java.lang.String[])"><!-- --></A><H3>
setPromotionItemTypes</H3>
<PRE>
public void <B>setPromotionItemTypes</B>(java.lang.String[]&nbsp;pPromotionItemTypes)</PRE>
<DL>
<DD>Sets property PromotionItemTypes
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionItemTypes()"><!-- --></A><H3>
getPromotionItemTypes</H3>
<PRE>
public java.lang.String[] <B>getPromotionItemTypes</B>()</PRE>
<DL>
<DD>Returns property PromotionItemTypes
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setGlobalPromotionsQuery(atg.repository.rql.RqlStatement)"><!-- --></A><H3>
setGlobalPromotionsQuery</H3>
<PRE>
public void <B>setGlobalPromotionsQuery</B>(<A HREF="../../../atg/repository/rql/RqlStatement.html" title="class in atg.repository.rql">RqlStatement</A>&nbsp;pGlobalPromotionsQuery)</PRE>
<DL>
<DD>Sets property GlobalPromotionsQuery
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getGlobalPromotionsQuery()"><!-- --></A><H3>
getGlobalPromotionsQuery</H3>
<PRE>
public <A HREF="../../../atg/repository/rql/RqlStatement.html" title="class in atg.repository.rql">RqlStatement</A> <B>getGlobalPromotionsQuery</B>()</PRE>
<DL>
<DD>Returns property GlobalPromotionsQuery
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setGlobalPromotionsSchedulableDate(atg.service.util.CurrentDate)"><!-- --></A><H3>
setGlobalPromotionsSchedulableDate</H3>
<PRE>
public void <B>setGlobalPromotionsSchedulableDate</B>(<A HREF="../../../atg/service/util/CurrentDate.html" title="class in atg.service.util">CurrentDate</A>&nbsp;pGlobalPromotionsSchedulableDate)</PRE>
<DL>
<DD>Sets property GlobalPromotionsSchedulableDate
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getGlobalPromotionsSchedulableDate()"><!-- --></A><H3>
getGlobalPromotionsSchedulableDate</H3>
<PRE>
public <A HREF="../../../atg/service/util/CurrentDate.html" title="class in atg.service.util">CurrentDate</A> <B>getGlobalPromotionsSchedulableDate</B>()</PRE>
<DL>
<DD>Returns property GlobalPromotionsSchedulableDate
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAlwaysLoadGlobalPromotions(boolean)"><!-- --></A><H3>
setAlwaysLoadGlobalPromotions</H3>
<PRE>
public void <B>setAlwaysLoadGlobalPromotions</B>(boolean&nbsp;pAlwaysLoadGlobalPromotions)</PRE>
<DL>
<DD>Sets whether or not to always load the global promotions rather than using the cache.
 <p>
 Setting this property to true will ensure the global promotions are loaded from
 the repository if they haven't expired by the current date and time, i.e.
 it will not use the globalPromotionsSchedulableDate in the query.
 <p>
 This should be set to true for preview to allow merch users to see
 the latest promotion changes (see COMMERCE-168402).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pAlwaysLoadGlobalPromotions</CODE> - boolean defaults to false</DL>
</DD>
</DL>
<HR>

<A NAME="getAlwaysLoadGlobalPromotions()"><!-- --></A><H3>
getAlwaysLoadGlobalPromotions</H3>
<PRE>
public boolean <B>getAlwaysLoadGlobalPromotions</B>()</PRE>
<DL>
<DD>Gets whether or not to always load the global promotions rather than using the cache.
 <p>
 If this property is true it will ensure the global promotions are loaded from
 the repository if they haven't expired by the current date and time, i.e.
 it will not use the globalPromotionsSchedulableDate in the query.
 <p>
 This would be set to true for preview to allow merch users to see
 the latest promotion changes (see COMMERCE-168402).
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>boolean</DL>
</DD>
</DL>
<HR>

<A NAME="findGlobalPromotions()"><!-- --></A><H3>
findGlobalPromotions</H3>
<PRE>
protected java.util.List <B>findGlobalPromotions</B>()</PRE>
<DL>
<DD>Return the set of global promotions for this pricing engine
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="loadGlobalPromotions()"><!-- --></A><H3>
loadGlobalPromotions</H3>
<PRE>
public void <B>loadGlobalPromotions</B>()
                          throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Find and load the global promotions. The global promotions are found through the
 method <code>findGlobalPromotions</code>. The list returned by this operation
 is made available through the <code>globalPromotions</code> property.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="doStartService()"><!-- --></A><H3>
doStartService</H3>
<PRE>
public void <B>doStartService</B>()
                    throws <A HREF="../../../atg/nucleus/ServiceException.html" title="class in atg.nucleus">ServiceException</A></PRE>
<DL>
<DD>Loads the global promotions.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../atg/nucleus/GenericService.html#doStartService()">doStartService</A></CODE> in class <CODE><A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/nucleus/ServiceException.html" title="class in atg.nucleus">ServiceException</A></CODE> - if the Service had a problem starting up</DL>
</DD>
</DL>
<HR>

<A NAME="doStopService()"><!-- --></A><H3>
doStopService</H3>
<PRE>
public void <B>doStopService</B>()
                   throws <A HREF="../../../atg/nucleus/ServiceException.html" title="class in atg.nucleus">ServiceException</A></PRE>
<DL>
<DD>Stops the schedule for updating the global promotions
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../atg/nucleus/GenericService.html#doStopService()">doStopService</A></CODE> in class <CODE><A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/nucleus/ServiceException.html" title="class in atg.nucleus">ServiceException</A></CODE> - if an error occurred during the operation</DL>
</DD>
</DL>
<HR>

<A NAME="performScheduledTask(atg.service.scheduler.Scheduler, atg.service.scheduler.ScheduledJob)"><!-- --></A><H3>
performScheduledTask</H3>
<PRE>
public void <B>performScheduledTask</B>(<A HREF="../../../atg/service/scheduler/Scheduler.html" title="class in atg.service.scheduler">Scheduler</A>&nbsp;pScheduler,
                                 <A HREF="../../../atg/service/scheduler/ScheduledJob.html" title="class in atg.service.scheduler">ScheduledJob</A>&nbsp;pJob)</PRE>
<DL>
<DD>Reload the global promotions
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../atg/service/scheduler/Schedulable.html#performScheduledTask(atg.service.scheduler.Scheduler, atg.service.scheduler.ScheduledJob)">performScheduledTask</A></CODE> in interface <CODE><A HREF="../../../atg/service/scheduler/Schedulable.html" title="interface in atg.service.scheduler">Schedulable</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pScheduler</CODE> - calling the job<DD><CODE>pJob</CODE> - the ScheduledJob</DL>
</DD>
</DL>
<HR>

<A NAME="getCurrencyCode(java.util.Locale)"><!-- --></A><H3>
getCurrencyCode</H3>
<PRE>
protected java.lang.String <B>getCurrencyCode</B>(java.util.Locale&nbsp;pLocale)</PRE>
<DL>
<DD>Return the currency code which should be used for the given locale. If the supplied locale
 parameter is null, then use the default locale.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingCurrencyCode(atg.repository.RepositoryItem, java.lang.String, boolean, java.util.Map, java.util.Locale)"><!-- --></A><H3>
getPricingCurrencyCode</H3>
<PRE>
protected java.lang.String <B>getPricingCurrencyCode</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                                  java.lang.String&nbsp;pPriceListPropertyName,
                                                  boolean&nbsp;pUseDefaultPriceList,
                                                  java.util.Map&nbsp;pExtraParameters,
                                                  java.util.Locale&nbsp;pLocale)</PRE>
<DL>
<DD>Gets the locale currency code for pricing.
 Gets the locale to use from PricingTools.getPricingLocale method which will try to get it from
 a price list if available.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - RepositoryItem profile<DD><CODE>pPriceListPropertyName</CODE> - String name of the price list property in the profile<DD><CODE>pUseDefaultPriceList</CODE> - boolean, true to use the default price list if needed<DD><CODE>pExtraParameters</CODE> - Optional map of extra parameters which may include the price list<DD><CODE>pLocale</CODE> - Locale to use if no price list or default locale is found
<DT><B>Returns:</B><DD>String currency code to use for this pricing locale</DL>
</DD>
</DL>
<HR>

<A NAME="createPriceInfo()"><!-- --></A><H3>
createPriceInfo</H3>
<PRE>
protected <A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A> <B>createPriceInfo</B>()
                              throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Returns a new instance of the of the class defined through the <code>priceInfoClass</code>
 property.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if there was a problem instantiating the object</DL>
</DD>
</DL>
<HR>

<A NAME="getInitialPromotions(atg.repository.RepositoryItem)"><!-- --></A><H3>
getInitialPromotions</H3>
<PRE>
protected java.util.List <B>getInitialPromotions</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)
                                       throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Helper method that returns a List of promotions for given a Profile.
 This is used by the out-of-the-box implementations of the PricingEngine
 interface for the getPromotions method.  Extensions of the various
 PricingEngines will override the getPromotions method to behave as
 business requirements dictate.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - The user's profile from which the engine will extract promotions
<DT><B>Returns:</B><DD>List of RepositoryItems which represent promotions for use in pricing.
 The list which is a combination of the global and user specific promotions.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="removeExpiredPromotions(java.util.List)"><!-- --></A><H3>
removeExpiredPromotions</H3>
<PRE>
protected java.util.List <B>removeExpiredPromotions</B>(java.util.List&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPricingModels)</PRE>
<DL>
<DD>Builds up a new list of promotions, none of which will be expired.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModels</CODE> - original list of promotions to work with
<DT><B>Returns:</B><DD>a newly created list of valid promotions</DL>
</DD>
</DL>
<HR>

<A NAME="addPromotionToList(atg.repository.RepositoryItem, java.util.List, atg.repository.RepositoryItem)"><!-- --></A><H3>
addPromotionToList</H3>
<PRE>
public void <B>addPromotionToList</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               java.util.List&nbsp;pPricingModels,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Adds a new promotion to the list of pricing models.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - <DD><CODE>pPricingModels</CODE> - <DD><CODE>pProfile</CODE> - 
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../atg/commerce/pricing/PricingEngineService.html#checkAndAddPromotions(java.util.Collection, java.util.Collection, java.util.Date, atg.repository.RepositoryItem)"><CODE>checkAndAddPromotions(Collection, Collection, Date, RepositoryItem)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getUserOnlyPromotions(atg.repository.RepositoryItem)"><!-- --></A><H3>
getUserOnlyPromotions</H3>
<PRE>
public java.util.List <B>getUserOnlyPromotions</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)
                                     throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPromotions(atg.repository.RepositoryItem)"><!-- --></A><H3>
getPromotions</H3>
<PRE>
public java.util.List <B>getPromotions</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)
                             throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="checkAndAddPromotions(java.util.Collection, java.util.Collection, java.util.Date, atg.repository.RepositoryItem)"><!-- --></A><H3>
checkAndAddPromotions</H3>
<PRE>
protected void <B>checkAndAddPromotions</B>(java.util.Collection&nbsp;pSource,
                                     java.util.Collection&nbsp;pDestination,
                                     java.util.Date&nbsp;pNow,
                                     <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Receives a collection of promotionStatus objects which are cycled through to determine
 which of these promotions has expired, and which should be added to the pricingModels
 used.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="applyPromotionProcessing(atg.commerce.pricing.PromotionProcessingComponent[], java.util.Collection, atg.commerce.pricing.PricingContext, java.util.Map)"><!-- --></A><H3>
applyPromotionProcessing</H3>
<PRE>
protected void <B>applyPromotionProcessing</B>(atg.commerce.pricing.PromotionProcessingComponent[]&nbsp;pPromotionProcessingComponents,
                                        java.util.Collection&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPricingModels,
                                        <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                        java.util.Map&nbsp;pExtraParameters)
                                 throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Apply the given promotion processing components.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotionProcessingComponents</CODE> - Array of PromotionProcessingComponent's to invoke<DD><CODE>pPricingContext</CODE> - PricingContext<DD><CODE>pPricingModels</CODE> - Collection of PricingModel to process<DD><CODE>pExtraParameters</CODE> - Map of extra parameters, may be null
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="prepareEvaluationVetoers(atg.commerce.pricing.PricingEngineService, atg.commerce.pricing.PricingContext, java.util.Map)"><!-- --></A><H3>
prepareEvaluationVetoers</H3>
<PRE>
protected java.util.List&lt;atg.commerce.pricing.PricingEngineService.ValidEvaluationVetoer&gt; <B>prepareEvaluationVetoers</B>(<A HREF="../../../atg/commerce/pricing/PricingEngineService.html" title="class in atg.commerce.pricing">PricingEngineService</A>&nbsp;pPricingEngine,
                                                                                                                   <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                                                                                                   java.util.Map&nbsp;pExtraParametersMap)</PRE>
<DL>
<DD><p>Iterates over the configured pricing model evaluation vetoers and
 calls the prepare method for each.
 <p>If a non null object is returned then it is added
 to the return list of ValidEvaluation Vetoer objects.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingEngine</CODE> - PricingEngineService that called this vetoer<DD><CODE>pPricingContext</CODE> - PricingContext for this pricing operation<DD><CODE>pExtraParametersMap</CODE> - Map of extra parameters if needed
<DT><B>Returns:</B><DD>List of ValidVetoer for those vetoers that are valid.</DL>
</DD>
</DL>
<HR>

<A NAME="vetoPromotionsForEvaluation(atg.commerce.pricing.PricingContext, java.util.Map, java.util.Collection)"><!-- --></A><H3>
vetoPromotionsForEvaluation</H3>
<PRE>
protected java.util.Collection&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt; <B>vetoPromotionsForEvaluation</B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                                                           java.util.Map&nbsp;pExtraParametersMap,
                                                                           java.util.Collection&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPricingModels)</PRE>
<DL>
<DD>Validates the passed in promotions against the configured vetoers for
 evaluation.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingContext</CODE> - PricingContext for pricing<DD><CODE>pExtraParametersMap</CODE> - Map of extra parameters if needed<DD><CODE>pPricingModels</CODE> - Collection of promotion items
<DT><B>Returns:</B><DD>Collection of promotion items valid for evaluation</DL>
</DD>
</DL>
<HR>

<A NAME="prepareHolderVetoers(atg.commerce.pricing.PricingEngineService, atg.repository.RepositoryItem)"><!-- --></A><H3>
prepareHolderVetoers</H3>
<PRE>
protected java.util.List&lt;atg.commerce.pricing.PricingEngineService.ValidHolderVetoer&gt; <B>prepareHolderVetoers</B>(<A HREF="../../../atg/commerce/pricing/PricingEngineService.html" title="class in atg.commerce.pricing">PricingEngineService</A>&nbsp;pPricingEngine,
                                                                                                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD><p>Iterates over the configured pricing model holdr vetoers and calls the prepare
 method for each.
 <p>If a non null object is returned then it is added
 to the return list of ValidHolderVetoer objects.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingEngine</CODE> - PricingEngineService that called this vetoer<DD><CODE>pProfile</CODE> - RepositoryItem profile for the holder session
<DT><B>Returns:</B><DD>List of ValidVetoer for those vetoers that are valid</DL>
</DD>
</DL>
<HR>

<A NAME="checkAndMergePromotions(java.util.Collection, java.util.Collection, java.util.Collection, java.util.Date, atg.repository.RepositoryItem)"><!-- --></A><H3>
checkAndMergePromotions</H3>
<PRE>
protected void <B>checkAndMergePromotions</B>(java.util.Collection&nbsp;pSource,
                                       java.util.Collection&nbsp;pCheckedMerge,
                                       java.util.Collection&nbsp;pDestination,
                                       java.util.Date&nbsp;pNow,
                                       <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Merges together two lists of promotions in the correct sorted order.
 <br>This is typically the global and user promotions.
 <br>Promotions are vetoed as required.
 <p>Note: It is assumed that pCheckedMerge has already been checked e.g. via checkAndAddPromotions.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pSource</CODE> - - Source collection.  It should be pre-sorted but this method will check expiry dates.<DD><CODE>pCheckedMerge</CODE> - Collection to merge into the source.  It should be pre-sorted and pre-checked.<DD><CODE>pDestination</CODE> - - Destination Collection for the merge.<DD><CODE>pNow</CODE> - - today<DD><CODE>pProfile</CODE> - - RepositoryItem profile</DL>
</DD>
</DL>
<HR>

<A NAME="addPromotion(atg.repository.RepositoryItem, java.util.Date)"><!-- --></A><H3>
addPromotion</H3>
<PRE>
protected boolean <B>addPromotion</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               java.util.Date&nbsp;pNow)</PRE>
<DL>
<DD>This method determines if the given promotion should qualify for use in determining pricing.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - the promotion that should be verified<DD><CODE>pNow</CODE> - the current date
<DT><B>Returns:</B><DD>true if the promotion should be added to the list of promotions which can be used for pricing</DL>
</DD>
</DL>
<HR>

<A NAME="isValidItemDescriptor(atg.repository.RepositoryItem)"><!-- --></A><H3>
isValidItemDescriptor</H3>
<PRE>
protected boolean <B>isValidItemDescriptor</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion)</PRE>
<DL>
<DD>This method determines if the given promotion's item descriptor matches that of
 the PricingEngine configured item descriptors, promotionItemDescriptors
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - the promotion that should be verified
<DT><B>Returns:</B><DD>true if the promotion matches any of the pricing engine's configured item descriptors</DL>
</DD>
</DL>
<HR>

<A NAME="checkPromotionExpiration(atg.repository.RepositoryItem, java.util.Date)"><!-- --></A><H3>
checkPromotionExpiration</H3>
<PRE>
protected boolean <B>checkPromotionExpiration</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                                           java.util.Date&nbsp;pNow)</PRE>
<DL>
<DD>Return true if the promotion has expired and should be removed from the user's collection
 of active promotions
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPromotion</CODE> - the promotion that should be verified<DD><CODE>pNow</CODE> - the current date</DL>
</DD>
</DL>
<HR>

<A NAME="expirePromotion(atg.repository.RepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
expirePromotion</H3>
<PRE>
protected void <B>expirePromotion</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPromotion,
                               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Called if <code>checkPromotionExpiration</code> determines that a promotion has expired and
 should no longer be active. Currently this method calls PromotionTools.expirePromotion.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the profile for which a promotion has expired<DD><CODE>pPromotion</CODE> - the promotion which has expired</DL>
</DD>
</DL>
<HR>

<A NAME="getCalculatorTypes()"><!-- --></A><H3>
getCalculatorTypes</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/CalculatorInfo.html" title="class in atg.commerce.pricing">CalculatorInfo</A>[] <B>getCalculatorTypes</B>()</PRE>
<DL>
<DD>Gets the information for the calculators this pricing engine supports
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>CalculatorInfo[]</DL>
</DD>
</DL>
<HR>

<A NAME="getCalculatorForCalculatorType(java.lang.String)"><!-- --></A><H3>
getCalculatorForCalculatorType</H3>
<PRE>
public java.lang.Object <B>getCalculatorForCalculatorType</B>(java.lang.String&nbsp;pCalculatorType)
                                                throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Returns the calculator service for the given type.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pCalculatorType</CODE> - String type
<DT><B>Returns:</B><DD>Calculator reference
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if a non-null calculator could not be found</DL>
</DD>
</DL>
<HR>

<A NAME="getCalculator(atg.repository.RepositoryItem)"><!-- --></A><H3>
getCalculator</H3>
<PRE>
protected java.lang.Object <B>getCalculator</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel)
                                  throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Return the pricing calculator that should be used for the given promotion.
 Looks in member variable Map mPricingCalculatorServices for
 the PricingCalculator refered to by the PricingModel parameter.
 If the PricingCalculator is not in the Map, it is resolved in
 Nucleus and then stored in the Map for quick look up.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - The promotion to examine for its PricingCalculator
<DT><B>Returns:</B><DD>The PricingCalculator service found for the promotion
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="resolveCalculator(java.lang.String)"><!-- --></A><H3>
resolveCalculator</H3>
<PRE>
protected java.lang.Object <B>resolveCalculator</B>(java.lang.String&nbsp;pCalcServiceString)
                                      throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Resolves the passed in calculator service nucleus path to a
 service reference.
 The method uses a cache for efficiency.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pCalcServiceString</CODE> - String nucleus path to the calculator service
<DT><B>Returns:</B><DD>Object service reference
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if the service could not be resolved</DL>
</DD>
</DL>
<HR>

<A NAME="getAdjustmentPricingModels(atg.commerce.pricing.AmountInfo)"><!-- --></A><H3>
getAdjustmentPricingModels</H3>
<PRE>
protected java.util.List <B>getAdjustmentPricingModels</B>(<A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&nbsp;pPriceInfo)</PRE>
<DL>
<DD>Gets the pricingModels from the priceInfo's "adjustments" property
 These are the promotions the order has qualified for, and should
 not be evaluated for closeness
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPriceInfo</CODE> - the priceInfo object
<DT><B>Returns:</B><DD>a List of the pricingModels from the priceInfo's adjustments</DL>
</DD>
</DL>
<HR>

<A NAME="getQualifierService(java.util.Map)"><!-- --></A><H3>
getQualifierService</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A> <B>getQualifierService</B>(java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Gets the Qualifier service to use.
 First checks the extra parameters map for a Qualifier object with the key
 EXTRA_PARAM_QUALIFIERSERVICE.
 If no Qualifier is in the map then it gets the default Qualifier this service is
 configured with.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pExtraParameters</CODE> - Map of optional extra parameters.  May be null.
<DT><B>Returns:</B><DD>Qualifier to use.<DT><B>See Also:</B><DD><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getQualifierService(atg.repository.RepositoryItem, java.util.Map, atg.commerce.pricing.Qualifier)"><CODE>PromotionTools.getQualifierService(RepositoryItem, Map, Qualifier)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getQualifierService(atg.repository.RepositoryItem, java.util.Map)"><!-- --></A><H3>
getQualifierService</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/Qualifier.html" title="class in atg.commerce.pricing">Qualifier</A> <B>getQualifierService</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                     java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Gets the Qualifier service to use.
 First checks the extra parameters map for a Qualifier object with the key
 EXTRA_PARAM_QUALIFIERSERVICE.
 If no Qualifier is in the map then it checks the promotion item 'qualifierService' property.
 If still no Qualifier then it uses the default Qualifier this service is
 configured with.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - RepositoryItem promotion item to check. May be null.<DD><CODE>pExtraParameters</CODE> - Map of optional extra parameters.  May be null.
<DT><B>Returns:</B><DD>Qualifier to use.<DT><B>See Also:</B><DD><A HREF="../../../atg/commerce/promotion/PromotionTools.html#getQualifierService(atg.repository.RepositoryItem, java.util.Map, atg.commerce.pricing.Qualifier)"><CODE>PromotionTools.getQualifierService(RepositoryItem, Map, Qualifier)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="processDidPromotionApply(atg.repository.RepositoryItem, atg.commerce.pricing.AmountInfo, java.util.Set, boolean, java.util.Map, java.util.Map, java.util.Map, java.util.Map, atg.commerce.pricing.PricingContext, java.util.Map)"><!-- --></A><H3>
processDidPromotionApply</H3>
<PRE>
protected boolean <B>processDidPromotionApply</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                           <A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&nbsp;pPriceInfo,
                                           java.util.Set&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pPromotionsNotApplied,
                                           boolean&nbsp;pProcessStackingRules,
                                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                                           <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                           java.util.Map&nbsp;pExtraParameters)
                                    throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Processes the applied status of a promotion. If a promotion applied, then we may want to update
 the stacking rule tracking information and the promotion analysis information.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - the promotion being analysed<DD><CODE>pPriceInfo</CODE> - the price info from which to extract all applied promotions<DD><CODE>pPromotionsNotApplied</CODE> - collection used to track promotions that did not apply<DD><CODE>pProcessStackingRules</CODE> - boolean indicating if stacking rule information should be processed<DD><CODE>pIncludedPromotions</CODE> - promotions to be included<DD><CODE>pExcludedPromotions</CODE> - promotions to be excluded<DD><CODE>pExcludedStackingRules</CODE> - stacking rules to be excluded<DD><CODE>pStackingRuleUsage</CODE> - stacking rule usage<DD><CODE>pPricingContext</CODE> - PricingContext<DD><CODE>pExtraParameters</CODE> - where the tracking collections should be created
<DT><B>Returns:</B><DD><code>true</code> if the promotion applied
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if there was a problem processing the promotion applied status</DL>
</DD>
</DL>
<HR>

<A NAME="didPromotionApply(atg.repository.RepositoryItem, atg.commerce.pricing.AmountInfo, java.util.Map)"><!-- --></A><H3>
didPromotionApply</H3>
<PRE>
protected boolean <B>didPromotionApply</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                    <A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&nbsp;pPriceInfo,
                                    java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Returns <code>true</code> if the promotion applied, <code>false</code> otherwise.

 A promotion can be deemed to have been applied if it is found to have caused a pricing
 adjustment.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - the promotion currently being evaluated<DD><CODE>pPriceInfo</CODE> - pricing information for the current item<DD><CODE>pExtraParameters</CODE> - contains the tracking collections
<DT><B>Returns:</B><DD>return <code>true</code> if the promotion applied, <code>false</code> otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="setupStackingRuleCollections(atg.commerce.pricing.PricingContext, java.util.Map)"><!-- --></A><H3>
setupStackingRuleCollections</H3>
<PRE>
protected void <B>setupStackingRuleCollections</B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                            java.util.Map&nbsp;pExtraParameters)
                                     throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Sets up the stacking rule info collections:

    1. the collections are created if they don't exist.
    2. the collections are populated with information relating to
       previously applied promotions
    3. generate messages relating to previously applied promotions
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingContext</CODE> - PricingContext for pricing<DD><CODE>pExtraParameters</CODE> - where the tracking collections should be created
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if something went wrong</DL>
</DD>
</DL>
<HR>

<A NAME="generateStackingRuleInfo(atg.commerce.pricing.PricingContext, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map)"><!-- --></A><H3>
generateStackingRuleInfo</H3>
<PRE>
protected void <B>generateStackingRuleInfo</B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                        java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                                        java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                                        java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                                        java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                                        java.util.Map&lt;java.lang.String,atg.web.messaging.UserMessage&gt;&nbsp;pStackingRuleAppMessages,
                                        java.util.Map&nbsp;pExtraParameters)
                                 throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Generates stacking rule tracking information and stacking rule exclusion messages based
 on the information linked to the applied promotions from pricing engines that have
 not been processed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingContext</CODE> - PricingContext for pricing<DD><CODE>pIncludedPromotions</CODE> - promotions to be included<DD><CODE>pExcludedPromotions</CODE> - promotions to be excluded<DD><CODE>pExcludedStackingRules</CODE> - stacking rules to be excluded<DD><CODE>pStackingRuleUsage</CODE> - stacking rule usage<DD><CODE>pStackingRuleAppMessages</CODE> - collection of messages to be sent<DD><CODE>pExtraParameters</CODE> - where the tracking collections should be created
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if something went wrong</DL>
</DD>
</DL>
<HR>

<A NAME="wasPromotionSkipped(atg.commerce.pricing.PricingContext, atg.repository.RepositoryItem, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map)"><!-- --></A><H3>
wasPromotionSkipped</H3>
<PRE>
protected boolean <B>wasPromotionSkipped</B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                      java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                                      java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                                      java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                                      java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                                      java.util.Map&lt;java.lang.String,atg.web.messaging.UserMessage&gt;&nbsp;pStackingRuleAppMessages,
                                      java.util.Map&nbsp;pExtraParameters)
                               throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>This method determines if a promotion was skipped, based on the stacking rule exclusion. It returns
 <code>true</code> if the promotion was skipped and <code>false</code> otherwise.

 If a promotion is skipped, an exclusion message may or may not be generated. Messages are only sent that
 are relevant to what a user has in their shopping cart.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - a promotion<DD><CODE>pPricingContext</CODE> - PricingContext for pricing<DD><CODE>pIncludedPromotions</CODE> - promotions to be included<DD><CODE>pExcludedPromotions</CODE> - promotions to be excluded<DD><CODE>pExcludedStackingRules</CODE> - stacking rules to be excluded<DD><CODE>pStackingRuleUsage</CODE> - stacking rule usage<DD><CODE>pStackingRuleAppMessages</CODE> - collection of messages to be sent<DD><CODE>pExtraParameters</CODE> - extra parameters
<DT><B>Returns:</B><DD><code>true</code> if the promotion is to be skipped, <code>false</code> otherwise
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if something went wrong</DL>
</DD>
</DL>
<HR>

<A NAME="updateStackingRuleTracking(atg.repository.RepositoryItem, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map)"><!-- --></A><H3>
updateStackingRuleTracking</H3>
<PRE>
protected void <B>updateStackingRuleTracking</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                          java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                                          java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                                          java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                                          java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                                          java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Updates the stacking rule tracking information, based upon the details relating to the applied
 promotion.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - the applied promotion<DD><CODE>pIncludedPromotions</CODE> - promotions to be included<DD><CODE>pExcludedPromotions</CODE> - promotions to be excluded<DD><CODE>pExcludedStackingRules</CODE> - stacking rules to be excluded<DD><CODE>pStackingRuleUsage</CODE> - stacking rule usage<DD><CODE>pExtraParameters</CODE> - contains the tracking collections</DL>
</DD>
</DL>
<HR>

<A NAME="skipPromotion(atg.commerce.pricing.PricingContext, atg.repository.RepositoryItem, java.util.Map, java.util.Map, java.util.Map, java.util.Map, java.util.Map)"><!-- --></A><H3>
skipPromotion</H3>
<PRE>
protected java.lang.Object[] <B>skipPromotion</B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pIncludedPromotions,
                                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedPromotions,
                                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt;&nbsp;pExcludedStackingRules,
                                           java.util.Map&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>,java.lang.Integer&gt;&nbsp;pStackingRuleUsage,
                                           java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Determines whether or not the given promotion should not be applied. This can be
 determined by inspecting the stacking rule tracking information.

 If a promotion is to be skipped, an object array will be returned. The array will contain
 the following pieces of information:

        1. message identifier
        2. a localized message outlining why the promotion was skipped
        3. id of the promotion to be skipped
        4. id of the promotion that caused this one to be skipped
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingContext</CODE> - PricingContext for pricing<DD><CODE>pPricingModel</CODE> - the promotion currently being evaluated<DD><CODE>pIncludedPromotions</CODE> - promotions to be included<DD><CODE>pExcludedPromotions</CODE> - promotions to be excluded<DD><CODE>pExcludedStackingRules</CODE> - stacking rules to be excluded<DD><CODE>pStackingRuleUsage</CODE> - stacking rule usage<DD><CODE>pExtraParameters</CODE> - contains the tracking collections
<DT><B>Returns:</B><DD>an array of information relating to why the promotion was skipped, otherwise
         <code>null</code> if this promotion should not be skipped</DL>
</DD>
</DL>
<HR>

<A NAME="getStackingRuleOrderLimitReachedMessageIdentifier()"><!-- --></A><H3>
getStackingRuleOrderLimitReachedMessageIdentifier</H3>
<PRE>
protected java.lang.String <B>getStackingRuleOrderLimitReachedMessageIdentifier</B>()</PRE>
<DL>
<DD>Value for stacking rule order limit reached message identifier.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>message identifier</DL>
</DD>
</DL>
<HR>

<A NAME="getStackingRulePromotionExcludedMessageIdentifier()"><!-- --></A><H3>
getStackingRulePromotionExcludedMessageIdentifier</H3>
<PRE>
protected java.lang.String <B>getStackingRulePromotionExcludedMessageIdentifier</B>()</PRE>
<DL>
<DD>Value for stacking rule promotion excluded message identifier.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>message identifier</DL>
</DD>
</DL>
<HR>

<A NAME="getAppliedPromotions(atg.commerce.pricing.AmountInfo)"><!-- --></A><H3>
getAppliedPromotions</H3>
<PRE>
protected java.util.List&lt;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&gt; <B>getAppliedPromotions</B>(<A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&nbsp;pPriceInfo)</PRE>
<DL>
<DD>Returns a list of applied promotions for the given price info.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPriceInfo</CODE> - the price info from which to extract all applied promotions
<DT><B>Returns:</B><DD>a list of promotions that have applied</DL>
</DD>
</DL>
<HR>

<A NAME="createStackingRuleExclusionMessage(java.lang.Object[], java.util.Map, atg.repository.RepositoryItem, atg.commerce.pricing.PricingContext, java.util.Map)"><!-- --></A><H3>
createStackingRuleExclusionMessage</H3>
<PRE>
protected void <B>createStackingRuleExclusionMessage</B>(java.lang.Object[]&nbsp;pSkippedPromotionDetails,
                                                  java.util.Map&lt;java.lang.String,atg.web.messaging.UserMessage&gt;&nbsp;pStackingRuleAppMessages,
                                                  <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                                  <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                                  java.util.Map&nbsp;pExtraParameters)
                                           throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Creates and returns a stacking rule exclusion message. The exclusion message is only

 Note that the default implementation of didPromotionQualify() will return <code>true</code>, meaning that
 messages will be generated whether a promotion qualified or not. didPromotionQualify() should be overridden in
 the pricing engines to compute a more accurate answer.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pSkippedPromotionDetails</CODE> - details of a skipped/excluded promotion<DD><CODE>pStackingRuleAppMessages</CODE> - collection of messages to be sent<DD><CODE>pPricingModel</CODE> - promotion being evaluated<DD><CODE>pPricingContext</CODE> - pricing context<DD><CODE>pExtraParameters</CODE> - extra parameters
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if something went wrong</DL>
</DD>
</DL>
<HR>

<A NAME="processCQPromotionAnalysisInformation(java.util.Map)"><!-- --></A><H3>
processCQPromotionAnalysisInformation</H3>
<PRE>
protected void <B>processCQPromotionAnalysisInformation</B>(java.util.Map&nbsp;pExtraParametersMap)
                                              throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Helper method used to set closeness qualifier information in the promotion analysis information holder object.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pExtraParametersMap</CODE> - any extra information that might need to be passed in
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if the condition and offer information could not be processed</DL>
</DD>
</DL>
<HR>

<A NAME="getLocale(atg.commerce.pricing.PricingContext, java.util.Map)"><!-- --></A><H3>
getLocale</H3>
<PRE>
protected java.util.Locale <B>getLocale</B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                     java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Gets the locale to use.  Usually the users locale.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingContext</CODE> - PricingContext which may contain the locale<DD><CODE>pExtraParameters</CODE> - Map of extra parameters (optional)
<DT><B>Returns:</B><DD>Locale</DL>
</DD>
</DL>
<HR>

<A NAME="didPromotionQualify(atg.repository.RepositoryItem, atg.commerce.pricing.PricingContext, java.util.Map)"><!-- --></A><H3>
didPromotionQualify</H3>
<PRE>
protected boolean <B>didPromotionQualify</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                      <A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                      java.util.Map&nbsp;pExtraParameters)
                               throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Returns <code>true</code> if a promotion qualified, <code>false</code> otherwise.
 <p>
 The default for this method is <code>true</code>. This method should be overridden in
 the pricing engines to compute a more accurate answer.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingModel</CODE> - promotion to check<DD><CODE>pPricingContext</CODE> - PricingContext<DD><CODE>pExtraParameters</CODE> - Map of extra parameters, may be null
<DT><B>Returns:</B><DD><code>true</code> if the promotion qualified, <code>false</code> otherwise
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if something went wrong</DL>
</DD>
</DL>
<HR>

<A NAME="getPriceInfoDetails(atg.commerce.pricing.PricingContext, java.util.Map)"><!-- --></A><H3>
getPriceInfoDetails</H3>
<PRE>
protected java.util.List&lt;<A HREF="../../../atg/commerce/pricing/AmountInfo.html" title="class in atg.commerce.pricing">AmountInfo</A>&gt; <B>getPriceInfoDetails</B>(<A HREF="../../../atg/commerce/pricing/PricingContext.html" title="class in atg.commerce.pricing">PricingContext</A>&nbsp;pPricingContext,
                                                         java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Returns price info details.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingContext</CODE> - PricingContext<DD><CODE>pExtraParameters</CODE> - Map of extra parameters, may be null
<DT><B>Returns:</B><DD><code>true</code> if the promotion qualified, <code>false</code> otherwise
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE> - if something went wrong</DL>
</DD>
</DL>
<HR>

<A NAME="pricingStart(java.util.Map)"><!-- --></A><H3>
pricingStart</H3>
<PRE>
protected void <B>pricingStart</B>(java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Carry out any required operations prior to a pricing engine executing.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pExtraParameters</CODE> - Map of extra parameters, may be null</DL>
</DD>
</DL>
<HR>

<A NAME="pricingComplete(java.util.Map)"><!-- --></A><H3>
pricingComplete</H3>
<PRE>
protected void <B>pricingComplete</B>(java.util.Map&nbsp;pExtraParameters)</PRE>
<DL>
<DD>Carry out any required operations after a pricing engine has executed.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pExtraParameters</CODE> - Map of extra parameters, may be null</DL>
</DD>
</DL>
<HR>

<A NAME="createEmptyItemPriceInfo()"><!-- --></A><H3>
createEmptyItemPriceInfo</H3>
<PRE>
protected <A HREF="../../../atg/commerce/pricing/ItemPriceInfo.html" title="class in atg.commerce.pricing">ItemPriceInfo</A> <B>createEmptyItemPriceInfo</B>()</PRE>
<DL>
<DD>Creates a basic ItemPriceInfo to use for commerce items that
 have not yet been priced but which are being referenced outside of
 item pricing, e.g. to price shipping.
 <p>Care should be taken to only use this ItemPriceInfo temporarily for pricing
 and not to persist it with the order.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>ItemPriceInfo</DL>
</DD>
</DL>
<HR>

<A NAME="resetEmptyItemPriceInfos(atg.commerce.order.Order)"><!-- --></A><H3>
resetEmptyItemPriceInfos</H3>
<PRE>
protected void <B>resetEmptyItemPriceInfos</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)</PRE>
<DL>
<DD>Utility method to revert item price infos back to null if they
 were temporarily set to use the EmptyItemPriceInfo for pricing.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - Order containing commerce items</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/pricing/PricingEngine.html" title="interface in atg.commerce.pricing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../atg/commerce/pricing/PricingEngineService.EmptyItemPriceInfo.html" title="class in atg.commerce.pricing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html?atg/commerce/pricing/PricingEngineService.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PricingEngineService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;<A HREF="#nested_class_summary">NESTED</A>&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
