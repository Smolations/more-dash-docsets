<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_05) on Fri Dec 23 12:54:59 EST 2005 -->
<TITLE>
ScheduledOrderService (ATG Java API)
</TITLE>

<META NAME="keywords" CONTENT="atg.b2bcommerce.order.scheduled.ScheduledOrderService class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="ScheduledOrderService (ATG Java API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderMessage.html" title="class in atg.b2bcommerce.order.scheduled"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderTools.html" title="class in atg.b2bcommerce.order.scheduled"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ScheduledOrderService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
atg.b2bcommerce.order.scheduled</FONT>
<BR>
Class ScheduledOrderService</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">atg.nucleus.GenericService</A>
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../../atg/service/scheduler/SchedulableService.html" title="class in atg.service.scheduler">atg.service.scheduler.SchedulableService</A>
          <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html" title="class in atg.service.scheduler">atg.service.scheduler.SingletonSchedulableService</A>
              <IMG SRC="../../../../resources/inherit.gif" ALT="extended by"><B>atg.b2bcommerce.order.scheduled.ScheduledOrderService</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../../atg/nucleus/AdminableService.html" title="interface in atg.nucleus">AdminableService</A>, <A HREF="../../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A>, <A HREF="../../../../atg/nucleus/naming/ComponentNameResolver.html" title="interface in atg.nucleus.naming">ComponentNameResolver</A>, java.util.EventListener, <A HREF="../../../../atg/naming/NameContextBindingListener.html" title="interface in atg.naming">NameContextBindingListener</A>, <A HREF="../../../../atg/naming/NameContextElement.html" title="interface in atg.naming">NameContextElement</A>, <A HREF="../../../../atg/naming/NameResolver.html" title="interface in atg.naming">NameResolver</A>, <A HREF="../../../../atg/service/scheduler/Schedulable.html" title="interface in atg.service.scheduler">Schedulable</A>, <A HREF="../../../../atg/nucleus/Service.html" title="interface in atg.nucleus">Service</A>, <A HREF="../../../../atg/nucleus/ServiceListener.html" title="interface in atg.nucleus">ServiceListener</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>ScheduledOrderService</B><DT>extends <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html" title="class in atg.service.scheduler">SingletonSchedulableService</A></DL>

<P>
This class is the back-end service responsible for processsing scheduled orders,
 on periodic intervals defined by the property <code>pollSchedule</code>. The
 interval specified begins counting after Dynamo server starts. Therefore, if 
 Dynamo server is rebooted every 11 hours, and pollSchedule is set to "every 12 hours",
 then no orders will ever be placed. A shorter interval might reduce performance,
 but it will never cause the situation that some schedule orders will miss being placed 
 on time. 
 
 The method <code>doScheduledTask</code> is a call-back method which is called
 whenever the schedule order is scheduled to be placed. It calls 
 <code>processDueScheduledOrders</code> to process any due schedule orders. Other objects
 can also call this method to trigger a poll on demand. The method <code>peformScheduledTask</code>
 will poll the order repository defined by property <code>orderReposiotry</code>
 with the repository view of <code>itemDescriptorName</code>. The poll query is defined by  the
 property <code>pollQuery</code>. All the scheduled orders returned are processed individually which 
 is sent to the fullfiller for processing, and the <code>nextScheduledRun</code> property
 is updated to reflect the next time the order should be placed. If something wrong happens when 
 proocessing an individual schedule order, an CommerceException will be thrown and the other schedule
 orders are processed without any impact.
 
 In an error condition, the state of the scheduled order is changed to
 <code>PENDING_CUSTOMER_ACTION</code>.
<P>

<P>
<DL>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#CLASS_VERSION">CLASS_VERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class version string</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.util.ResourceBundle</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#sResourceBundle">sResourceBundle</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Resource Bundle</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.service.scheduler.SchedulableService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class atg.service.scheduler.<A HREF="../../../../atg/service/scheduler/SchedulableService.html" title="class in atg.service.scheduler">SchedulableService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../atg/service/scheduler/SchedulableService.html#mJobId">mJobId</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class atg.nucleus.<A HREF="../../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../atg/nucleus/GenericService.html#SERVICE_INFO_KEY">SERVICE_INFO_KEY</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.logging.ApplicationLogging"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from interface atg.nucleus.logging.<A HREF="../../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_DEBUG_STATUS">DEFAULT_LOG_DEBUG_STATUS</A>, <A HREF="../../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_ERROR_STATUS">DEFAULT_LOG_ERROR_STATUS</A>, <A HREF="../../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_INFO_STATUS">DEFAULT_LOG_INFO_STATUS</A>, <A HREF="../../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_WARNING_STATUS">DEFAULT_LOG_WARNING_STATUS</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#ScheduledOrderService()">ScheduledOrderService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs an empty ScheduledOrderService</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#doScheduledTask(atg.service.scheduler.Scheduler, atg.service.scheduler.ScheduledJob)">doScheduledTask</A></B>(<A HREF="../../../../atg/service/scheduler/Scheduler.html" title="class in atg.service.scheduler">Scheduler</A>&nbsp;pScheduler,
                <A HREF="../../../../atg/service/scheduler/ScheduledJob.html" title="class in atg.service.scheduler">ScheduledJob</A>&nbsp;pScheudledJob)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is a call-back method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#getItemDescriptorName()">getItemDescriptorName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property ItemDescriptorName</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;long</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#getNextScheduledRun(atg.repository.MutableRepositoryItem, long)">getNextScheduledRun</A></B>(<A HREF="../../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pItem,
                    long&nbsp;pLastRun)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method calculates the next schedule run time for the Scheduled Order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../atg/b2bcommerce/order/B2BOrderManager.html" title="class in atg.b2bcommerce.order">B2BOrderManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#getOrderManager()">getOrderManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property OrderManager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../atg/repository/MutableRepository.html" title="interface in atg.repository">MutableRepository</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#getOrderRepository()">getOrderRepository</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property OrderRepository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../atg/repository/rql/RqlStatement.html" title="class in atg.repository.rql">RqlStatement</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#getPollQuery()">getPollQuery</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property PollQuery.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderTools.html" title="class in atg.b2bcommerce.order.scheduled">ScheduledOrderTools</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#getScheduledOrderTools()">getScheduledOrderTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property ScheduledOrderTools</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;javax.transaction.TransactionManager</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#getTransactionManager()">getTransactionManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property TransactionManager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#placeScheduledOrder(atg.repository.MutableRepositoryItem)">placeScheduledOrder</A></B>(<A HREF="../../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pScheduledOrder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method places the Scheduled Order by first retrieving the template order
 for this Scheduled Order, then cloning it and repricing the cloned order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#pollForNewOrders()">pollForNewOrders</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method polls the Schedule Order Repository based on the defined query
 and returns an array of found scheduled orders which should be run.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#processDueScheduledOrder(atg.repository.RepositoryItem)">processDueScheduledOrder</A></B>(<A HREF="../../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pItem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method processes each individual Scheduled Order and
 if sucessfully processing it, set the next Schedule time for
 the Scheduled Order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#processDueScheduledOrders()">processDueScheduledOrders</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method finds the due Scheduled Orders and processes each one individually.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#repriceScheduledOrder(atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale)">repriceScheduledOrder</A></B>(<A HREF="../../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pScheduledOrder,
                      <A HREF="../../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                      java.util.Locale&nbsp;pLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method reprices the Schedule Order</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#setItemDescriptorName(java.lang.String)">setItemDescriptorName</A></B>(java.lang.String&nbsp;pItemDescriptorName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property ItemDescriptorName</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#setOrderManager(atg.b2bcommerce.order.B2BOrderManager)">setOrderManager</A></B>(<A HREF="../../../../atg/b2bcommerce/order/B2BOrderManager.html" title="class in atg.b2bcommerce.order">B2BOrderManager</A>&nbsp;pOrderManager)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property OrderManager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#setOrderRepository(atg.repository.MutableRepository)">setOrderRepository</A></B>(<A HREF="../../../../atg/repository/MutableRepository.html" title="interface in atg.repository">MutableRepository</A>&nbsp;pOrderRepository)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property OrderRepository</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#setPollQuery(atg.repository.rql.RqlStatement)">setPollQuery</A></B>(<A HREF="../../../../atg/repository/rql/RqlStatement.html" title="class in atg.repository.rql">RqlStatement</A>&nbsp;pPollQuery)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property PollQuery</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderService.html#setScheduledOrderTools(atg.b2bcommerce.order.scheduled.ScheduledOrderTools)">setScheduledOrderTools</A></B>(<A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderTools.html" title="class in atg.b2bcommerce.order.scheduled">ScheduledOrderTools</A>&nbsp;pScheduledOrderTools)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property ScheduledOrderTools</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.service.scheduler.SingletonSchedulableService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class atg.service.scheduler.<A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html" title="class in atg.service.scheduler">SingletonSchedulableService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#acquireLock()">acquireLock</A>, <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#getClientLockManager()">getClientLockManager</A>, <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#getLockName()">getLockName</A>, <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#getLockTimeOut()">getLockTimeOut</A>, <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#performScheduledTask(atg.service.scheduler.Scheduler, atg.service.scheduler.ScheduledJob)">performScheduledTask</A>, <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#releaseLock()">releaseLock</A>, <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#setClientLockManager(atg.service.lockmanager.ClientLockManager)">setClientLockManager</A>, <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#setLockName(java.lang.String)">setLockName</A>, <A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#setLockTimeOut(long)">setLockTimeOut</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.service.scheduler.SchedulableService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class atg.service.scheduler.<A HREF="../../../../atg/service/scheduler/SchedulableService.html" title="class in atg.service.scheduler">SchedulableService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../atg/service/scheduler/SchedulableService.html#doStartService()">doStartService</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#doStopService()">doStopService</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#getJobDescription()">getJobDescription</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#getJobName()">getJobName</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#getSchedule()">getSchedule</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#getScheduler()">getScheduler</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#getThreadMethod()">getThreadMethod</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#setJobDescription(java.lang.String)">setJobDescription</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#setJobName(java.lang.String)">setJobName</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#setSchedule(atg.service.scheduler.Schedule)">setSchedule</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#setScheduler(atg.service.scheduler.Scheduler)">setScheduler</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#setThreadMethod(int)">setThreadMethod</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#startScheduledJob()">startScheduledJob</A>, <A HREF="../../../../atg/service/scheduler/SchedulableService.html#stopScheduledJob()">stopScheduledJob</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class atg.nucleus.<A HREF="../../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../atg/nucleus/GenericService.html#addLogListener(atg.nucleus.logging.LogListener)">addLogListener</A>, <A HREF="../../../../atg/nucleus/GenericService.html#createAdminServlet()">createAdminServlet</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getAbsoluteName()">getAbsoluteName</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getAdminServlet()">getAdminServlet</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getLogListenerCount()">getLogListenerCount</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getLogListeners()">getLogListeners</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getName()">getName</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getNameContext()">getNameContext</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getNucleus()">getNucleus</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getRoot()">getRoot</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getServiceConfiguration()">getServiceConfiguration</A>, <A HREF="../../../../atg/nucleus/GenericService.html#getServiceInfo()">getServiceInfo</A>, <A HREF="../../../../atg/nucleus/GenericService.html#isLoggingDebug()">isLoggingDebug</A>, <A HREF="../../../../atg/nucleus/GenericService.html#isLoggingError()">isLoggingError</A>, <A HREF="../../../../atg/nucleus/GenericService.html#isLoggingInfo()">isLoggingInfo</A>, <A HREF="../../../../atg/nucleus/GenericService.html#isLoggingWarning()">isLoggingWarning</A>, <A HREF="../../../../atg/nucleus/GenericService.html#isRunning()">isRunning</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logDebug(java.lang.String)">logDebug</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logDebug(java.lang.String, java.lang.Throwable)">logDebug</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logDebug(java.lang.Throwable)">logDebug</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logError(java.lang.String)">logError</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logError(java.lang.String, java.lang.Throwable)">logError</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logError(java.lang.Throwable)">logError</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logInfo(java.lang.String)">logInfo</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logInfo(java.lang.String, java.lang.Throwable)">logInfo</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logInfo(java.lang.Throwable)">logInfo</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logWarning(java.lang.String)">logWarning</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logWarning(java.lang.String, java.lang.Throwable)">logWarning</A>, <A HREF="../../../../atg/nucleus/GenericService.html#logWarning(java.lang.Throwable)">logWarning</A>, <A HREF="../../../../atg/nucleus/GenericService.html#nameContextElementBound(atg.naming.NameContextBindingEvent)">nameContextElementBound</A>, <A HREF="../../../../atg/nucleus/GenericService.html#nameContextElementUnbound(atg.naming.NameContextBindingEvent)">nameContextElementUnbound</A>, <A HREF="../../../../atg/nucleus/GenericService.html#removeLogListener(atg.nucleus.logging.LogListener)">removeLogListener</A>, <A HREF="../../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName)">resolveName</A>, <A HREF="../../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName, boolean)">resolveName</A>, <A HREF="../../../../atg/nucleus/GenericService.html#resolveName(java.lang.String)">resolveName</A>, <A HREF="../../../../atg/nucleus/GenericService.html#resolveName(java.lang.String, boolean)">resolveName</A>, <A HREF="../../../../atg/nucleus/GenericService.html#sendLogEvent(atg.nucleus.logging.LogEvent)">sendLogEvent</A>, <A HREF="../../../../atg/nucleus/GenericService.html#setLoggingDebug(boolean)">setLoggingDebug</A>, <A HREF="../../../../atg/nucleus/GenericService.html#setLoggingError(boolean)">setLoggingError</A>, <A HREF="../../../../atg/nucleus/GenericService.html#setLoggingInfo(boolean)">setLoggingInfo</A>, <A HREF="../../../../atg/nucleus/GenericService.html#setLoggingWarning(boolean)">setLoggingWarning</A>, <A HREF="../../../../atg/nucleus/GenericService.html#setServiceInfo(java.lang.String)">setServiceInfo</A>, <A HREF="../../../../atg/nucleus/GenericService.html#startService(atg.nucleus.ServiceEvent)">startService</A>, <A HREF="../../../../atg/nucleus/GenericService.html#stopService()">stopService</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="CLASS_VERSION"><!-- --></A><H3>
CLASS_VERSION</H3>
<PRE>
public static java.lang.String <B>CLASS_VERSION</B></PRE>
<DL>
<DD>Class version string
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="sResourceBundle"><!-- --></A><H3>
sResourceBundle</H3>
<PRE>
protected static java.util.ResourceBundle <B>sResourceBundle</B></PRE>
<DL>
<DD>Resource Bundle
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ScheduledOrderService()"><!-- --></A><H3>
ScheduledOrderService</H3>
<PRE>
public <B>ScheduledOrderService</B>()</PRE>
<DL>
<DD>Constructs an empty ScheduledOrderService
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getItemDescriptorName()"><!-- --></A><H3>
getItemDescriptorName</H3>
<PRE>
public java.lang.String <B>getItemDescriptorName</B>()</PRE>
<DL>
<DD>Returns property ItemDescriptorName
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property ItemDescriptorName</DL>
</DD>
</DL>
<HR>

<A NAME="setItemDescriptorName(java.lang.String)"><!-- --></A><H3>
setItemDescriptorName</H3>
<PRE>
public void <B>setItemDescriptorName</B>(java.lang.String&nbsp;pItemDescriptorName)</PRE>
<DL>
<DD>Sets property ItemDescriptorName
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItemDescriptorName</CODE> - the value to set for property ItemDescriptorName</DL>
</DD>
</DL>
<HR>

<A NAME="getOrderRepository()"><!-- --></A><H3>
getOrderRepository</H3>
<PRE>
public <A HREF="../../../../atg/repository/MutableRepository.html" title="interface in atg.repository">MutableRepository</A> <B>getOrderRepository</B>()</PRE>
<DL>
<DD>Returns property OrderRepository
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property OrderRepository</DL>
</DD>
</DL>
<HR>

<A NAME="setOrderRepository(atg.repository.MutableRepository)"><!-- --></A><H3>
setOrderRepository</H3>
<PRE>
public void <B>setOrderRepository</B>(<A HREF="../../../../atg/repository/MutableRepository.html" title="interface in atg.repository">MutableRepository</A>&nbsp;pOrderRepository)</PRE>
<DL>
<DD>Sets property OrderRepository
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrderRepository</CODE> - the value to set for property OrderRepository</DL>
</DD>
</DL>
<HR>

<A NAME="setOrderManager(atg.b2bcommerce.order.B2BOrderManager)"><!-- --></A><H3>
setOrderManager</H3>
<PRE>
public void <B>setOrderManager</B>(<A HREF="../../../../atg/b2bcommerce/order/B2BOrderManager.html" title="class in atg.b2bcommerce.order">B2BOrderManager</A>&nbsp;pOrderManager)</PRE>
<DL>
<DD>Sets property OrderManager
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrderManager</CODE> - the value to set for property OrderManager</DL>
</DD>
</DL>
<HR>

<A NAME="getOrderManager()"><!-- --></A><H3>
getOrderManager</H3>
<PRE>
public <A HREF="../../../../atg/b2bcommerce/order/B2BOrderManager.html" title="class in atg.b2bcommerce.order">B2BOrderManager</A> <B>getOrderManager</B>()</PRE>
<DL>
<DD>Returns property OrderManager
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property OrderManager</DL>
</DD>
</DL>
<HR>

<A NAME="setScheduledOrderTools(atg.b2bcommerce.order.scheduled.ScheduledOrderTools)"><!-- --></A><H3>
setScheduledOrderTools</H3>
<PRE>
public void <B>setScheduledOrderTools</B>(<A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderTools.html" title="class in atg.b2bcommerce.order.scheduled">ScheduledOrderTools</A>&nbsp;pScheduledOrderTools)</PRE>
<DL>
<DD>Sets property ScheduledOrderTools
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pScheduledOrderTools</CODE> - the value to set for property ScheduledOrderTools</DL>
</DD>
</DL>
<HR>

<A NAME="getScheduledOrderTools()"><!-- --></A><H3>
getScheduledOrderTools</H3>
<PRE>
public <A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderTools.html" title="class in atg.b2bcommerce.order.scheduled">ScheduledOrderTools</A> <B>getScheduledOrderTools</B>()</PRE>
<DL>
<DD>Returns property ScheduledOrderTools
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property ScheduledOrderTools</DL>
</DD>
</DL>
<HR>

<A NAME="getPollQuery()"><!-- --></A><H3>
getPollQuery</H3>
<PRE>
public <A HREF="../../../../atg/repository/rql/RqlStatement.html" title="class in atg.repository.rql">RqlStatement</A> <B>getPollQuery</B>()</PRE>
<DL>
<DD>Returns property PollQuery. The query is parameterized by a singe paramter, the current time.
 Example : nextScheduledRun < ?0 and state="active" and startDate < ?0 and endDate > ?0
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property PollQuery</DL>
</DD>
</DL>
<HR>

<A NAME="setPollQuery(atg.repository.rql.RqlStatement)"><!-- --></A><H3>
setPollQuery</H3>
<PRE>
public void <B>setPollQuery</B>(<A HREF="../../../../atg/repository/rql/RqlStatement.html" title="class in atg.repository.rql">RqlStatement</A>&nbsp;pPollQuery)</PRE>
<DL>
<DD>Sets property PollQuery
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPollQuery</CODE> - the value to set for property PollQuery</DL>
</DD>
</DL>
<HR>

<A NAME="getTransactionManager()"><!-- --></A><H3>
getTransactionManager</H3>
<PRE>
public javax.transaction.TransactionManager <B>getTransactionManager</B>()</PRE>
<DL>
<DD>Returns property TransactionManager
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property TransactionManager</DL>
</DD>
</DL>
<HR>

<A NAME="doScheduledTask(atg.service.scheduler.Scheduler, atg.service.scheduler.ScheduledJob)"><!-- --></A><H3>
doScheduledTask</H3>
<PRE>
public void <B>doScheduledTask</B>(<A HREF="../../../../atg/service/scheduler/Scheduler.html" title="class in atg.service.scheduler">Scheduler</A>&nbsp;pScheduler,
                            <A HREF="../../../../atg/service/scheduler/ScheduledJob.html" title="class in atg.service.scheduler">ScheduledJob</A>&nbsp;pScheudledJob)</PRE>
<DL>
<DD>This method is a call-back method. It will be called when the Schduler
 finds that the ScheduledJob is scheduled to run.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html#doScheduledTask(atg.service.scheduler.Scheduler, atg.service.scheduler.ScheduledJob)">doScheduledTask</A></CODE> in class <CODE><A HREF="../../../../atg/service/scheduler/SingletonSchedulableService.html" title="class in atg.service.scheduler">SingletonSchedulableService</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pScheduler</CODE> - the Scheduler which manages all the Scheduled jobs</DL>
</DD>
</DL>
<HR>

<A NAME="pollForNewOrders()"><!-- --></A><H3>
pollForNewOrders</H3>
<PRE>
protected <A HREF="../../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>[] <B>pollForNewOrders</B>()
                                     throws <A HREF="../../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method polls the Schedule Order Repository based on the defined query
 and returns an array of found scheduled orders which should be run.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>an array of RepositoryItems which correponds to the due Schedule Orders
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if an error occurs accessing the repository</DL>
</DD>
</DL>
<HR>

<A NAME="processDueScheduledOrders()"><!-- --></A><H3>
processDueScheduledOrders</H3>
<PRE>
protected void <B>processDueScheduledOrders</B>()</PRE>
<DL>
<DD>This method finds the due Scheduled Orders and processes each one individually.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="repriceScheduledOrder(atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale)"><!-- --></A><H3>
repriceScheduledOrder</H3>
<PRE>
protected void <B>repriceScheduledOrder</B>(<A HREF="../../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pScheduledOrder,
                                     <A HREF="../../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                     java.util.Locale&nbsp;pLocale)
                              throws <A HREF="../../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>This method reprices the Schedule Order
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pScheduledOrder</CODE> - the Scheduled Order to be repriced<DD><CODE>pProfile</CODE> - the Profile of the current user<DD><CODE>pLocale</CODE> - the locale of the current user
<DT><B>Returns:</B><DD>the PipelineResult that comprises the result of repricing the Schedule Order
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - thrown if any of the Commerce related error occurs
<DD><CODE><A HREF="../../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if an error is found when accessing the repository<DT><B>See Also:</B><DD><A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderTools.html" title="class in atg.b2bcommerce.order.scheduled"><CODE>ScheduledOrderTools</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="processDueScheduledOrder(atg.repository.RepositoryItem)"><!-- --></A><H3>
processDueScheduledOrder</H3>
<PRE>
protected void <B>processDueScheduledOrder</B>(<A HREF="../../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pItem)</PRE>
<DL>
<DD>This method processes each individual Scheduled Order and
 if sucessfully processing it, set the next Schedule time for
 the Scheduled Order. If fails, rollback to the original state
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - the RepositoryItem that identifies the Schedule Order</DL>
</DD>
</DL>
<HR>

<A NAME="placeScheduledOrder(atg.repository.MutableRepositoryItem)"><!-- --></A><H3>
placeScheduledOrder</H3>
<PRE>
protected void <B>placeScheduledOrder</B>(<A HREF="../../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pScheduledOrder)
                            throws <A HREF="../../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A>,
                                   <A HREF="../../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method places the Scheduled Order by first retrieving the template order
 for this Scheduled Order, then cloning it and repricing the cloned order.
 After sucessfully repricing it, it sends it to the Fullfiller to further process 
 it.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pScheduledOrder</CODE> - the Scheduled Order to be placed
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - thrown if any of the Commerce related error occurs
<DD><CODE><A HREF="../../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if an error is found when accessing the repository<DT><B>See Also:</B><DD><A HREF="../../../../atg/b2bcommerce/order/B2BOrderManager.html" title="class in atg.b2bcommerce.order"><CODE>B2BOrderManager</CODE></A>, 
<A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderTools.html" title="class in atg.b2bcommerce.order.scheduled"><CODE>ScheduledOrderTools</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getNextScheduledRun(atg.repository.MutableRepositoryItem, long)"><!-- --></A><H3>
getNextScheduledRun</H3>
<PRE>
protected long <B>getNextScheduledRun</B>(<A HREF="../../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A>&nbsp;pItem,
                                   long&nbsp;pLastRun)
                            throws <A HREF="../../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>This method calculates the next schedule run time for the Scheduled Order.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - the Scheduled Order<DD><CODE>pLastRun</CODE> - the last running time
<DT><B>Returns:</B><DD>the next Schedule run time
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - thrown if any of the Commerce related error occurs</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderMessage.html" title="class in atg.b2bcommerce.order.scheduled"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../atg/b2bcommerce/order/scheduled/ScheduledOrderTools.html" title="class in atg.b2bcommerce.order.scheduled"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ScheduledOrderService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
