<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_05) on Fri Dec 23 12:54:42 EST 2005 -->
<TITLE>
InventoryLevelDerivation (ATG Java API)
</TITLE>

<META NAME="keywords" CONTENT="atg.commerce.dp.InventoryLevelDerivation class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="InventoryLevelDerivation (ATG Java API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/dp/FirstWithLocale.html" title="class in atg.commerce.dp"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="InventoryLevelDerivation.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
atg.commerce.dp</FONT>
<BR>
Class InventoryLevelDerivation</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by">java.beans.FeatureDescriptor
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../atg/beans/SerializableFeatureDescriptor.html" title="class in atg.beans">atg.beans.SerializableFeatureDescriptor</A>
          <IMG SRC="../../../resources/inherit.gif" ALT="extended by">atg.repository.dp.DerivationMethodImpl
              <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><B>atg.commerce.dp.InventoryLevelDerivation</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>atg.repository.dp.Constants, atg.repository.dp.DerivationMethod, java.io.Serializable</DD>
</DL>
<HR>
<DL>
<DT>public class <B>InventoryLevelDerivation</B><DT>extends atg.repository.dp.DerivationMethodImpl</DL>

<P>
This derivation method is used to obtain inventory information for 
 a specified catalogRefId.  The catalogRefId that is used to query the
 <CODE>atg.commerce.inventory.InventoryManager<code>InventoryManager</code></CODE>
 is obtained from a value in the expression list.  Because the property
 is dervied via logic (querying an inventory manager), it is impossible
 to query based upon this property.  This property can only be
 accessed for read-only information.

 <P>An example of how this method property might be used is as follows:

 &lt;property name="inventoryLevel"&gt;
  &lt;derivation method="InventoryLevel"&gt; 
    &lt;expression&gt;catalogRefId&lt;/expression&gt;
  &lt;/derivation&gt;
 &lt;/property&gt;

 <P>This configuration assumes that the repository item on 
 which this property is configured has a property named <code>catalogRefId
 </code>.  That String value of the catalogRefId property is obtained
 and is used to query the inventory system.  This information can then
 be used in a variety of ways:
 <P>
 <ul>
   <li>a jhtml page author could do <valueof param="sku.inventoryLevel"/>
   to display inventory stock level for that particular item.
   <li>the inventoryLevel can then be accessed via scenarios as well
   when creating a promotion.
 </ul>
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../serialized-form.html#atg.commerce.dp.InventoryLevelDerivation">Serialized Form</A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#CLASS_VERSION">CLASS_VERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.repository.dp.DerivationMethodImpl"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class atg.repository.dp.DerivationMethodImpl</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>COMPARISON_QUERY, INCLUDES_ALL_QUERY, INCLUDES_ANY_QUERY, INCLUDES_ITEM_QUERY, INCLUDES_QUERY, IS_NULL_QUERY, PATTERN_MATCH_QUERY, sZero, TEXT_SEARCH_QUERY</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.beans.SerializableFeatureDescriptor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class atg.beans.<A HREF="../../../atg/beans/SerializableFeatureDescriptor.html" title="class in atg.beans">SerializableFeatureDescriptor</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#BUNDLE_ATTRIBUTE_NAME">BUNDLE_ATTRIBUTE_NAME</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#LOCALE_ATTRIBUTE_NAME">LOCALE_ATTRIBUTE_NAME</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.repository.dp.Constants"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from interface atg.repository.dp.Constants</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>ATTR_METHOD, ATTR_OVERRIDE_PROPERTY, ATTR_USER_METHOD, DEFAULT_METHOD_NAME, DEFAULT_RECURSION_DEPTH, DP_COUNT_ATTR_NAME, ERR_COLLECTION_EXPRESSION_TYPE, ERR_COLLECTION_ITEM_TYPE, ERR_DP_EXP_NOT_COLLECTION, ERR_DP_EXP_REFERENCES_DP, ERR_DP_QUERYABLE_OP_NOT, ERR_DP_READABLE_OP_NOT, ERR_DP_WRITABLE_OP_NOT, ERR_DP_WRITABLE_WITH_NULL_OP, ERR_EMPTY_EXPRESSION, ERR_INCOMPATIBLE_DP_EXP, ERR_INCOMPATIBLE_OP, ERR_INVALID_OVERRIDE_PROPERTY_NAME, ERR_INVALID_PROPERTY, ERR_METHOD_AND_USER_METHOD, ERR_NO_DP, ERR_NO_EXP, ERR_NO_EXPRESSION, ERR_NO_METHOD, ERR_NO_PROPERTY_FOR_LOCALE, ERR_NO_PROPERTY_TYPE, ERR_NO_SET_LIST, ERR_NULL_ITEM_DESCRIPTOR, ERR_OP_SAME_AS_DP, ERR_PROP_COLLECTION_TYPE, ERR_SET_NOT_WRITABLE, PROPERTY_SEPARATOR, RECURSION_DEPTH_ATTR_NAME, RESOURCE_BUNDLE_NAME, TAG_DERIVATION, TAG_EXPRESSION</CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#InventoryLevelDerivation()">InventoryLevelDerivation</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the name, display name and short description properties.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/repository/Query.html" title="interface in atg.repository">Query</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#createQuery(int, boolean, boolean, atg.repository.QueryExpression, int, boolean, atg.repository.QueryExpression, atg.repository.QueryExpression, atg.repository.Query, atg.repository.QueryBuilder, atg.repository.query.PropertyQueryExpression, java.util.List)">createQuery</A></B>(int&nbsp;pQueryType,
            boolean&nbsp;pDerivedPropertyOnLeft,
            boolean&nbsp;pCountDerivedProperty,
            <A HREF="../../../atg/repository/QueryExpression.html" title="interface in atg.repository">QueryExpression</A>&nbsp;pOther,
            int&nbsp;pOperator,
            boolean&nbsp;pIgnoreCase,
            <A HREF="../../../atg/repository/QueryExpression.html" title="interface in atg.repository">QueryExpression</A>&nbsp;pMinScore,
            <A HREF="../../../atg/repository/QueryExpression.html" title="interface in atg.repository">QueryExpression</A>&nbsp;pSearchStringFormat,
            <A HREF="../../../atg/repository/Query.html" title="interface in atg.repository">Query</A>&nbsp;pItemQuery,
            <A HREF="../../../atg/repository/QueryBuilder.html" title="interface in atg.repository">QueryBuilder</A>&nbsp;pBuilder,
            atg.repository.query.PropertyQueryExpression&nbsp;pParentProperty,
            java.util.List&nbsp;pChildPropertyList)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Do the real work of creating a query.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#derivePropertyValue(java.lang.Object)">derivePropertyValue</A></B>(java.lang.Object&nbsp;pBean)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method is not supported.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.Object</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#derivePropertyValue(atg.repository.RepositoryItemImpl)">derivePropertyValue</A></B>(<A HREF="../../../atg/repository/RepositoryItemImpl.html" title="class in atg.repository">RepositoryItemImpl</A>&nbsp;pItem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will return the inventory level associated
 with the passed in <code>catalogRefId</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#getCatalogRefId(java.util.List, atg.repository.RepositoryItemImpl)">getCatalogRefId</A></B>(java.util.List&nbsp;pList,
                <A HREF="../../../atg/repository/RepositoryItemImpl.html" title="class in atg.repository">RepositoryItemImpl</A>&nbsp;pItem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a list of <CODE>PropertyExpression<code>PropertyExpression</code></CODE>
 objects, return the catalogRefId.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/inventory/InventoryManager.html" title="interface in atg.commerce.inventory">InventoryManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#getInventoryManager()">getInventoryManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the inventoryManager property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;atg.repository.dp.Expression</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#getPropertyOrigin(atg.repository.RepositoryItemImpl)">getPropertyOrigin</A></B>(<A HREF="../../../atg/repository/RepositoryItemImpl.html" title="class in atg.repository">RepositoryItemImpl</A>&nbsp;pItem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determine from where the specified property value is derived, if
 applicable.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#isQueryable()">isQueryable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Because this property derives its value from a InventoryManager
 service, it is impossible to query on it.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#isThrowExceptionOnInventoryException()">isThrowExceptionOnInventoryException</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the throwExceptionOnInventoryException property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#setThrowExceptionOnInventoryException(boolean)">setThrowExceptionOnInventoryException</A></B>(boolean&nbsp;pThrowExceptionOnInventoryException)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the throwExceptionOnInventoryException property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/dp/InventoryLevelDerivation.html#validate()">validate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Validate the derivation.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.repository.dp.DerivationMethodImpl"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class atg.repository.dp.DerivationMethodImpl</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>createComparisonQuery, createIncludesAllQuery, createIncludesAnyQuery, createIncludesItemQuery, createIncludesQuery, createIsNullQuery, createPatternMatchQuery, createQuery, createTextSearchQuery, getDerivation, getFeatureDescriptor, getPropertyDescriptor, getPropertyOrigin, getPropertyOrigin, getPropertyOrigin, isEmpty, isWritable, rebuildExpression, setDerivation, setFrom, setPropertyDescriptor, setPropertyValue, setPropertyValue, wrap</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.beans.SerializableFeatureDescriptor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class atg.beans.<A HREF="../../../atg/beans/SerializableFeatureDescriptor.html" title="class in atg.beans">SerializableFeatureDescriptor</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#copyFeatureDescriptor(java.beans.FeatureDescriptor)">copyFeatureDescriptor</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#getDisplayName()">getDisplayName</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#getDisplayNameResource()">getDisplayNameResource</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#getDisplaySortString()">getDisplaySortString</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#getResourceBundle()">getResourceBundle</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#getShortDescription()">getShortDescription</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#getShortDescriptionResource()">getShortDescriptionResource</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#getSortString()">getSortString</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#setDisplayNameResource(java.lang.String)">setDisplayNameResource</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#setShortDescriptionResource(java.lang.String)">setShortDescriptionResource</A>, <A HREF="../../../atg/beans/SerializableFeatureDescriptor.html#toString()">toString</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.beans.FeatureDescriptor"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.beans.FeatureDescriptor</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>attributeNames, getName, getValue, isExpert, isHidden, isPreferred, setDisplayName, setExpert, setHidden, setName, setPreferred, setShortDescription, setValue</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="CLASS_VERSION"><!-- --></A><H3>
CLASS_VERSION</H3>
<PRE>
public static java.lang.String <B>CLASS_VERSION</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="InventoryLevelDerivation()"><!-- --></A><H3>
InventoryLevelDerivation</H3>
<PRE>
public <B>InventoryLevelDerivation</B>()</PRE>
<DL>
<DD>Set the name, display name and short description properties.  These are
 set from the value extracted from the 
 <CODE>Constants<code>Constants class</code></CODE>.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getInventoryManager()"><!-- --></A><H3>
getInventoryManager</H3>
<PRE>
public <A HREF="../../../atg/commerce/inventory/InventoryManager.html" title="interface in atg.commerce.inventory">InventoryManager</A> <B>getInventoryManager</B>()</PRE>
<DL>
<DD>Return the inventoryManager property.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the inventory manager</DL>
</DD>
</DL>
<HR>

<A NAME="isThrowExceptionOnInventoryException()"><!-- --></A><H3>
isThrowExceptionOnInventoryException</H3>
<PRE>
public boolean <B>isThrowExceptionOnInventoryException</B>()</PRE>
<DL>
<DD>Return the throwExceptionOnInventoryException property.
 This property controls whether or not an inventory exception
 thrown by the InventoryManager will be propogated.  This defaults
 to true.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>whether or not inventory exceptions should be propogated</DL>
</DD>
</DL>
<HR>

<A NAME="setThrowExceptionOnInventoryException(boolean)"><!-- --></A><H3>
setThrowExceptionOnInventoryException</H3>
<PRE>
public void <B>setThrowExceptionOnInventoryException</B>(boolean&nbsp;pThrowExceptionOnInventoryException)</PRE>
<DL>
<DD>Set the throwExceptionOnInventoryException property.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pThrowExceptionOnInventoryException</CODE> - </DL>
</DD>
</DL>
<HR>

<A NAME="getPropertyOrigin(atg.repository.RepositoryItemImpl)"><!-- --></A><H3>
getPropertyOrigin</H3>
<PRE>
public atg.repository.dp.Expression <B>getPropertyOrigin</B>(<A HREF="../../../atg/repository/RepositoryItemImpl.html" title="class in atg.repository">RepositoryItemImpl</A>&nbsp;pItem)</PRE>
<DL>
<DD>Determine from where the specified property value is derived, if
 applicable. For some derivations there is no identifiable origin for a
 derived property.  This returns null.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - the item whose property value origin is desired
<DT><B>Returns:</B><DD>the orgin of this property, or null if not applicable</DL>
</DD>
</DL>
<HR>

<A NAME="validate()"><!-- --></A><H3>
validate</H3>
<PRE>
public java.util.List <B>validate</B>()</PRE>
<DL>
<DD>Validate the derivation. This derivation only works if the expression
 list contains at least one expression element and that expression element
 will return <code>false</code> for the question <code>isMultiValued</code>
 Only the first &lt;Element&gt; is checked for its multivalue status
 since this implementation only extracts the <code>catalogRefId</code>
 value from the first &lt;Element&gt; in the list.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a non-null, possibly empty List of RepositoryExceptions if the
 derivation is not valid. The size of the list is the number of errors
 found.</DL>
</DD>
</DL>
<HR>

<A NAME="getCatalogRefId(java.util.List, atg.repository.RepositoryItemImpl)"><!-- --></A><H3>
getCatalogRefId</H3>
<PRE>
protected java.lang.String <B>getCatalogRefId</B>(java.util.List&nbsp;pList,
                                           <A HREF="../../../atg/repository/RepositoryItemImpl.html" title="class in atg.repository">RepositoryItemImpl</A>&nbsp;pItem)
                                    throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Given a list of <CODE>PropertyExpression<code>PropertyExpression</code></CODE>
 objects, return the catalogRefId.
 
 <P>This implementation will return the String value of the first
 object extracted from the list.  This means that the repository
 definition file is expected to define a single &lt;Express&gt;
 tag that can evaluate to a catalogRefId.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pList</CODE> - a list of PropertyExpression elements
<DT><B>Returns:</B><DD>a catalogRefId object, or null if no items in <code>pList</code>
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if error evaluating PropertyExpression</DL>
</DD>
</DL>
<HR>

<A NAME="derivePropertyValue(atg.repository.RepositoryItemImpl)"><!-- --></A><H3>
derivePropertyValue</H3>
<PRE>
public java.lang.Object <B>derivePropertyValue</B>(<A HREF="../../../atg/repository/RepositoryItemImpl.html" title="class in atg.repository">RepositoryItemImpl</A>&nbsp;pItem)
                                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method will return the inventory level associated
 with the passed in <code>catalogRefId</code>.  This 
 <code>catalogRefId</code> is obtained from the 
 one of the PropertyExpressions in the PropertyExpression
 list.  This means that if an item-desciptor has a property
 named <code>catalogRefId</code> which refers to the catalogRefId
 we would configure this derivation method in our repository
 configuration file to look like <BR>

 &lt;property name="inventoryLevel"&gt;
  &lt;derivation method="InventoryLevel"&gt; 
    &lt;expression&gt;catalogRefId&lt;/expression&gt;
  &lt;/derivation&gt;
 &lt;/property&gt;
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - a <code>RepositoryItemImpl</code> value
<DT><B>Returns:</B><DD>an <code>Object</code> value
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="derivePropertyValue(java.lang.Object)"><!-- --></A><H3>
derivePropertyValue</H3>
<PRE>
public java.lang.Object <B>derivePropertyValue</B>(java.lang.Object&nbsp;pBean)
                                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method is not supported.  We can infer from the method 
 arguments that this method is being called from the client side.
 We can not derive the property value from the client side
 with out accessing the InventoryManager directly.  This is not possible
 as such.  Clients wishing to access inventory level information
 should use the <code>derivePropertyValue</code> method that 
 uses a RepositoryItemImpl, or that is called server side.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pBean</CODE> - an <code>Object</code> value to be computed
<DT><B>Returns:</B><DD>an <code>Object</code> value
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if an error occurs</DL>
</DD>
</DL>
<HR>

<A NAME="isQueryable()"><!-- --></A><H3>
isQueryable</H3>
<PRE>
public boolean <B>isQueryable</B>()</PRE>
<DL>
<DD>Because this property derives its value from a InventoryManager
 service, it is impossible to query on it.  That is, the 
 QueryBuilder interface does not allow one to query non Repository
 based information stores.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>true if queryable</DL>
</DD>
</DL>
<HR>

<A NAME="createQuery(int, boolean, boolean, atg.repository.QueryExpression, int, boolean, atg.repository.QueryExpression, atg.repository.QueryExpression, atg.repository.Query, atg.repository.QueryBuilder, atg.repository.query.PropertyQueryExpression, java.util.List)"><!-- --></A><H3>
createQuery</H3>
<PRE>
protected <A HREF="../../../atg/repository/Query.html" title="interface in atg.repository">Query</A> <B>createQuery</B>(int&nbsp;pQueryType,
                            boolean&nbsp;pDerivedPropertyOnLeft,
                            boolean&nbsp;pCountDerivedProperty,
                            <A HREF="../../../atg/repository/QueryExpression.html" title="interface in atg.repository">QueryExpression</A>&nbsp;pOther,
                            int&nbsp;pOperator,
                            boolean&nbsp;pIgnoreCase,
                            <A HREF="../../../atg/repository/QueryExpression.html" title="interface in atg.repository">QueryExpression</A>&nbsp;pMinScore,
                            <A HREF="../../../atg/repository/QueryExpression.html" title="interface in atg.repository">QueryExpression</A>&nbsp;pSearchStringFormat,
                            <A HREF="../../../atg/repository/Query.html" title="interface in atg.repository">Query</A>&nbsp;pItemQuery,
                            <A HREF="../../../atg/repository/QueryBuilder.html" title="interface in atg.repository">QueryBuilder</A>&nbsp;pBuilder,
                            atg.repository.query.PropertyQueryExpression&nbsp;pParentProperty,
                            java.util.List&nbsp;pChildPropertyList)
                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Do the real work of creating a query. The various
 translate methods call this helper method. The arguments may seem a
 little strange. By passing all the arguments to all the types of queries
 we can centralize the derivation logic without having to instanceof
 and cast query objects all over the place.

 All of the QueryExpression arguments to this method were created by
 pBuilder and thus can be used as is without being translated.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pQueryType</CODE> - the type of the original query<DD><CODE>pDerivedPropertyOnLeft</CODE> - if <code>true</code> the derived property
 is used as the left hand side in the query and pOtherExpression is
 used as the right hand side. If <code>false</code> the derived property
 is used as the right hand side and pOtherExpression is used as the left
 hand side.<DD><CODE>pCountDerivedProperty</CODE> - if <code>true</code> the derived property
 is used in a count query expression<DD><CODE>pOther</CODE> - the other expression involved in binary queries<DD><CODE>pOperator</CODE> - the binary operator involved in binary queries<DD><CODE>pIgnoreCase</CODE> - whether to ignore case in pattern match queries<DD><CODE>pMinScore</CODE> - min score for text queries<DD><CODE>pSearchStringFormat</CODE> - search string format for text queries<DD><CODE>pItemQuery</CODE> - query to use in includes item queries only<DD><CODE>pBuilder</CODE> - query builder to use<DD><CODE>pParentProperty</CODE> - the parent of the derived property, if the 
 derived property is not a direct child of the Item being queried.<DD><CODE>pChildPropertyList</CODE> - a list of the children of the derived
 property, if the derived property is not the last expression
 in the query.
<DT><B>Returns:</B><DD>the specified first non null query
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there is problem building the query</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/dp/FirstWithLocale.html" title="class in atg.commerce.dp"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="InventoryLevelDerivation.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
