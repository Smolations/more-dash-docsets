<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_05) on Fri Dec 23 12:54:54 EST 2005 -->
<TITLE>
TaxProcessorTaxCalculator (ATG Java API)
</TITLE>

<META NAME="keywords" CONTENT="atg.commerce.pricing.TaxProcessorTaxCalculator class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="TaxProcessorTaxCalculator (ATG Java API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/pricing/TaxPricingEngineImpl.html" title="class in atg.commerce.pricing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../atg/commerce/pricing/WeightRangeShippingCalculator.html" title="class in atg.commerce.pricing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TaxProcessorTaxCalculator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
atg.commerce.pricing</FONT>
<BR>
Class TaxProcessorTaxCalculator</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">atg.nucleus.GenericService</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><B>atg.commerce.pricing.TaxProcessorTaxCalculator</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../atg/nucleus/AdminableService.html" title="interface in atg.nucleus">AdminableService</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A>, <A HREF="../../../atg/nucleus/naming/ComponentNameResolver.html" title="interface in atg.nucleus.naming">ComponentNameResolver</A>, java.util.EventListener, <A HREF="../../../atg/naming/NameContextBindingListener.html" title="interface in atg.naming">NameContextBindingListener</A>, <A HREF="../../../atg/naming/NameContextElement.html" title="interface in atg.naming">NameContextElement</A>, <A HREF="../../../atg/naming/NameResolver.html" title="interface in atg.naming">NameResolver</A>, <A HREF="../../../atg/nucleus/Service.html" title="interface in atg.nucleus">Service</A>, <A HREF="../../../atg/nucleus/ServiceListener.html" title="interface in atg.nucleus">ServiceListener</A>, <A HREF="../../../atg/commerce/pricing/TaxPricingCalculator.html" title="interface in atg.commerce.pricing">TaxPricingCalculator</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../atg/commerce/pricing/AddressVerificationTaxProcessorTaxCalculator.html" title="class in atg.commerce.pricing">AddressVerificationTaxProcessorTaxCalculator</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>TaxProcessorTaxCalculator</B><DT>extends <A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A><DT>implements <A HREF="../../../atg/commerce/pricing/TaxPricingCalculator.html" title="interface in atg.commerce.pricing">TaxPricingCalculator</A></DL>

<P>
Uses the atg.payment.tax package to calculate tax for an order.
 This class is configured with an atg.payment.tax.TaxProcessor which is passed
 all of the information it needs to compute tax, e.g. the Amount, Shipping Address,
 Currency Code, etc.

 Note:  This calc looks at the  <code>averagePriceRoundingDecimalPlaces</code> property
 of PricingTools.  As of this writing, DCS does not keep track of which units of a CommerceItem
 are being shipped to what addresses.  Also, the ItemPricingEngine is capable of pricing
 different units of a CommerceItem differently because of various promotions.  These
 two facts mean that we can't be perfectly sure about the exact amount that is to be
 taxed.  Instead, this calculator takes an average CommerceItem unit price and multiplies
 it by the number of units in a particular shipping group.  All this dividing may
 potentially leave us with a price that has an infinitely repeating number of decimals.
 The <code>averagePriceRoundingDecimalPlaces</code> property dictates how to truncate
 these prices before sending them to the TaxProcessor implementation.  This calculator
 keeps track of any missing money and adds it to one of the totals.
<P>

<P>
<DL>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#CLASS_VERSION">CLASS_VERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class version string</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#DETAILED_ITEM_PRICE_TAX_PROPERTY">DETAILED_ITEM_PRICE_TAX_PROPERTY</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class atg.nucleus.<A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/GenericService.html#SERVICE_INFO_KEY">SERVICE_INFO_KEY</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.logging.ApplicationLogging"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from interface atg.nucleus.logging.<A HREF="../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_DEBUG_STATUS">DEFAULT_LOG_DEBUG_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_ERROR_STATUS">DEFAULT_LOG_ERROR_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_INFO_STATUS">DEFAULT_LOG_INFO_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_WARNING_STATUS">DEFAULT_LOG_WARNING_STATUS</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#TaxProcessorTaxCalculator()">TaxProcessorTaxCalculator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#assignItemTaxAmounts(atg.commerce.order.Order, atg.commerce.pricing.TaxPriceInfo, atg.payment.tax.TaxStatus)">assignItemTaxAmounts</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                     <A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pOrderTax,
                     <A HREF="../../../atg/payment/tax/TaxStatus.html" title="interface in atg.payment.tax">TaxStatus</A>&nbsp;pStatus)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assign each detail's <code>tax</code> for the given order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#assignItemTaxAmounts(atg.commerce.order.ShippingGroup, atg.commerce.pricing.TaxPriceInfo, atg.commerce.pricing.OrderPriceInfo, atg.commerce.pricing.OrderPriceInfo, atg.payment.tax.TaxStatus)">assignItemTaxAmounts</A></B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pShippingGroup,
                     <A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pTaxPriceInfo,
                     <A HREF="../../../atg/commerce/pricing/OrderPriceInfo.html" title="class in atg.commerce.pricing">OrderPriceInfo</A>&nbsp;pOrderPrice,
                     <A HREF="../../../atg/commerce/pricing/OrderPriceInfo.html" title="class in atg.commerce.pricing">OrderPriceInfo</A>&nbsp;pShippingSubtotal,
                     <A HREF="../../../atg/payment/tax/TaxStatus.html" title="interface in atg.payment.tax">TaxStatus</A>&nbsp;pStatus)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Assign each detail's <code>tax</code> for the given order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#calculateTax(atg.payment.tax.TaxRequestInfo, atg.commerce.pricing.TaxPriceInfo, atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)">calculateTax</A></B>(<A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTRI,
             <A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pPriceQuote,
             <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
             java.util.Locale&nbsp;pLocale,
             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
             java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given the input TaxRequestInfo object, modify the input pPriceQuote object
 to reflect the current tax.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#calculateTaxByShipping(atg.payment.tax.TaxRequestInfo, atg.commerce.pricing.TaxPriceInfo, atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)">calculateTaxByShipping</A></B>(<A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTRI,
                       <A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pPriceQuote,
                       <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                       <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                       java.util.Locale&nbsp;pLocale,
                       <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                       java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given the input TaxRequestInfo object, modify the input pPriceQuote object
 to reflect the current tax.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/payment/tax/TaxableItem.html" title="interface in atg.payment.tax">TaxableItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#createTaxableItemForRelationship(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo)">createTaxableItemForRelationship</A></B>(<A HREF="../../../atg/commerce/order/CommerceItemRelationship.html" title="interface in atg.commerce.order">CommerceItemRelationship</A>&nbsp;pRelationship,
                                 <A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTaxRequestInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create a TaxableItem for the input relationship and TaxRequestInfo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/payment/tax/TaxableItem.html" title="interface in atg.payment.tax">TaxableItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#createTaxableItemForRelationship(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo, atg.commerce.order.Order, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)">createTaxableItemForRelationship</A></B>(<A HREF="../../../atg/commerce/order/CommerceItemRelationship.html" title="interface in atg.commerce.order">CommerceItemRelationship</A>&nbsp;pRelationship,
                                 <A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTaxRequestInfo,
                                 <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                 java.util.Locale&nbsp;pLocale,
                                 <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                 java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create a TaxableItem for the input relationship and
 TaxRequestInfo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/payment/tax/TaxableItem.html" title="interface in atg.payment.tax">TaxableItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#createTaxableItemForRelationshipByAverage(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo)">createTaxableItemForRelationshipByAverage</A></B>(<A HREF="../../../atg/commerce/order/CommerceItemRelationship.html" title="interface in atg.commerce.order">CommerceItemRelationship</A>&nbsp;pRelationship,
                                          <A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTaxRequestInfo)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;create a TaxableItem for the input relationship and TaxRequestInfo.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/payment/tax/TaxableItem.html" title="interface in atg.payment.tax">TaxableItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#createTaxableItemForRelationshipByAverage(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo, atg.commerce.order.Order, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)">createTaxableItemForRelationshipByAverage</A></B>(<A HREF="../../../atg/commerce/order/CommerceItemRelationship.html" title="interface in atg.commerce.order">CommerceItemRelationship</A>&nbsp;pRelationship,
                                          <A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTaxRequestInfo,
                                          <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                          java.util.Locale&nbsp;pLocale,
                                          <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                          java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>This method is superseded by
    <A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#createTaxableItemForRelationship(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo)"><CODE>createTaxableItemForRelationship(CommerceItemRelationship, TaxRequestInfo)</CODE></A>
    since the other four parameters are not actually used.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#determineShippingAddress(atg.commerce.order.ShippingGroup)">determineShippingAddress</A></B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pGroup)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines a shipping address based on a ShippingGroup</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#doStartService()">doStartService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This is called after a Service has been created, placed into the
 naming hierarchy, and initialized with its configured property
 values.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#getBillingAddressPropertyName()">getBillingAddressPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the billingAddressPropertyName</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#getCalculateTaxByShipping()">getCalculateTaxByShipping</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag that determines whether this calculator should calculate tax on a per-shippingGroup basis.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order">OrderManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#getOrderManager()">getOrderManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get property OrderManager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#getPricingTools()">getPricingTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the PricingTools object which helps this calculator calculate tax'</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#getRelationshipsToAssignTaxTo(atg.commerce.order.ShippingGroup)">getRelationshipsToAssignTaxTo</A></B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pShippingGroup)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the list of ShippingGroupCommerceItemRelationships that should be assigned tax.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/payment/tax/TaxProcessor.html" title="interface in atg.payment.tax">TaxProcessor</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#getTaxProcessor()">getTaxProcessor</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get property TaxProcessor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#getTaxStatusProperty()">getTaxStatusProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property TaxStatusProperty</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#isVerifyAddresses()">isVerifyAddresses</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Test property VerifyAddresses</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#priceTax(atg.commerce.pricing.TaxPriceInfo, atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)">priceTax</A></B>(<A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pPriceQuote,
         <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
         <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
         java.util.Locale&nbsp;pLocale,
         <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
         java.util.Map&nbsp;pExtraParameters)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Tax an order within a context.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#setBillingAddressPropertyName(java.lang.String)">setBillingAddressPropertyName</A></B>(java.lang.String&nbsp;pBillingAddressPropertyName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the billingAddressPropertyName</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#setCalculateTaxByShipping(boolean)">setCalculateTaxByShipping</A></B>(boolean&nbsp;pCalculateTaxByShipping)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag that determines whether this calculator should calculate tax on a per-shippingGroup basis.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#setOrderManager(atg.commerce.order.OrderManager)">setOrderManager</A></B>(<A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order">OrderManager</A>&nbsp;pOrderManager)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set property OrderManager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#setPricingTools(atg.commerce.pricing.PricingTools)">setPricingTools</A></B>(<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A>&nbsp;pPricingTools)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;the PricingTools object which helps this calculator calculate tax</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#setTaxProcessor(atg.payment.tax.TaxProcessor)">setTaxProcessor</A></B>(<A HREF="../../../atg/payment/tax/TaxProcessor.html" title="interface in atg.payment.tax">TaxProcessor</A>&nbsp;pTaxProcessor)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set property TaxProcessor</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#setTaxStatusProperty(java.lang.String)">setTaxStatusProperty</A></B>(java.lang.String&nbsp;pTaxStatusProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property TaxStatusProperty</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#setVerifyAddresses(boolean)">setVerifyAddresses</A></B>(boolean&nbsp;pVerifyAddresses)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flag that determines whether this calculator will attempt to verify addresses</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class atg.nucleus.<A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/GenericService.html#addLogListener(atg.nucleus.logging.LogListener)">addLogListener</A>, <A HREF="../../../atg/nucleus/GenericService.html#createAdminServlet()">createAdminServlet</A>, <A HREF="../../../atg/nucleus/GenericService.html#doStopService()">doStopService</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAbsoluteName()">getAbsoluteName</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAdminServlet()">getAdminServlet</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLogListenerCount()">getLogListenerCount</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLogListeners()">getLogListeners</A>, <A HREF="../../../atg/nucleus/GenericService.html#getName()">getName</A>, <A HREF="../../../atg/nucleus/GenericService.html#getNameContext()">getNameContext</A>, <A HREF="../../../atg/nucleus/GenericService.html#getNucleus()">getNucleus</A>, <A HREF="../../../atg/nucleus/GenericService.html#getRoot()">getRoot</A>, <A HREF="../../../atg/nucleus/GenericService.html#getServiceConfiguration()">getServiceConfiguration</A>, <A HREF="../../../atg/nucleus/GenericService.html#getServiceInfo()">getServiceInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingDebug()">isLoggingDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingError()">isLoggingError</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingInfo()">isLoggingInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingWarning()">isLoggingWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#isRunning()">isRunning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.String)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.String, java.lang.Throwable)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.Throwable)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.String)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.String, java.lang.Throwable)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.Throwable)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.String)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.String, java.lang.Throwable)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.Throwable)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.String)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.String, java.lang.Throwable)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.Throwable)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#nameContextElementBound(atg.naming.NameContextBindingEvent)">nameContextElementBound</A>, <A HREF="../../../atg/nucleus/GenericService.html#nameContextElementUnbound(atg.naming.NameContextBindingEvent)">nameContextElementUnbound</A>, <A HREF="../../../atg/nucleus/GenericService.html#removeLogListener(atg.nucleus.logging.LogListener)">removeLogListener</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName, boolean)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(java.lang.String)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(java.lang.String, boolean)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#sendLogEvent(atg.nucleus.logging.LogEvent)">sendLogEvent</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingDebug(boolean)">setLoggingDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingError(boolean)">setLoggingError</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingInfo(boolean)">setLoggingInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingWarning(boolean)">setLoggingWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#setServiceInfo(java.lang.String)">setServiceInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#startService(atg.nucleus.ServiceEvent)">startService</A>, <A HREF="../../../atg/nucleus/GenericService.html#stopService()">stopService</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="CLASS_VERSION"><!-- --></A><H3>
CLASS_VERSION</H3>
<PRE>
public static java.lang.String <B>CLASS_VERSION</B></PRE>
<DL>
<DD>Class version string
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="DETAILED_ITEM_PRICE_TAX_PROPERTY"><!-- --></A><H3>
DETAILED_ITEM_PRICE_TAX_PROPERTY</H3>
<PRE>
public static final java.lang.String <B>DETAILED_ITEM_PRICE_TAX_PROPERTY</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#atg.commerce.pricing.TaxProcessorTaxCalculator.DETAILED_ITEM_PRICE_TAX_PROPERTY">Constant Field Values</A></DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="TaxProcessorTaxCalculator()"><!-- --></A><H3>
TaxProcessorTaxCalculator</H3>
<PRE>
public <B>TaxProcessorTaxCalculator</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="setTaxStatusProperty(java.lang.String)"><!-- --></A><H3>
setTaxStatusProperty</H3>
<PRE>
public void <B>setTaxStatusProperty</B>(java.lang.String&nbsp;pTaxStatusProperty)</PRE>
<DL>
<DD>Sets property TaxStatusProperty
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTaxStatusProperty()"><!-- --></A><H3>
getTaxStatusProperty</H3>
<PRE>
public java.lang.String <B>getTaxStatusProperty</B>()</PRE>
<DL>
<DD>Returns property TaxStatusProperty
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setTaxProcessor(atg.payment.tax.TaxProcessor)"><!-- --></A><H3>
setTaxProcessor</H3>
<PRE>
public void <B>setTaxProcessor</B>(<A HREF="../../../atg/payment/tax/TaxProcessor.html" title="interface in atg.payment.tax">TaxProcessor</A>&nbsp;pTaxProcessor)</PRE>
<DL>
<DD>Set property TaxProcessor
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pTaxProcessor</CODE> - new value to set</DL>
</DD>
</DL>
<HR>

<A NAME="getTaxProcessor()"><!-- --></A><H3>
getTaxProcessor</H3>
<PRE>
public <A HREF="../../../atg/payment/tax/TaxProcessor.html" title="interface in atg.payment.tax">TaxProcessor</A> <B>getTaxProcessor</B>()</PRE>
<DL>
<DD>Get property TaxProcessor
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>TaxProcessor</DL>
</DD>
</DL>
<HR>

<A NAME="setOrderManager(atg.commerce.order.OrderManager)"><!-- --></A><H3>
setOrderManager</H3>
<PRE>
public void <B>setOrderManager</B>(<A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order">OrderManager</A>&nbsp;pOrderManager)</PRE>
<DL>
<DD>Set property OrderManager
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrderManager</CODE> - new value to set</DL>
</DD>
</DL>
<HR>

<A NAME="getOrderManager()"><!-- --></A><H3>
getOrderManager</H3>
<PRE>
public <A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order">OrderManager</A> <B>getOrderManager</B>()</PRE>
<DL>
<DD>Get property OrderManager
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>OrderManager</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingTools(atg.commerce.pricing.PricingTools)"><!-- --></A><H3>
setPricingTools</H3>
<PRE>
public void <B>setPricingTools</B>(<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A>&nbsp;pPricingTools)</PRE>
<DL>
<DD>the PricingTools object which helps this calculator calculate tax
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingTools</CODE> - new value to set</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingTools()"><!-- --></A><H3>
getPricingTools</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A> <B>getPricingTools</B>()</PRE>
<DL>
<DD>the PricingTools object which helps this calculator calculate tax'
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>property PricingTools</DL>
</DD>
</DL>
<HR>

<A NAME="setVerifyAddresses(boolean)"><!-- --></A><H3>
setVerifyAddresses</H3>
<PRE>
public void <B>setVerifyAddresses</B>(boolean&nbsp;pVerifyAddresses)</PRE>
<DL>
<DD>flag that determines whether this calculator will attempt to verify addresses
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pVerifyAddresses</CODE> - new value to set</DL>
</DD>
</DL>
<HR>

<A NAME="isVerifyAddresses()"><!-- --></A><H3>
isVerifyAddresses</H3>
<PRE>
public boolean <B>isVerifyAddresses</B>()</PRE>
<DL>
<DD>Test property VerifyAddresses
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>VerifyAddresses</DL>
</DD>
</DL>
<HR>

<A NAME="setCalculateTaxByShipping(boolean)"><!-- --></A><H3>
setCalculateTaxByShipping</H3>
<PRE>
public void <B>setCalculateTaxByShipping</B>(boolean&nbsp;pCalculateTaxByShipping)</PRE>
<DL>
<DD>flag that determines whether this calculator should calculate tax on a per-shippingGroup basis.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pCalculateTaxByShipping</CODE> - new value to set</DL>
</DD>
</DL>
<HR>

<A NAME="getCalculateTaxByShipping()"><!-- --></A><H3>
getCalculateTaxByShipping</H3>
<PRE>
public boolean <B>getCalculateTaxByShipping</B>()</PRE>
<DL>
<DD>flag that determines whether this calculator should calculate tax on a per-shippingGroup basis.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Returns:</B><DD>property CalculateTaxByShipping</DL>
</DD>
</DL>
<HR>

<A NAME="getBillingAddressPropertyName()"><!-- --></A><H3>
getBillingAddressPropertyName</H3>
<PRE>
public java.lang.String <B>getBillingAddressPropertyName</B>()</PRE>
<DL>
<DD>Returns the billingAddressPropertyName
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setBillingAddressPropertyName(java.lang.String)"><!-- --></A><H3>
setBillingAddressPropertyName</H3>
<PRE>
public void <B>setBillingAddressPropertyName</B>(java.lang.String&nbsp;pBillingAddressPropertyName)</PRE>
<DL>
<DD>Sets the billingAddressPropertyName
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="priceTax(atg.commerce.pricing.TaxPriceInfo, atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)"><!-- --></A><H3>
priceTax</H3>
<PRE>
public void <B>priceTax</B>(<A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pPriceQuote,
                     <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                     <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                     java.util.Locale&nbsp;pLocale,
                     <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                     java.util.Map&nbsp;pExtraParameters)
              throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Tax an order within a context.  This implementation consults the configured
 TaxProcessor for the tax.  The steps taken here are:
 <ul>
  <li>create and configure a TaxRequestInfo
  <li>pass the TaxRequestInfo to the TaxProcessor
  <li>interpret the TaxStatus on return
  <li>configure the output TaxPriceInfo with information gleaned from the TaxStatus
 </ul>

 NOTE:
  The algorithm used by this method to determine the tax of the order finds
  an average price for each item and uses that price in determining the tax
  on every unit of that item.  The reason for this is that there is currently no
  way to specify which individual units of a CommerceItem belong in which shipping
  relationship.  Additionally, units as small as one of a CommerceItem
  can be priced differently from other units in the same CommerceItem.  These two
  situations mean that when taxing a CommerceItem, there is no way to know
  explicitly what the total price of a shipping relationship is.  Therefore, an
  average price is computed for all items, and that price is multiplied by the
  quantity of the CommerceItem that reside in the current relationship to find the
  total price of the relationship.
  <p>
  Ideally, we should change a shipping relationship to include an exact specification
  of which units of a CommerceItem belong to that relationship.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../atg/commerce/pricing/TaxPricingCalculator.html#priceTax(atg.commerce.pricing.TaxPriceInfo, atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)">priceTax</A></CODE> in interface <CODE><A HREF="../../../atg/commerce/pricing/TaxPricingCalculator.html" title="interface in atg.commerce.pricing">TaxPricingCalculator</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPriceQuote</CODE> - TaxPriceInfo representing the tax quote for the order<DD><CODE>pOrder</CODE> - The order to tax<DD><CODE>pProfile</CODE> - The user's profile<DD><CODE>pExtraParameters</CODE> - A Map of extra parameters to be used in the pricing, may be null
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="calculateTaxByShipping(atg.payment.tax.TaxRequestInfo, atg.commerce.pricing.TaxPriceInfo, atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)"><!-- --></A><H3>
calculateTaxByShipping</H3>
<PRE>
protected void <B>calculateTaxByShipping</B>(<A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTRI,
                                      <A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pPriceQuote,
                                      <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                                      java.util.Locale&nbsp;pLocale,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                      java.util.Map&nbsp;pExtraParameters)
                               throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Given the input TaxRequestInfo object, modify the input pPriceQuote object
 to reflect the current tax.  This method differs from calculateTax in that
 it calls through to the 'calculateTaxByShipping' tax API call.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pTRI</CODE> - the TaxRequestInfo object which represents a request from a TaxProcessor
        for a tax calculation.  Required.<DD><CODE>pPriceQuote</CODE> - the TaxPriceInfo to modify to reflect the calculated tax.  Required.<DD><CODE>pOrder</CODE> - the order for which tax is being calculated.  Optional.<DD><CODE>pPricingModel</CODE> - the pricing model which is modifying the tax total.  Optional.
        Not used in DCS at this time.<DD><CODE>pLocale</CODE> - the local in which the tax should be calculated. Optional.<DD><CODE>pProfile</CODE> - the person for whom the tax is being calculated. Optional.<DD><CODE>pExtraParameters</CODE> - any extra information needed to calculate tax. Optional.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="calculateTax(atg.payment.tax.TaxRequestInfo, atg.commerce.pricing.TaxPriceInfo, atg.commerce.order.Order, atg.repository.RepositoryItem, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)"><!-- --></A><H3>
calculateTax</H3>
<PRE>
protected void <B>calculateTax</B>(<A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTRI,
                            <A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pPriceQuote,
                            <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pPricingModel,
                            java.util.Locale&nbsp;pLocale,
                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                            java.util.Map&nbsp;pExtraParameters)
                     throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Given the input TaxRequestInfo object, modify the input pPriceQuote object
 to reflect the current tax.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pTRI</CODE> - the TaxRequestInfo object which represents a request from a TaxProcessor
        for a tax calculation. Required.<DD><CODE>pPriceQuote</CODE> - the TaxPriceInfo to modify to reflect the calculated tax.  Required.<DD><CODE>pOrder</CODE> - the order for which tax is being calculated.  Optional.<DD><CODE>pPricingModel</CODE> - the pricing model which is modifying the tax total.  Optional.
        Not used in DCS at this time.<DD><CODE>pLocale</CODE> - the local in which the tax should be calculated. Optional.<DD><CODE>pProfile</CODE> - the person for whom the tax is being calculated. Optional.<DD><CODE>pExtraParameters</CODE> - any extra information needed to calculate tax. Optional.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="determineShippingAddress(atg.commerce.order.ShippingGroup)"><!-- --></A><H3>
determineShippingAddress</H3>
<PRE>
protected <A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A> <B>determineShippingAddress</B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pGroup)</PRE>
<DL>
<DD>Determines a shipping address based on a ShippingGroup
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="createTaxableItemForRelationshipByAverage(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo, atg.commerce.order.Order, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)"><!-- --></A><H3>
createTaxableItemForRelationshipByAverage</H3>
<PRE>
protected <A HREF="../../../atg/payment/tax/TaxableItem.html" title="interface in atg.payment.tax">TaxableItem</A> <B>createTaxableItemForRelationshipByAverage</B>(<A HREF="../../../atg/commerce/order/CommerceItemRelationship.html" title="interface in atg.commerce.order">CommerceItemRelationship</A>&nbsp;pRelationship,
                                                                <A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTaxRequestInfo,
                                                                <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                                                java.util.Locale&nbsp;pLocale,
                                                                <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                                                java.util.Map&nbsp;pExtraParameters)
                                                         throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>This method is superseded by
    <A HREF="../../../atg/commerce/pricing/TaxProcessorTaxCalculator.html#createTaxableItemForRelationship(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo)"><CODE>createTaxableItemForRelationship(CommerceItemRelationship, TaxRequestInfo)</CODE></A>
    since the other four parameters are not actually used.</I>
<P>
<DD>create a TaxableItem for the input relationship and TaxRequestInfo.  This implementation
 finds the average price of a single unit of the relationship's CommerceItem and uses
 that price as a basis for determining the total cost of the relationship.  This
 in turn affects the amount of tax on this relationship.  Extending classes can override
 this method to gain finer control over the manner in which units of a CommerceItem are
 assigned to a CommerceItemRelationship.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRelationship</CODE> - the relationship for which a TaxableItem is needed.<DD><CODE>pTaxRequestInfo</CODE> - the TaxRequestInfo object into which the returned TaxableItem will be
        inserted.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE><DT><B>See Also:</B><DD><CODE></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createTaxableItemForRelationshipByAverage(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo)"><!-- --></A><H3>
createTaxableItemForRelationshipByAverage</H3>
<PRE>
protected <A HREF="../../../atg/payment/tax/TaxableItem.html" title="interface in atg.payment.tax">TaxableItem</A> <B>createTaxableItemForRelationshipByAverage</B>(<A HREF="../../../atg/commerce/order/CommerceItemRelationship.html" title="interface in atg.commerce.order">CommerceItemRelationship</A>&nbsp;pRelationship,
                                                                <A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTaxRequestInfo)
                                                         throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>create a TaxableItem for the input relationship and TaxRequestInfo.  This implementation
 finds the average price of a single unit of the relationship's CommerceItem and uses
 that price as a basis for determining the total cost of the relationship.  This
 in turn affects the amount of tax on this relationship.  Extending classes can override
 this method to gain finer control over the manner in which units of a CommerceItem are
 assigned to a CommerceItemRelationship.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRelationship</CODE> - the relationship for which a TaxableItem is needed.<DD><CODE>pTaxRequestInfo</CODE> - the TaxRequestInfo object into which the returned TaxableItem will be
        inserted.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createTaxableItemForRelationship(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo)"><!-- --></A><H3>
createTaxableItemForRelationship</H3>
<PRE>
protected <A HREF="../../../atg/payment/tax/TaxableItem.html" title="interface in atg.payment.tax">TaxableItem</A> <B>createTaxableItemForRelationship</B>(<A HREF="../../../atg/commerce/order/CommerceItemRelationship.html" title="interface in atg.commerce.order">CommerceItemRelationship</A>&nbsp;pRelationship,
                                                       <A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTaxRequestInfo)
                                                throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>create a TaxableItem for the input relationship and TaxRequestInfo.  This implementation
 finds the average price of a single unit of the relationship's CommerceItem and uses
 that price as a basis for determining the total cost of the relationship.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRelationship</CODE> - the relationship for which a TaxableItem is needed.<DD><CODE>pTaxRequestInfo</CODE> - the TaxRequestInfo object into which the returned TaxableItem will be
        inserted.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="createTaxableItemForRelationship(atg.commerce.order.CommerceItemRelationship, atg.payment.tax.TaxRequestInfo, atg.commerce.order.Order, java.util.Locale, atg.repository.RepositoryItem, java.util.Map)"><!-- --></A><H3>
createTaxableItemForRelationship</H3>
<PRE>
protected <A HREF="../../../atg/payment/tax/TaxableItem.html" title="interface in atg.payment.tax">TaxableItem</A> <B>createTaxableItemForRelationship</B>(<A HREF="../../../atg/commerce/order/CommerceItemRelationship.html" title="interface in atg.commerce.order">CommerceItemRelationship</A>&nbsp;pRelationship,
                                                       <A HREF="../../../atg/payment/tax/TaxRequestInfo.html" title="interface in atg.payment.tax">TaxRequestInfo</A>&nbsp;pTaxRequestInfo,
                                                       <A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                                       java.util.Locale&nbsp;pLocale,
                                                       <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                                       java.util.Map&nbsp;pExtraParameters)
                                                throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>create a TaxableItem for the input relationship and
 TaxRequestInfo.  This implementation finds the sum of the amounts
 for each DetailedItemPriceInfo that apply to a Range that is
 inside the Range for this Relationship Extending classes can
 override this method to gain finer control over the manner in
 which units of a CommerceItem are assigned to a
 CommerceItemRelationship.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRelationship</CODE> - the relationship for which a TaxableItem is needed.<DD><CODE>pTaxRequestInfo</CODE> - the TaxRequestInfo object into which the returned TaxableItem will be
        inserted.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="assignItemTaxAmounts(atg.commerce.order.Order, atg.commerce.pricing.TaxPriceInfo, atg.payment.tax.TaxStatus)"><!-- --></A><H3>
assignItemTaxAmounts</H3>
<PRE>
protected void <B>assignItemTaxAmounts</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                    <A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pOrderTax,
                                    <A HREF="../../../atg/payment/tax/TaxStatus.html" title="interface in atg.payment.tax">TaxStatus</A>&nbsp;pStatus)
                             throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Assign each detail's <code>tax</code> for the given order.  This
 method will assign a tax value for the detail proportional to the
 details cost compared to the order cost.  For example, if the
 order is $100, the detail is $20, and the tax is $10: the
 detail's tax will be $2. This method is used if
 <code>calculateTaxByShipping</code> is false.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - The order that was just taxed.<DD><CODE>pOrderTax</CODE> - The orders tax.<DD><CODE>pStatus</CODE> - This is the tax status that was returned from the TaxProcessor.  This is currently
                ignored.  If the status were to include the item level tax breakdown, this method
                could be extended to use that information.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="assignItemTaxAmounts(atg.commerce.order.ShippingGroup, atg.commerce.pricing.TaxPriceInfo, atg.commerce.pricing.OrderPriceInfo, atg.commerce.pricing.OrderPriceInfo, atg.payment.tax.TaxStatus)"><!-- --></A><H3>
assignItemTaxAmounts</H3>
<PRE>
protected void <B>assignItemTaxAmounts</B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pShippingGroup,
                                    <A HREF="../../../atg/commerce/pricing/TaxPriceInfo.html" title="class in atg.commerce.pricing">TaxPriceInfo</A>&nbsp;pTaxPriceInfo,
                                    <A HREF="../../../atg/commerce/pricing/OrderPriceInfo.html" title="class in atg.commerce.pricing">OrderPriceInfo</A>&nbsp;pOrderPrice,
                                    <A HREF="../../../atg/commerce/pricing/OrderPriceInfo.html" title="class in atg.commerce.pricing">OrderPriceInfo</A>&nbsp;pShippingSubtotal,
                                    <A HREF="../../../atg/payment/tax/TaxStatus.html" title="interface in atg.payment.tax">TaxStatus</A>&nbsp;pStatus)
                             throws <A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></PRE>
<DL>
<DD>Assign each detail's <code>tax</code> for the given order.  This
 method will assign a tax value for the detail proportional to the
 details cost compared to the shipping group subtotal.  For
 example, if the shipping subtotal is $100, the detail is $20, and
 the tax is $10: the detail's tax will be $2. This method is used
 if <code>calculateTaxByShipping</code> is true.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pShippingGroup</CODE> - The shipping group whose details will be update<DD><CODE>pTaxPriceInfo</CODE> - The TaxPriceInfo for the shipping group<DD><CODE>pOrderPrice</CODE> - The TaxPriceInfo for the entire order<DD><CODE>pShippingSubtotal</CODE> - The price info containing the subtotal information for the shipping group<DD><CODE>pStatus</CODE> - This is the tax status that was returned from the TaxProcessor.  This is currently
                ignored.  If the status were to include the item level tax breakdown, this method
                could be extended to use that information.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/pricing/PricingException.html" title="class in atg.commerce.pricing">PricingException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getRelationshipsToAssignTaxTo(atg.commerce.order.ShippingGroup)"><!-- --></A><H3>
getRelationshipsToAssignTaxTo</H3>
<PRE>
public java.util.List <B>getRelationshipsToAssignTaxTo</B>(<A HREF="../../../atg/commerce/order/ShippingGroup.html" title="interface in atg.commerce.order">ShippingGroup</A>&nbsp;pShippingGroup)</PRE>
<DL>
<DD>Returns the list of ShippingGroupCommerceItemRelationships that should be assigned tax.
 By default, this returns all ShippingGroupCommerceItemRelationships within the given
 shipping group.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pShippingGroup</CODE> - the shipping group being taxed
<DT><B>Returns:</B><DD>List of ShippingGroupCommerceItemRelationships that should be assigned tax.</DL>
</DD>
</DL>
<HR>

<A NAME="doStartService()"><!-- --></A><H3>
doStartService</H3>
<PRE>
public void <B>doStartService</B>()
                    throws <A HREF="../../../atg/nucleus/ServiceException.html" title="class in atg.nucleus">ServiceException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></CODE></B></DD>
<DD>This is called after a Service has been created, placed into the
 naming hierarchy, and initialized with its configured property
 values.  The Service should override this method to start any
 processes it requires.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../atg/nucleus/GenericService.html#doStartService()">doStartService</A></CODE> in class <CODE><A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></CODE></DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/nucleus/ServiceException.html" title="class in atg.nucleus">ServiceException</A></CODE> - if the Service had a problem starting up</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/pricing/TaxPricingEngineImpl.html" title="class in atg.commerce.pricing"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../atg/commerce/pricing/WeightRangeShippingCalculator.html" title="class in atg.commerce.pricing"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="TaxProcessorTaxCalculator.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
