<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_05) on Fri Dec 23 12:54:55 EST 2005 -->
<TITLE>
CommerceProfileTools (ATG Java API)
</TITLE>

<META NAME="keywords" CONTENT="atg.commerce.profile.CommerceProfileTools class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="CommerceProfileTools (ATG Java API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/profile/CommerceProfileServices.html" title="class in atg.commerce.profile"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../atg/commerce/profile/CommercePropertyManager.html" title="class in atg.commerce.profile"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CommerceProfileTools.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
atg.commerce.profile</FONT>
<BR>
Class CommerceProfileTools</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">atg.nucleus.GenericService</A>
      <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><A HREF="../../../atg/userprofiling/ProfileTools.html" title="class in atg.userprofiling">atg.userprofiling.ProfileTools</A>
          <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><B>atg.commerce.profile.CommerceProfileTools</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../../atg/nucleus/AdminableService.html" title="interface in atg.nucleus">AdminableService</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A>, <A HREF="../../../atg/nucleus/naming/ComponentNameResolver.html" title="interface in atg.nucleus.naming">ComponentNameResolver</A>, java.util.EventListener, <A HREF="../../../atg/naming/NameContextBindingListener.html" title="interface in atg.naming">NameContextBindingListener</A>, <A HREF="../../../atg/naming/NameContextElement.html" title="interface in atg.naming">NameContextElement</A>, <A HREF="../../../atg/naming/NameResolver.html" title="interface in atg.naming">NameResolver</A>, <A HREF="../../../atg/nucleus/Service.html" title="interface in atg.nucleus">Service</A>, <A HREF="../../../atg/nucleus/ServiceListener.html" title="interface in atg.nucleus">ServiceListener</A>, <A HREF="../../../atg/nucleus/Validateable.html" title="interface in atg.nucleus">Validateable</A></DD>
</DL>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../atg/b2bcommerce/profile/B2BCommerceProfileTools.html" title="class in atg.b2bcommerce.profile">B2BCommerceProfileTools</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>CommerceProfileTools</B><DT>extends <A HREF="../../../atg/userprofiling/ProfileTools.html" title="class in atg.userprofiling">ProfileTools</A></DL>

<P>
This set of utilities provide additional profile functionality as required
 by Dynamo Commerce Server (DCS).  The functions include creating and
 editing primary and secondary addresses as well as credit card information
 for a customer.
<P>

<P>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../atg/userprofiling/ProfileTools.html" title="class in atg.userprofiling"><CODE>ProfileTools</CODE></A>, 
<A HREF="../../../atg/commerce/profile/CommercePropertyManager.html" title="class in atg.commerce.profile"><CODE>CommercePropertyManager</CODE></A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#CLASS_VERSION">CLASS_VERSION</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Class version string</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#CREDIT_CARD_PROPERTIES">CREDIT_CARD_PROPERTIES</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/nucleus/naming/ComponentName.html" title="class in atg.nucleus.naming">ComponentName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#mProfilePath">mProfilePath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/nucleus/naming/ComponentName.html" title="class in atg.nucleus.naming">ComponentName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#mShoppingCartPath">mShoppingCartPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../atg/nucleus/naming/ComponentName.html" title="class in atg.nucleus.naming">ComponentName</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#mUserPricingModelsPath">mUserPricingModelsPath</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#NO_CREDIT_CARD">NO_CREDIT_CARD</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.userprofiling.ProfileTools"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class atg.userprofiling.<A HREF="../../../atg/userprofiling/ProfileTools.html" title="class in atg.userprofiling">ProfileTools</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/userprofiling/ProfileTools.html#DPS_VERSION">DPS_VERSION</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#DPS_VERSION_NUM">DPS_VERSION_NUM</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#mPasswordGenerator">mPasswordGenerator</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class atg.nucleus.<A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/GenericService.html#SERVICE_INFO_KEY">SERVICE_INFO_KEY</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_atg.nucleus.logging.ApplicationLogging"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from interface atg.nucleus.logging.<A HREF="../../../atg/nucleus/logging/ApplicationLogging.html" title="interface in atg.nucleus.logging">ApplicationLogging</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_DEBUG_STATUS">DEFAULT_LOG_DEBUG_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_ERROR_STATUS">DEFAULT_LOG_ERROR_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_INFO_STATUS">DEFAULT_LOG_INFO_STATUS</A>, <A HREF="../../../atg/nucleus/logging/ApplicationLogging.html#DEFAULT_LOG_WARNING_STATUS">DEFAULT_LOG_WARNING_STATUS</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#CommerceProfileTools()">CommerceProfileTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Constructs an CommerceProfileTools object.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#acquireTransactionLock()">acquireTransactionLock</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Attempt to acquire a local lock before creating a transaction
 that may modify the order, but only if
 <code>useLocksAroundTransactions</code> is set to true.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#addActivePromotions(atg.repository.RepositoryItem, atg.repository.RepositoryItem)">addActivePromotions</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pGuestUser,
                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAuthenticatedUser)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy the active promotions from the guest user to the authenticated user</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#addCreditCardToUsersMap(atg.repository.RepositoryItem, atg.repository.RepositoryItem)">addCreditCardToUsersMap</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                        <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCreditCard)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Adds the new credit card to the users profile.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#addProfileGiftlistAddress(atg.repository.RepositoryItem, java.lang.String, atg.repository.RepositoryItem)">addProfileGiftlistAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                          java.lang.String&nbsp;pAddressName,
                          <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds a giftlift address to the customer's giftlist address
 property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#addProfileRepositoryAddress(atg.repository.RepositoryItem, java.lang.String, atg.repository.RepositoryItem)">addProfileRepositoryAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                            java.lang.String&nbsp;pAddressName,
                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method adds a profile repository address to the customer's secondary
 addresses or address book.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#areAddressesEqual(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String[])">areAddressesEqual</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress1,
                  <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress2,
                  java.lang.String[]&nbsp;pPropertyNamesToCompare)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Compares two contactInfo repository items to determine if they are equal.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#cloneContactInfoItem(atg.repository.RepositoryItem, java.util.Map, java.util.Map, boolean, java.lang.String)">cloneContactInfoItem</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pContactInfoItem,
                     java.util.Map&nbsp;pExcludedProperties,
                     java.util.Map&nbsp;pPropExceptions,
                     boolean&nbsp;pDeepCopy,
                     java.lang.String&nbsp;pRepositoryId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clones a contact info repository item.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#copyCreditCard(atg.commerce.order.CreditCard, atg.repository.RepositoryItem)">copyCreditCard</A></B>(<A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;pFromCreditCard,
               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pToCreditCard)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copying a credit card is a two step process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#copyCreditCard(atg.repository.RepositoryItem, atg.commerce.order.CreditCard)">copyCreditCard</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pFromCreditCard,
               <A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;pToCreditCard)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copying a credit card is a two step process.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#copyCreditCardToPaymentGroup(java.lang.String, atg.commerce.order.CreditCard, atg.repository.RepositoryItem, java.util.Locale)">copyCreditCardToPaymentGroup</A></B>(java.lang.String&nbsp;pNickname,
                             <A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;paymentGroup,
                             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                             java.util.Locale&nbsp;pLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy the credit card from the users profile to the payment group.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#copyCreditCardToProfile(atg.commerce.order.CreditCard, atg.repository.RepositoryItem)">copyCreditCardToProfile</A></B>(<A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;pCreditCard,
                        <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Copy the credit card passed in the parameter pCreditCard to the profile
 passed in the parameter pProfile.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#copyShallowCreditCardProperties(java.lang.Object, java.lang.Object)">copyShallowCreditCardProperties</A></B>(java.lang.Object&nbsp;pFromCreditCard,
                                java.lang.Object&nbsp;pToCreditCard)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The shallow properties of a credit card are copied.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#createCreditCardItem(atg.repository.RepositoryItem)">createCreditCardItem</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new credit card repository item for the given profile</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#createProfileRepositoryPrimaryAddress(atg.repository.RepositoryItem, java.lang.String, atg.core.util.Address)">createProfileRepositoryPrimaryAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                      java.lang.String&nbsp;pAddressProperty,
                                      <A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A>&nbsp;pAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new address in the user's Profile primary address book.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#createProfileRepositorySecondaryAddress(atg.repository.RepositoryItem, java.lang.String, atg.core.util.Address)">createProfileRepositorySecondaryAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                        java.lang.String&nbsp;pAddressName,
                                        <A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A>&nbsp;pAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new address in the user's Profile (under the secondaryAddresses
 attribute.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#findOrderToLoad(java.util.List)">findOrderToLoad</A></B>(java.util.List&nbsp;pOrders)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the index of the order that should be used as the primary order for this user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getAddressFromRepositoryItem(atg.repository.RepositoryItem)">getAddressFromRepositoryItem</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pItem)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method creates an address object and sets the property values
 to values in the repository item passed in.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getCompareAddressPropertyNames()">getCompareAddressPropertyNames</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the CompareAddressPropertyNames</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getCreditCardByNickname(java.lang.String, atg.repository.RepositoryItem)">getCreditCardByNickname</A></B>(java.lang.String&nbsp;pCreditCardNickname,
                        <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves credit card by nickname and profile.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getCreditCardProperties()">getCreditCardProperties</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the creditCardProperties property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getDefaultBillingAddress(atg.repository.RepositoryItem)">getDefaultBillingAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the default Billing address repository item by getting property name from the
 property manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Locale</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getDefaultLocale()">getDefaultLocale</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property DefaultLocale.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getDefaultShippingAddress(atg.repository.RepositoryItem)">getDefaultShippingAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the default shipping address repository item by getting property name from the
 property manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getEmptyAddressPropertyNames()">getEmptyAddressPropertyNames</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the emptyAddressPropertyNames</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;atg.service.localeservice.LocaleService</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getLocaleService()">getLocaleService</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property localeService</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getOrderItemDescriptorName()">getOrderItemDescriptorName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the orderItemDescriptorName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order">OrderManager</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getOrderManager()">getOrderManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property orderManager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getPricingParameters()">getPricingParameters</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This returns the map that will be passed into pricingTools.performPricingOperation
 as the pExtraParameters.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getPricingTools()">getPricingTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property pricingTools</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfileAddress(atg.repository.RepositoryItem, java.lang.String)">getProfileAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                  java.lang.String&nbsp;pProfileAddressName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given a nickname for an address to retrieve, grab it out of the users Profile
 object and return this as a RepositoryItem.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfileAddressById(java.lang.String)">getProfileAddressById</A></B>(java.lang.String&nbsp;pProfileAddressId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Given an id for an address to retrieve, grab it out of the users Profile
 object and return this as a RepositoryItem.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfileAddresses(atg.repository.RepositoryItem)">getProfileAddresses</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a map of all addresses by id that the user has in their
 address book.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Collection</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfileAddressNames(atg.repository.RepositoryItem)">getProfileAddressNames</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a list of all the names that the user has in their address book.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfileForOrder(atg.commerce.order.Order)">getProfileForOrder</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the user profile of the user who placed a given order.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfileForOrder(java.lang.String)">getProfileForOrder</A></B>(java.lang.String&nbsp;pOrderId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the user profile of the user who placed the order with
 id <code>pOrderId</code>.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfileIdPropertyName()">getProfileIdPropertyName</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the ProfileIdPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfileItem(java.lang.String)">getProfileItem</A></B>(java.lang.String&nbsp;pProfileId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the profile repository item for the given user
 If the given id is null, returns the current user</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getProfilePath()">getProfilePath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property ProfilePath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/promotion/PromotionTools.html" title="class in atg.commerce.promotion">PromotionTools</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getPromotionTools()">getPromotionTools</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The promotion management utility</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getRepriceOrderPricingOp()">getRepriceOrderPricingOp</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the pricing operation that should be performed when the order(s) is priced after login.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getShoppingCartPath()">getShoppingCartPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property ShoppingCartPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getSortOrdersByProperty()">getSortOrdersByProperty</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property SortOrdersByProperty</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/commerce/util/TransactionLockFactory.html" title="class in atg.commerce.util">TransactionLockFactory</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getTransactionLockFactory()">getTransactionLockFactory</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The factory used to get the service that is used to get and release locks
 before modifying the order</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Locale</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getUserLocale(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)">getUserLocale</A></B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
              <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the locale associated with the request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getUserPricingModelsPath()">getUserPricingModelsPath</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property UserPricingModelsPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#getUsersCreditCardMap(atg.repository.RepositoryItem)">getUsersCreditCardMap</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Retrieves map of credit cards for a given profile.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#isAddressEmpty(atg.repository.RepositoryItem)">isAddressEmpty</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Determines if the given repository address is empty.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#isAscendingOrder()">isAscendingOrder</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property AscendingOrder</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#isCreditCardEmpty(atg.commerce.order.CreditCard)">isCreditCardEmpty</A></B>(<A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;pCreditCard)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Checks to see if a CreditCard object is empty.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#isMergeOrders()">isMergeOrders</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return the mergeOrders property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#isRepriceOrderOnLogin()">isRepriceOrderOnLogin</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property RepriceOrderOnLogin</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#isSelectLastModifiedOrder()">isSelectLastModifiedOrder</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#isUseRequestLocale()">isUseRequestLocale</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns property UseRequestLocale</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#loadShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)">loadShoppingCarts</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                  <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method finds all the shopping carts for the user and places them into the
 session-scope OrderHolder component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#loadShoppingCartsWithLock(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)">loadShoppingCartsWithLock</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                          <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method finds all the shopping carts for the user and places them into the
 session-scope OrderHolder component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#loadUserShoppingCartForLogin(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)">loadUserShoppingCartForLogin</A></B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                             <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When an auto-login operation occurs, we attempt to find any old shopping carts
 from previous sessions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#loadUserShoppingCartForLogin(atg.repository.RepositoryItem, atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)">loadUserShoppingCartForLogin</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                             <A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                             <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When an auto-login operation occurs, we attempt to find any old shopping carts
 from previous sessions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#loadUserShoppingCartForLogin(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder, java.util.Locale)">loadUserShoppingCartForLogin</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                             <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                             <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                             java.util.Locale&nbsp;pLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;When a login operation occurs, we attempt to find any old shopping carts
 from previous sessions.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#persistOrderIfNeeded(atg.commerce.order.Order)">persistOrderIfNeeded</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If the order is transient and not empty then make it persistent through the Order Manager.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#persistShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)">persistShoppingCarts</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                     <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will persist the current and any "saved" shopping carts.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#persistShoppingCartsWithLock(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)">persistShoppingCartsWithLock</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                             <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method will persist the current and any "saved" shopping carts.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#postCreateUser(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)">postCreateUser</A></B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
               <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
               <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
               <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;After registration, any transient orders are made persistent through the
 <code>persistShoppingCarts</code> method of the CommerceProfileTools component</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#postLoginUser(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder)">postLoginUser</A></B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
              <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
              <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
              <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
              <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pPricingModelHolder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;After logging in the user's session cached promotions are reloaded into the PricingModelHolder.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#removeProfileRepositoryAddress(atg.repository.RepositoryItem, java.lang.String)">removeProfileRepositoryAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                               java.lang.String&nbsp;pAddressName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Removes the named address entry from the users Profile.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#repriceOrder(atg.commerce.order.Order, atg.repository.RepositoryItem, atg.commerce.pricing.PricingModelHolder, java.util.Locale, java.lang.String)">repriceOrder</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
             <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
             java.util.Locale&nbsp;pLocale,
             java.lang.String&nbsp;pPricingOperation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reprice a single given order, this calls into the PricingTools.performPricingOperation
 method.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#repriceShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder, java.util.Locale)">repriceShoppingCarts</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                     <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                     <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                     java.util.Locale&nbsp;pLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reprice all of the orders in the OrderHolder component</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#repriceShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder, java.util.Locale, java.lang.String)">repriceShoppingCarts</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                     <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                     <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                     java.util.Locale&nbsp;pLocale,
                     java.lang.String&nbsp;pPricingOperation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reprice all of the orders in the OrderHolder component</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#repriceShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, java.lang.String, atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)">repriceShoppingCarts</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                     <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                     java.lang.String&nbsp;pPricingOperation,
                     <A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                     <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reprice all of the orders in the OrderHolder component.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#repriceShoppingCartsWithLock(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder, java.util.Locale, java.lang.String)">repriceShoppingCartsWithLock</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                             <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                             <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                             java.util.Locale&nbsp;pLocale,
                             java.lang.String&nbsp;pPricingOperation)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reprice all of the orders in the OrderHolder component</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setAscendingOrder(boolean)">setAscendingOrder</A></B>(boolean&nbsp;pAscendingOrder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property AscendingOrder</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setCompareAddressPropertyNames(java.lang.String[])">setCompareAddressPropertyNames</A></B>(java.lang.String[]&nbsp;pCompareAddressPropertyNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the CompareAddressPropertyNames
 </TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setCreditCardProperties(java.lang.String[])">setCreditCardProperties</A></B>(java.lang.String[]&nbsp;pCreditCardProperties)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the creditCardProperties property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setDefaultLocale(java.util.Locale)">setDefaultLocale</A></B>(java.util.Locale&nbsp;pDefaultLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property DefaultLocale</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setEmptyAddressPropertyNames(java.lang.String[])">setEmptyAddressPropertyNames</A></B>(java.lang.String[]&nbsp;pEmptyAddressPropertyNames)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the emptyAddressPropertyNames</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setItemPropertyToAddress(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.util.Map, java.util.Map)">setItemPropertyToAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pItem,
                         <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress,
                         java.lang.String&nbsp;pPropertyName,
                         java.util.Map&nbsp;pExcludedProperties,
                         java.util.Map&nbsp;pPropExceptions)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Clones the address item and changes the item's property to reference 
 the clone.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setLocaleService(atg.service.localeservice.LocaleService)">setLocaleService</A></B>(atg.service.localeservice.LocaleService&nbsp;pLocaleService)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property localeService</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setMergeOrders(boolean)">setMergeOrders</A></B>(boolean&nbsp;pMergeOrders)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the mergeOrders property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setOrderItemDescriptorName(java.lang.String)">setOrderItemDescriptorName</A></B>(java.lang.String&nbsp;pOrderItemDescriptorName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the orderItemDescriptorName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setOrderManager(atg.commerce.order.OrderManager)">setOrderManager</A></B>(<A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order">OrderManager</A>&nbsp;pOrderManager)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property orderManager</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setPricingTools(atg.commerce.pricing.PricingTools)">setPricingTools</A></B>(<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A>&nbsp;pPricingTools)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property pricingTools</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setProfileIdPropertyName(java.lang.String)">setProfileIdPropertyName</A></B>(java.lang.String&nbsp;pProfileIdPropertyName)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Set the ProfileIdPropertyName property.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setProfilePath(java.lang.String)">setProfilePath</A></B>(java.lang.String&nbsp;pProfilePath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property ProfilePath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setPromotionTools(atg.commerce.promotion.PromotionTools)">setPromotionTools</A></B>(<A HREF="../../../atg/commerce/promotion/PromotionTools.html" title="class in atg.commerce.promotion">PromotionTools</A>&nbsp;pPromotionTools)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setRepriceOrderOnLogin(boolean)">setRepriceOrderOnLogin</A></B>(boolean&nbsp;pRepriceOrderOnLogin)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property RepriceOrderOnLogin</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setRepriceOrderPricingOp(java.lang.String)">setRepriceOrderPricingOp</A></B>(java.lang.String&nbsp;pRepriceOrderPricingOp)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This property should be set to the type of pricing operation that should be executed when
 the order(s) is repriced after login.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setSelectLastModifiedOrder(boolean)">setSelectLastModifiedOrder</A></B>(boolean&nbsp;pSelectLastModifiedOrder)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;If set to true will return the order that was last modified in the list of open orders for
 the user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setShoppingCartPath(java.lang.String)">setShoppingCartPath</A></B>(java.lang.String&nbsp;pShoppingCartPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property ShoppingCartPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setSortOrdersByProperty(java.lang.String)">setSortOrdersByProperty</A></B>(java.lang.String&nbsp;pSortOrdersByProperty)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property SortOrdersByProperty</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setTransactionLockFactory(atg.commerce.util.TransactionLockFactory)">setTransactionLockFactory</A></B>(<A HREF="../../../atg/commerce/util/TransactionLockFactory.html" title="class in atg.commerce.util">TransactionLockFactory</A>&nbsp;pTransactionLockFactory)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setUseRequestLocale(boolean)">setUseRequestLocale</A></B>(boolean&nbsp;pUseRequestLocale)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property UseRequestLocale</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#setUserPricingModelsPath(java.lang.String)">setUserPricingModelsPath</A></B>(java.lang.String&nbsp;pUserPricingModelsPath)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets property UserPricingModelsPath</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#updateOrderProfileId(atg.commerce.order.Order, atg.repository.RepositoryItem)">updateOrderProfileId</A></B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                     <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;This method makes sure the profile id of the order is the same as the current
 user.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#updateProfileRepositoryAddress(atg.repository.RepositoryItem, atg.core.util.Address)">updateProfileRepositoryAddress</A></B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pRepositoryAddress,
                               <A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A>&nbsp;pAddress)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updates a repository address item with values in address object passed
 in.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.userprofiling.ProfileTools"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class atg.userprofiling.<A HREF="../../../atg/userprofiling/ProfileTools.html" title="class in atg.userprofiling">ProfileTools</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/userprofiling/ProfileTools.html#addMultiPropertyValues(java.lang.String, atg.repository.RepositoryItem, atg.repository.RepositoryItem)">addMultiPropertyValues</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#assumeSecurityIdentity(atg.userprofiling.Profile)">assumeSecurityIdentity</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#assumeSecurityIdentity(atg.userprofiling.Profile, atg.security.IdentityManager)">assumeSecurityIdentity</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#buildPropertyUpdatesForDictionary(atg.repository.RepositoryItem, java.util.Dictionary)">buildPropertyUpdatesForDictionary</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#buildPropertyUpdatesForRepositoryFormList(atg.repository.RepositoryItem, atg.repository.servlet.RepositoryFormList)">buildPropertyUpdatesForRepositoryFormList</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#buildPropertyUpdatesForRepositoryFormMap(atg.repository.RepositoryItem, atg.repository.servlet.RepositoryFormMap)">buildPropertyUpdatesForRepositoryFormMap</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#buildUpdateMessage(atg.repository.RepositoryItem, java.util.Dictionary, java.util.Vector, atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)">buildUpdateMessage</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#buildUpdateMessage(atg.repository.RepositoryItem, atg.repository.RepositoryItemDescriptor, java.util.Dictionary, java.util.Vector, java.lang.String, atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)">buildUpdateMessage</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#createNewUser(java.lang.String, atg.userprofiling.Profile)">createNewUser</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#createPropertyUpdate(int, java.lang.String, java.lang.String, java.lang.String)">createPropertyUpdate</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#doStartService()">doStartService</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#formatMultiValueUpdateString(java.lang.String, java.lang.String, java.lang.Object)">formatMultiValueUpdateString</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#generateEmailQuery(java.lang.String, atg.repository.QueryBuilder)">generateEmailQuery</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#generateLoginQuery(java.lang.String, java.lang.String, atg.repository.QueryBuilder)">generateLoginQuery</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#generateNameQuery(java.lang.String, java.lang.String, atg.repository.QueryBuilder)">generateNameQuery</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#generateNewPasswordForProfile(atg.repository.RepositoryItem)">generateNewPasswordForProfile</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getAutoLogin(atg.userprofiling.Profile)">getAutoLogin</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getCookieManager()">getCookieManager</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getDefaultProfileType()">getDefaultProfileType</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getGroupContainer()">getGroupContainer</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getItem(java.lang.String, java.lang.String)">getItem</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getItem(java.lang.String, java.lang.String, java.lang.String)">getItem</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getItemFromEmail(java.lang.String)">getItemFromEmail</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getItemFromEmail(java.lang.String, java.lang.String)">getItemFromEmail</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getItems(java.lang.String, java.lang.String)">getItems</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getItems(java.lang.String, java.lang.String, java.lang.String)">getItems</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getItemsFromEmail(java.lang.String)">getItemsFromEmail</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getItemsFromEmail(java.lang.String, java.lang.String)">getItemsFromEmail</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getLicenseFileName()">getLicenseFileName</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getLoggingIdentifier()">getLoggingIdentifier</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getLogin(atg.repository.RepositoryItem)">getLogin</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getLoginUserAuthority()">getLoginUserAuthority</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getMutableItem(atg.repository.RepositoryItem)">getMutableItem</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getPassword(atg.repository.RepositoryItem)">getPassword</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getPasswordGenerator()">getPasswordGenerator</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getProfileEventTrigger()">getProfileEventTrigger</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getProfileItemFinder()">getProfileItemFinder</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getProfileRepository()">getProfileRepository</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getPropertyManager()">getPropertyManager</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getSecurityStatus(atg.userprofiling.Profile)">getSecurityStatus</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#getUserLoginManager()">getUserLoginManager</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#isAutoLoginSecurityStatus(int)">isAutoLoginSecurityStatus</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#isEnableSecurityStatus()">isEnableSecurityStatus</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#isValidCredentials(java.lang.String, java.lang.String)">isValidCredentials</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#isValidCredentials(java.lang.String, java.lang.String, atg.security.IdentityManager)">isValidCredentials</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#isValidCredentialsEncrypted(java.lang.String, java.lang.String, java.lang.String)">isValidCredentialsEncrypted</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#locateUserFromEmail(java.lang.String, atg.userprofiling.Profile)">locateUserFromEmail</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#locateUserFromEmail(java.lang.String, atg.userprofiling.Profile, java.lang.String)">locateUserFromEmail</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#locateUserFromId(java.lang.String, atg.userprofiling.Profile)">locateUserFromId</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#locateUserFromId(java.lang.String, atg.userprofiling.Profile, java.lang.String)">locateUserFromId</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#locateUserFromLogin(java.lang.String, atg.userprofiling.Profile)">locateUserFromLogin</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#locateUserFromLogin(java.lang.String, atg.userprofiling.Profile, java.lang.String)">locateUserFromLogin</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#locateUserFromLogin(java.lang.String, java.lang.String, atg.userprofiling.Profile)">locateUserFromLogin</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#locateUserFromLogin(java.lang.String, java.lang.String, atg.userprofiling.Profile, java.lang.String)">locateUserFromLogin</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#main(java.lang.String[])">main</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#prefixPropertyNames(java.util.Collection, java.lang.String)">prefixPropertyNames</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#propagateLocale(atg.userprofiling.Profile, atg.servlet.RequestLocale, atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)">propagateLocale</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#revokeSecurityIdentity()">revokeSecurityIdentity</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#revokeSecurityIdentity(atg.security.IdentityManager)">revokeSecurityIdentity</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#sendEmailToUser(atg.repository.MutableRepositoryItem, boolean, boolean, atg.userprofiling.email.TemplateEmailSender, atg.userprofiling.email.TemplateEmailInfo, java.util.Map)">sendEmailToUser</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setAutoLoginSecurityStatus(atg.userprofiling.Profile, atg.userprofiling.ProfileRequest)">setAutoLoginSecurityStatus</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setCookieManager(atg.userprofiling.CookieManager)">setCookieManager</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setDefaultProfileType(java.lang.String)">setDefaultProfileType</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setEnableSecurityStatus(boolean)">setEnableSecurityStatus</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setGroupContainer(atg.repository.nucleus.RepositoryGroupContainer)">setGroupContainer</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setLicenseFileName(java.lang.String)">setLicenseFileName</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setLoginSecurityStatus(atg.userprofiling.Profile, atg.servlet.DynamoHttpServletRequest)">setLoginSecurityStatus</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setLoginUserAuthority(atg.userdirectory.UserDirectoryLoginUserAuthority)">setLoginUserAuthority</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setPasswordGenerator(atg.userprofiling.PasswordGenerator)">setPasswordGenerator</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setProfileEventTrigger(atg.userprofiling.ProfileEventTrigger)">setProfileEventTrigger</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setProfileItemFinder(atg.userprofiling.RepositoryProfileItemFinder)">setProfileItemFinder</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setProfileRepository(atg.repository.MutableRepository)">setProfileRepository</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setPropertyManager(atg.userprofiling.PropertyManager)">setPropertyManager</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setSecurityStatus(atg.userprofiling.Profile, int)">setSecurityStatus</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#setUserLoginManager(atg.servlet.security.UserLoginManager)">setUserLoginManager</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#shouldSendProfileCookies(atg.userprofiling.Profile)">shouldSendProfileCookies</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#toString()">toString</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#updateProperties(java.util.Dictionary, atg.repository.RepositoryItem)">updateProperties</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#updateProperty(java.lang.String, java.lang.Object, atg.repository.RepositoryItem)">updateProperty</A>, <A HREF="../../../atg/userprofiling/ProfileTools.html#validateService()">validateService</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_atg.nucleus.GenericService"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class atg.nucleus.<A HREF="../../../atg/nucleus/GenericService.html" title="class in atg.nucleus">GenericService</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../atg/nucleus/GenericService.html#addLogListener(atg.nucleus.logging.LogListener)">addLogListener</A>, <A HREF="../../../atg/nucleus/GenericService.html#createAdminServlet()">createAdminServlet</A>, <A HREF="../../../atg/nucleus/GenericService.html#doStopService()">doStopService</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAbsoluteName()">getAbsoluteName</A>, <A HREF="../../../atg/nucleus/GenericService.html#getAdminServlet()">getAdminServlet</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLogListenerCount()">getLogListenerCount</A>, <A HREF="../../../atg/nucleus/GenericService.html#getLogListeners()">getLogListeners</A>, <A HREF="../../../atg/nucleus/GenericService.html#getName()">getName</A>, <A HREF="../../../atg/nucleus/GenericService.html#getNameContext()">getNameContext</A>, <A HREF="../../../atg/nucleus/GenericService.html#getNucleus()">getNucleus</A>, <A HREF="../../../atg/nucleus/GenericService.html#getRoot()">getRoot</A>, <A HREF="../../../atg/nucleus/GenericService.html#getServiceConfiguration()">getServiceConfiguration</A>, <A HREF="../../../atg/nucleus/GenericService.html#getServiceInfo()">getServiceInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingDebug()">isLoggingDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingError()">isLoggingError</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingInfo()">isLoggingInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#isLoggingWarning()">isLoggingWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#isRunning()">isRunning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.String)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.String, java.lang.Throwable)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logDebug(java.lang.Throwable)">logDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.String)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.String, java.lang.Throwable)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logError(java.lang.Throwable)">logError</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.String)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.String, java.lang.Throwable)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logInfo(java.lang.Throwable)">logInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.String)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.String, java.lang.Throwable)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#logWarning(java.lang.Throwable)">logWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#nameContextElementBound(atg.naming.NameContextBindingEvent)">nameContextElementBound</A>, <A HREF="../../../atg/nucleus/GenericService.html#nameContextElementUnbound(atg.naming.NameContextBindingEvent)">nameContextElementUnbound</A>, <A HREF="../../../atg/nucleus/GenericService.html#removeLogListener(atg.nucleus.logging.LogListener)">removeLogListener</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(atg.nucleus.naming.ComponentName, boolean)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(java.lang.String)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#resolveName(java.lang.String, boolean)">resolveName</A>, <A HREF="../../../atg/nucleus/GenericService.html#sendLogEvent(atg.nucleus.logging.LogEvent)">sendLogEvent</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingDebug(boolean)">setLoggingDebug</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingError(boolean)">setLoggingError</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingInfo(boolean)">setLoggingInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#setLoggingWarning(boolean)">setLoggingWarning</A>, <A HREF="../../../atg/nucleus/GenericService.html#setServiceInfo(java.lang.String)">setServiceInfo</A>, <A HREF="../../../atg/nucleus/GenericService.html#startService(atg.nucleus.ServiceEvent)">startService</A>, <A HREF="../../../atg/nucleus/GenericService.html#stopService()">stopService</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="CLASS_VERSION"><!-- --></A><H3>
CLASS_VERSION</H3>
<PRE>
public static java.lang.String <B>CLASS_VERSION</B></PRE>
<DL>
<DD>Class version string
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="CREDIT_CARD_PROPERTIES"><!-- --></A><H3>
CREDIT_CARD_PROPERTIES</H3>
<PRE>
protected static final java.lang.String[] <B>CREDIT_CARD_PROPERTIES</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="NO_CREDIT_CARD"><!-- --></A><H3>
NO_CREDIT_CARD</H3>
<PRE>
protected static final java.lang.String <B>NO_CREDIT_CARD</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../constant-values.html#atg.commerce.profile.CommerceProfileTools.NO_CREDIT_CARD">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="mUserPricingModelsPath"><!-- --></A><H3>
mUserPricingModelsPath</H3>
<PRE>
protected <A HREF="../../../atg/nucleus/naming/ComponentName.html" title="class in atg.nucleus.naming">ComponentName</A> <B>mUserPricingModelsPath</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mShoppingCartPath"><!-- --></A><H3>
mShoppingCartPath</H3>
<PRE>
protected <A HREF="../../../atg/nucleus/naming/ComponentName.html" title="class in atg.nucleus.naming">ComponentName</A> <B>mShoppingCartPath</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="mProfilePath"><!-- --></A><H3>
mProfilePath</H3>
<PRE>
protected <A HREF="../../../atg/nucleus/naming/ComponentName.html" title="class in atg.nucleus.naming">ComponentName</A> <B>mProfilePath</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="CommerceProfileTools()"><!-- --></A><H3>
CommerceProfileTools</H3>
<PRE>
public <B>CommerceProfileTools</B>()</PRE>
<DL>
<DD>Constructs an CommerceProfileTools object.
<P>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getOrderManager()"><!-- --></A><H3>
getOrderManager</H3>
<PRE>
public <A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order">OrderManager</A> <B>getOrderManager</B>()</PRE>
<DL>
<DD>Returns property orderManager
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property orderManager</DL>
</DD>
</DL>
<HR>

<A NAME="setOrderManager(atg.commerce.order.OrderManager)"><!-- --></A><H3>
setOrderManager</H3>
<PRE>
public void <B>setOrderManager</B>(<A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order">OrderManager</A>&nbsp;pOrderManager)</PRE>
<DL>
<DD>Sets property orderManager
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrderManager</CODE> - the value to set for property orderManager</DL>
</DD>
</DL>
<HR>

<A NAME="getLocaleService()"><!-- --></A><H3>
getLocaleService</H3>
<PRE>
public atg.service.localeservice.LocaleService <B>getLocaleService</B>()</PRE>
<DL>
<DD>Returns property localeService
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property localeService</DL>
</DD>
</DL>
<HR>

<A NAME="setLocaleService(atg.service.localeservice.LocaleService)"><!-- --></A><H3>
setLocaleService</H3>
<PRE>
public void <B>setLocaleService</B>(atg.service.localeservice.LocaleService&nbsp;pLocaleService)</PRE>
<DL>
<DD>Sets property localeService
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pLocaleService</CODE> - the value to set for property localeService</DL>
</DD>
</DL>
<HR>

<A NAME="getPricingTools()"><!-- --></A><H3>
getPricingTools</H3>
<PRE>
public <A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A> <B>getPricingTools</B>()</PRE>
<DL>
<DD>Returns property pricingTools
<P>
<DD><DL>

<DT><B>Returns:</B><DD>returns property pricingTools</DL>
</DD>
</DL>
<HR>

<A NAME="setPricingTools(atg.commerce.pricing.PricingTools)"><!-- --></A><H3>
setPricingTools</H3>
<PRE>
public void <B>setPricingTools</B>(<A HREF="../../../atg/commerce/pricing/PricingTools.html" title="class in atg.commerce.pricing">PricingTools</A>&nbsp;pPricingTools)</PRE>
<DL>
<DD>Sets property pricingTools
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pPricingTools</CODE> - the value to set for property pricingTools</DL>
</DD>
</DL>
<HR>

<A NAME="setUserPricingModelsPath(java.lang.String)"><!-- --></A><H3>
setUserPricingModelsPath</H3>
<PRE>
public void <B>setUserPricingModelsPath</B>(java.lang.String&nbsp;pUserPricingModelsPath)</PRE>
<DL>
<DD>Sets property UserPricingModelsPath
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getUserPricingModelsPath()"><!-- --></A><H3>
getUserPricingModelsPath</H3>
<PRE>
public java.lang.String <B>getUserPricingModelsPath</B>()</PRE>
<DL>
<DD>Returns property UserPricingModelsPath
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setShoppingCartPath(java.lang.String)"><!-- --></A><H3>
setShoppingCartPath</H3>
<PRE>
public void <B>setShoppingCartPath</B>(java.lang.String&nbsp;pShoppingCartPath)</PRE>
<DL>
<DD>Sets property ShoppingCartPath
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getShoppingCartPath()"><!-- --></A><H3>
getShoppingCartPath</H3>
<PRE>
public java.lang.String <B>getShoppingCartPath</B>()</PRE>
<DL>
<DD>Returns property ShoppingCartPath
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setProfilePath(java.lang.String)"><!-- --></A><H3>
setProfilePath</H3>
<PRE>
public void <B>setProfilePath</B>(java.lang.String&nbsp;pProfilePath)</PRE>
<DL>
<DD>Sets property ProfilePath
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProfilePath()"><!-- --></A><H3>
getProfilePath</H3>
<PRE>
public java.lang.String <B>getProfilePath</B>()</PRE>
<DL>
<DD>Returns property ProfilePath
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setMergeOrders(boolean)"><!-- --></A><H3>
setMergeOrders</H3>
<PRE>
public void <B>setMergeOrders</B>(boolean&nbsp;pMergeOrders)</PRE>
<DL>
<DD>Set the mergeOrders property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isMergeOrders()"><!-- --></A><H3>
isMergeOrders</H3>
<PRE>
public boolean <B>isMergeOrders</B>()</PRE>
<DL>
<DD>Return the mergeOrders property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setSelectLastModifiedOrder(boolean)"><!-- --></A><H3>
setSelectLastModifiedOrder</H3>
<PRE>
public void <B>setSelectLastModifiedOrder</B>(boolean&nbsp;pSelectLastModifiedOrder)</PRE>
<DL>
<DD>If set to true will return the order that was last modified in the list of open orders for
 the user.  If it is set to false, the behavior of selecting the first non-explicitly
 saved order is used instead.  The default is set to true.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isSelectLastModifiedOrder()"><!-- --></A><H3>
isSelectLastModifiedOrder</H3>
<PRE>
public boolean <B>isSelectLastModifiedOrder</B>()</PRE>
<DL>
<DD><DL>
<DT><B>See Also:</B><DD><CODE>setSelectLastModifiedOrder</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setSortOrdersByProperty(java.lang.String)"><!-- --></A><H3>
setSortOrdersByProperty</H3>
<PRE>
public void <B>setSortOrdersByProperty</B>(java.lang.String&nbsp;pSortOrdersByProperty)</PRE>
<DL>
<DD>Sets property SortOrdersByProperty
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSortOrdersByProperty()"><!-- --></A><H3>
getSortOrdersByProperty</H3>
<PRE>
public java.lang.String <B>getSortOrdersByProperty</B>()</PRE>
<DL>
<DD>Returns property SortOrdersByProperty
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setAscendingOrder(boolean)"><!-- --></A><H3>
setAscendingOrder</H3>
<PRE>
public void <B>setAscendingOrder</B>(boolean&nbsp;pAscendingOrder)</PRE>
<DL>
<DD>Sets property AscendingOrder
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isAscendingOrder()"><!-- --></A><H3>
isAscendingOrder</H3>
<PRE>
public boolean <B>isAscendingOrder</B>()</PRE>
<DL>
<DD>Returns property AscendingOrder
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setRepriceOrderOnLogin(boolean)"><!-- --></A><H3>
setRepriceOrderOnLogin</H3>
<PRE>
public void <B>setRepriceOrderOnLogin</B>(boolean&nbsp;pRepriceOrderOnLogin)</PRE>
<DL>
<DD>Sets property RepriceOrderOnLogin
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isRepriceOrderOnLogin()"><!-- --></A><H3>
isRepriceOrderOnLogin</H3>
<PRE>
public boolean <B>isRepriceOrderOnLogin</B>()</PRE>
<DL>
<DD>Returns property RepriceOrderOnLogin
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setDefaultLocale(java.util.Locale)"><!-- --></A><H3>
setDefaultLocale</H3>
<PRE>
public void <B>setDefaultLocale</B>(java.util.Locale&nbsp;pDefaultLocale)</PRE>
<DL>
<DD>Sets property DefaultLocale
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultLocale()"><!-- --></A><H3>
getDefaultLocale</H3>
<PRE>
public java.util.Locale <B>getDefaultLocale</B>()</PRE>
<DL>
<DD>Returns property DefaultLocale. If the property value is null, then
 JVM's default locale is returned.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setUseRequestLocale(boolean)"><!-- --></A><H3>
setUseRequestLocale</H3>
<PRE>
public void <B>setUseRequestLocale</B>(boolean&nbsp;pUseRequestLocale)</PRE>
<DL>
<DD>Sets property UseRequestLocale
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="isUseRequestLocale()"><!-- --></A><H3>
isUseRequestLocale</H3>
<PRE>
public boolean <B>isUseRequestLocale</B>()</PRE>
<DL>
<DD>Returns property UseRequestLocale
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setRepriceOrderPricingOp(java.lang.String)"><!-- --></A><H3>
setRepriceOrderPricingOp</H3>
<PRE>
public void <B>setRepriceOrderPricingOp</B>(java.lang.String&nbsp;pRepriceOrderPricingOp)</PRE>
<DL>
<DD>This property should be set to the type of pricing operation that should be executed when
 the order(s) is repriced after login.
 The operations which are acceptable are defined in the
 <code>atg.commerce.pricing.PricingConstants</code> interface. They include:
 <UL>
 <LI>PricingConstants.OP_REPRICE_ORDER_TOTAL -> <code>ORDER_TOTAL</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL -> <code>ORDER_SUBTOTAL</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL_SHIPPING -> <code>ORDER_SUBTOTAL_SHIPPING</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL_TAX -> <code>ORDER_SUBTOTAL_TAX</code>
 <LI>PricingConstants.OP_REPRICE_ITEMS -> <code>ITEMS</code>
 <LI>PricingConstants.OP_REPRICE_SHIPPING -> <code>SHIPPING</code>
 <LI>PricingConstants.OP_REPRICE_ORDER -> <code>ORDER</code>
 <LI>PricingConstants.OP_REPRICE_TAX -> <code>TAX</code>
 <LI>PricingConstants.OP_NO_REPRICE -> <code>NO_REPRICE</code>
 </UL>
 If this value is null, then the system will default to ORDER_TOTAL.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRepriceOrderPricingOp()"><!-- --></A><H3>
getRepriceOrderPricingOp</H3>
<PRE>
public java.lang.String <B>getRepriceOrderPricingOp</B>()</PRE>
<DL>
<DD>Returns the pricing operation that should be performed when the order(s) is priced after login.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setCreditCardProperties(java.lang.String[])"><!-- --></A><H3>
setCreditCardProperties</H3>
<PRE>
public void <B>setCreditCardProperties</B>(java.lang.String[]&nbsp;pCreditCardProperties)</PRE>
<DL>
<DD>Set the creditCardProperties property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCreditCardProperties()"><!-- --></A><H3>
getCreditCardProperties</H3>
<PRE>
public java.lang.String[] <B>getCreditCardProperties</B>()</PRE>
<DL>
<DD>Return the creditCardProperties property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setOrderItemDescriptorName(java.lang.String)"><!-- --></A><H3>
setOrderItemDescriptorName</H3>
<PRE>
public void <B>setOrderItemDescriptorName</B>(java.lang.String&nbsp;pOrderItemDescriptorName)</PRE>
<DL>
<DD>Set the orderItemDescriptorName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getOrderItemDescriptorName()"><!-- --></A><H3>
getOrderItemDescriptorName</H3>
<PRE>
public java.lang.String <B>getOrderItemDescriptorName</B>()</PRE>
<DL>
<DD>Return the orderItemDescriptorName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setProfileIdPropertyName(java.lang.String)"><!-- --></A><H3>
setProfileIdPropertyName</H3>
<PRE>
public void <B>setProfileIdPropertyName</B>(java.lang.String&nbsp;pProfileIdPropertyName)</PRE>
<DL>
<DD>Set the ProfileIdPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileIdPropertyName()"><!-- --></A><H3>
getProfileIdPropertyName</H3>
<PRE>
public java.lang.String <B>getProfileIdPropertyName</B>()</PRE>
<DL>
<DD>Return the ProfileIdPropertyName property.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getEmptyAddressPropertyNames()"><!-- --></A><H3>
getEmptyAddressPropertyNames</H3>
<PRE>
public java.lang.String[] <B>getEmptyAddressPropertyNames</B>()</PRE>
<DL>
<DD>Returns the emptyAddressPropertyNames
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setEmptyAddressPropertyNames(java.lang.String[])"><!-- --></A><H3>
setEmptyAddressPropertyNames</H3>
<PRE>
public void <B>setEmptyAddressPropertyNames</B>(java.lang.String[]&nbsp;pEmptyAddressPropertyNames)</PRE>
<DL>
<DD>Sets the emptyAddressPropertyNames
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCompareAddressPropertyNames()"><!-- --></A><H3>
getCompareAddressPropertyNames</H3>
<PRE>
public java.lang.String[] <B>getCompareAddressPropertyNames</B>()</PRE>
<DL>
<DD>Returns the CompareAddressPropertyNames
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setCompareAddressPropertyNames(java.lang.String[])"><!-- --></A><H3>
setCompareAddressPropertyNames</H3>
<PRE>
public void <B>setCompareAddressPropertyNames</B>(java.lang.String[]&nbsp;pCompareAddressPropertyNames)</PRE>
<DL>
<DD>Sets the CompareAddressPropertyNames
 <p>
 These property names are used to compare two address to one another.
<P>
<DD><DL>
<DT><B>See Also:</B><DD><CODE>#areAddressesEqual(RepositoryItem, RepositoryItem)</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="setPromotionTools(atg.commerce.promotion.PromotionTools)"><!-- --></A><H3>
setPromotionTools</H3>
<PRE>
public void <B>setPromotionTools</B>(<A HREF="../../../atg/commerce/promotion/PromotionTools.html" title="class in atg.commerce.promotion">PromotionTools</A>&nbsp;pPromotionTools)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getPromotionTools()"><!-- --></A><H3>
getPromotionTools</H3>
<PRE>
public <A HREF="../../../atg/commerce/promotion/PromotionTools.html" title="class in atg.commerce.promotion">PromotionTools</A> <B>getPromotionTools</B>()</PRE>
<DL>
<DD>The promotion management utility
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setTransactionLockFactory(atg.commerce.util.TransactionLockFactory)"><!-- --></A><H3>
setTransactionLockFactory</H3>
<PRE>
public void <B>setTransactionLockFactory</B>(<A HREF="../../../atg/commerce/util/TransactionLockFactory.html" title="class in atg.commerce.util">TransactionLockFactory</A>&nbsp;pTransactionLockFactory)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getTransactionLockFactory()"><!-- --></A><H3>
getTransactionLockFactory</H3>
<PRE>
public <A HREF="../../../atg/commerce/util/TransactionLockFactory.html" title="class in atg.commerce.util">TransactionLockFactory</A> <B>getTransactionLockFactory</B>()</PRE>
<DL>
<DD>The factory used to get the service that is used to get and release locks
 before modifying the order
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileAddressNames(atg.repository.RepositoryItem)"><!-- --></A><H3>
getProfileAddressNames</H3>
<PRE>
public java.util.Collection <B>getProfileAddressNames</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Returns a list of all the names that the user has in their address book.
 This list is composed of the nicknames from this book as well as the
 default shipping/billing address that are associated with the Profile
 object.  The "names" given to the default shipping/billing address are
 defined by the propeties DefaultBillingAddrName and
 DefaultShippingAddrName.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the customer profile.
<DT><B>Returns:</B><DD>the collection of address names</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileAddresses(atg.repository.RepositoryItem)"><!-- --></A><H3>
getProfileAddresses</H3>
<PRE>
public java.util.Map <B>getProfileAddresses</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Returns a map of all addresses by id that the user has in their
 address book.  The list is componsed of both primary and secondary
 addresses.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the customer profile.
<DT><B>Returns:</B><DD>the collection of address names</DL>
</DD>
</DL>
<HR>

<A NAME="createProfileRepositorySecondaryAddress(atg.repository.RepositoryItem, java.lang.String, atg.core.util.Address)"><!-- --></A><H3>
createProfileRepositorySecondaryAddress</H3>
<PRE>
public java.lang.String <B>createProfileRepositorySecondaryAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                                                java.lang.String&nbsp;pAddressName,
                                                                <A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A>&nbsp;pAddress)
                                                         throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Creates a new address in the user's Profile (under the secondaryAddresses
 attribute. Only the name is filled in.  All other values will be filled
 in later when the user goes to the "Detail Shipping Addresses" screen.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the customer profile.<DD><CODE>pAddressName</CODE> - The name of the new address in the address book.<DD><CODE>pAddress</CODE> - The Address object.
<DT><B>Returns:</B><DD>the repository address id
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error when creating the new repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="createProfileRepositoryPrimaryAddress(atg.repository.RepositoryItem, java.lang.String, atg.core.util.Address)"><!-- --></A><H3>
createProfileRepositoryPrimaryAddress</H3>
<PRE>
public java.lang.String <B>createProfileRepositoryPrimaryAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                                              java.lang.String&nbsp;pAddressProperty,
                                                              <A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A>&nbsp;pAddress)
                                                       throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Creates a new address in the user's Profile primary address book.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the customer profile.<DD><CODE>pAddressProperty</CODE> - The name of the Profile property that will hold the new address.<DD><CODE>pAddress</CODE> - The Address object.
<DT><B>Returns:</B><DD>the repository address id
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error when creating the new repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="updateProfileRepositoryAddress(atg.repository.RepositoryItem, atg.core.util.Address)"><!-- --></A><H3>
updateProfileRepositoryAddress</H3>
<PRE>
public void <B>updateProfileRepositoryAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pRepositoryAddress,
                                           <A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A>&nbsp;pAddress)
                                    throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>updates a repository address item with values in address object passed
 in.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRepositoryAddress</CODE> - the repository address<DD><CODE>pAddress</CODE> - the address object
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error when creating the new repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileAddress(atg.repository.RepositoryItem, java.lang.String)"><!-- --></A><H3>
getProfileAddress</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getProfileAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                        java.lang.String&nbsp;pProfileAddressName)</PRE>
<DL>
<DD>Given a nickname for an address to retrieve, grab it out of the users Profile
 object and return this as a RepositoryItem.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the customer profile.<DD><CODE>pProfileAddressName</CODE> - nickname for a users address object
<DT><B>Returns:</B><DD>the address object</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileAddressById(java.lang.String)"><!-- --></A><H3>
getProfileAddressById</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getProfileAddressById</B>(java.lang.String&nbsp;pProfileAddressId)</PRE>
<DL>
<DD>Given an id for an address to retrieve, grab it out of the users Profile
 object and return this as a RepositoryItem.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileAddressId</CODE> - id for a users address object
<DT><B>Returns:</B><DD>the address object</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileItem(java.lang.String)"><!-- --></A><H3>
getProfileItem</H3>
<PRE>
public <A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A> <B>getProfileItem</B>(java.lang.String&nbsp;pProfileId)
                                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Get the profile repository item for the given user
 If the given id is null, returns the current user
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfileId</CODE> - The profile id to look for
<DT><B>Returns:</B><DD>The repository item for the given profile.  null if the id is invalid
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getCreditCardByNickname(java.lang.String, atg.repository.RepositoryItem)"><!-- --></A><H3>
getCreditCardByNickname</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getCreditCardByNickname</B>(java.lang.String&nbsp;pCreditCardNickname,
                                              <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Retrieves credit card by nickname and profile.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pCreditCardNickname</CODE> - the credit card nickname.<DD><CODE>pProfile</CODE> - the customer profile.
<DT><B>Returns:</B><DD>the credit card repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="getUsersCreditCardMap(atg.repository.RepositoryItem)"><!-- --></A><H3>
getUsersCreditCardMap</H3>
<PRE>
public java.util.Map <B>getUsersCreditCardMap</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Retrieves map of credit cards for a given profile.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the customer profile.
<DT><B>Returns:</B><DD>the map of credit cards</DL>
</DD>
</DL>
<HR>

<A NAME="createCreditCardItem(atg.repository.RepositoryItem)"><!-- --></A><H3>
createCreditCardItem</H3>
<PRE>
public <A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A> <B>createCreditCardItem</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)
                                           throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Creates a new credit card repository item for the given profile
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the customer profile.
<DT><B>Returns:</B><DD>The new credit card repository item.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error when creating the new repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="addCreditCardToUsersMap(atg.repository.RepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
addCreditCardToUsersMap</H3>
<PRE>
public void <B>addCreditCardToUsersMap</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pCreditCard)</PRE>
<DL>
<DD>Adds the new credit card to the users profile.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the customer profile.<DD><CODE>pCreditCard</CODE> - the credit card.</DL>
</DD>
</DL>
<HR>

<A NAME="getAddressFromRepositoryItem(atg.repository.RepositoryItem)"><!-- --></A><H3>
getAddressFromRepositoryItem</H3>
<PRE>
public <A HREF="../../../atg/core/util/Address.html" title="class in atg.core.util">Address</A> <B>getAddressFromRepositoryItem</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pItem)
                                     throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method creates an address object and sets the property values
 to values in the repository item passed in.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - the repository item
<DT><B>Returns:</B><DD>address the address object with data from repository
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error when creating the new repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="addProfileRepositoryAddress(atg.repository.RepositoryItem, java.lang.String, atg.repository.RepositoryItem)"><!-- --></A><H3>
addProfileRepositoryAddress</H3>
<PRE>
public void <B>addProfileRepositoryAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                        java.lang.String&nbsp;pAddressName,
                                        <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress)
                                 throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method adds a profile repository address to the customer's secondary
 addresses or address book.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the profile of the user.<DD><CODE>pAddressName</CODE> - The name of the new address entry in address book.<DD><CODE>pAddress</CODE> - The address to add to the address book.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error when creating the new repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="removeProfileRepositoryAddress(atg.repository.RepositoryItem, java.lang.String)"><!-- --></A><H3>
removeProfileRepositoryAddress</H3>
<PRE>
public void <B>removeProfileRepositoryAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                           java.lang.String&nbsp;pAddressName)
                                    throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Removes the named address entry from the users Profile.  First, check to see if its the
 default billing or shipping address, if it is then remove those.  Else, its in the users
 secondary address map so obtain those entries and remove.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - profile from which the named address will be removed<DD><CODE>pAddressName</CODE> - the nickname of the address that will be removed
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error when creating the new repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="addProfileGiftlistAddress(atg.repository.RepositoryItem, java.lang.String, atg.repository.RepositoryItem)"><!-- --></A><H3>
addProfileGiftlistAddress</H3>
<PRE>
public void <B>addProfileGiftlistAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                      java.lang.String&nbsp;pAddressName,
                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress)
                               throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>This method adds a giftlift address to the customer's giftlist address
 property.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the profile of the user.<DD><CODE>pAddressName</CODE> - The name of the new address entry in address book.<DD><CODE>pAddress</CODE> - The address to add to the address book.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if there was an error when creating the new repository item.</DL>
</DD>
</DL>
<HR>

<A NAME="isAddressEmpty(atg.repository.RepositoryItem)"><!-- --></A><H3>
isAddressEmpty</H3>
<PRE>
public boolean <B>isAddressEmpty</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress)</PRE>
<DL>
<DD>Determines if the given repository address is empty.  The notion of empty
 can vary, but in this implementation the properties are obtained from the emptyAddressPropertyNames
 property in this class. If all of them are null or have no characters then the address is considered empty.
 Override this method if the notion of empty should be different.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pAddress</CODE> - a value of type RepositoryItem
<DT><B>Returns:</B><DD>true if the address is empty, false otherwise</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultShippingAddress(atg.repository.RepositoryItem)"><!-- --></A><H3>
getDefaultShippingAddress</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getDefaultShippingAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Get the default shipping address repository item by getting property name from the
 property manager.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - profile that shipping address will be extracted from
<DT><B>Returns:</B><DD>the shipping address</DL>
</DD>
</DL>
<HR>

<A NAME="getDefaultBillingAddress(atg.repository.RepositoryItem)"><!-- --></A><H3>
getDefaultBillingAddress</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getDefaultBillingAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Get the default Billing address repository item by getting property name from the
 property manager.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - profile that Billing address will be extracted from
<DT><B>Returns:</B><DD>the Billing address</DL>
</DD>
</DL>
<HR>

<A NAME="areAddressesEqual(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String[])"><!-- --></A><H3>
areAddressesEqual</H3>
<PRE>
public boolean <B>areAddressesEqual</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress1,
                                 <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress2,
                                 java.lang.String[]&nbsp;pPropertyNamesToCompare)</PRE>
<DL>
<DD>Compares two contactInfo repository items to determine if they are equal.
 <p>
 True is returned if the two items are the same repository item.
 <p>
 Also compares the values of each property defined in the <code>compareAddressPropertyNames</code>
 array if an array of property names is not provided. 
 <p>
 Case is ignored for string comparisons.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pAddress1</CODE> - address to compare to pAddress2<DD><CODE>pAddress2</CODE> - address to compare to pAddress1<DD><CODE>pPropertyNamesToCompare</CODE> - array of property names to use in the comparison. If null the 
 properties defined by <code>compareAddressPropertyNames</code> are used.
<DT><B>Returns:</B><DD>true if the addresses are considered equal</DL>
</DD>
</DL>
<HR>

<A NAME="loadUserShoppingCartForLogin(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)"><!-- --></A><H3>
loadUserShoppingCartForLogin</H3>
<PRE>
public void <B>loadUserShoppingCartForLogin</B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                         <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)
                                  throws javax.servlet.ServletException,
                                         java.io.IOException</PRE>
<DL>
<DD>When an auto-login operation occurs, we attempt to find any old shopping carts
 from previous sessions. In this process we may move items from any transient
 shopping carts to their previous persistent shopping carts. However if the
 <code>mergeOrders</code> property is to set false (default true), then we persist
 any existing transient shopping carts that may have built up while navigating as an
 anonymous user. All the shopping carts are also repriced to make sure that their
 prices are up to date. This can be toggeled through the <code>repriceOrderOnLogin</code>
 property. This method will resolve the Profile out of the request, plus the
 user's session-scoped pricing model holder, order holder, and their locale.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRequest</CODE> - the request object that the login operation occurs within<DD><CODE>pResponse</CODE> - the response object that the login operation occurs within
<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE> - if there was an error while executing the code
<DD><CODE>java.io.IOException</CODE> - if there was an error with servlet io</DL>
</DD>
</DL>
<HR>

<A NAME="loadUserShoppingCartForLogin(atg.repository.RepositoryItem, atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)"><!-- --></A><H3>
loadUserShoppingCartForLogin</H3>
<PRE>
public void <B>loadUserShoppingCartForLogin</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                         <A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                         <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)
                                  throws javax.servlet.ServletException,
                                         java.io.IOException</PRE>
<DL>
<DD>When an auto-login operation occurs, we attempt to find any old shopping carts
 from previous sessions. In this process we may move items from any transient
 shopping carts to their previous persistent shopping carts. However if the
 <code>mergeOrders</code> property is to set false (default true), then we persist
 any existing transient shopping carts that may have built up while navigating as an
 anonymous user. All the shopping carts are also repriced to make sure that their
 prices are up to date. This can be toggeled through the <code>repriceOrderOnLogin</code>
 property. This method will use the supplied Profile, and resolve the user's session-scoped
 pricing model holder, order holder, and their locale.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user who under went auto-login<DD><CODE>pRequest</CODE> - the request object that the login operation occurs within<DD><CODE>pResponse</CODE> - the response object that the login operation occurs within
<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE> - if there was an error while executing the code
<DD><CODE>java.io.IOException</CODE> - if there was an error with servlet io</DL>
</DD>
</DL>
<HR>

<A NAME="loadUserShoppingCartForLogin(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder, java.util.Locale)"><!-- --></A><H3>
loadUserShoppingCartForLogin</H3>
<PRE>
public void <B>loadUserShoppingCartForLogin</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                         <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                                         <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                                         java.util.Locale&nbsp;pLocale)
                                  throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>When a login operation occurs, we attempt to find any old shopping carts
 from previous sessions. In this process we may move items from any transient
 shopping carts to their previous persistent shopping carts. However if the
 <code>mergeOrders</code> property is to set false (default true), then we persist
 any existing transient shopping carts that may have built up while navigating as an
 anonymous user. All the shopping carts are also repriced to make sure that their
 prices are up to date. This can be toggeled through the <code>repriceOrderOnLogin</code>
 property.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user<DD><CODE>pUserPricingModels</CODE> - the pricing models for this user<DD><CODE>pLocale</CODE> - the locale of the user
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while loading, repricing or persisting
 the shopping carts</DL>
</DD>
</DL>
<HR>

<A NAME="loadShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)"><!-- --></A><H3>
loadShoppingCarts</H3>
<PRE>
public void <B>loadShoppingCarts</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                              <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)
                       throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>This method finds all the shopping carts for the user and places them into the
 session-scope OrderHolder component. "Shopping Carts" are defined to be orders
 whose state is INCOMPLETE. The orders are sorted by last activity date, and the
 last order touched is made the current order. This method will optionally
 merge the current shopping cart for the session (from the OrderHolder.current property)
 with the first persistent order loaded from the database. This functionality is
 toggeled through the <code>mergeOrders</code> property of this form handler.

 NOTE: This method acquires a transaction lock, then calls "loadShoppingCartsWithLock"
 to do the actual work.  If you already have a transaction lock in place, call
 "loadShoppingCartsWithLock" directly
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while loading the shopping carts</DL>
</DD>
</DL>
<HR>

<A NAME="loadShoppingCartsWithLock(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)"><!-- --></A><H3>
loadShoppingCartsWithLock</H3>
<PRE>
public void <B>loadShoppingCartsWithLock</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                      <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)
                               throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>This method finds all the shopping carts for the user and places them into the
 session-scope OrderHolder component. "Shopping Carts" are defined to be orders
 whose state is INCOMPLETE. The orders are sorted by last activity date, and the
 last order touched is made the current order. This method will optionally
 merge the current shopping cart for the session (from the OrderHolder.current property)
 with the first persistent order loaded from the database. This functionality is
 toggeled through the <code>mergeOrders</code> property of this form handler.

 NOTE: This method is only to be called with a transaction lock already in place.
 If a transaction lock, is not in place, call "loadShoppingCarts" instead.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while loading the shopping carts</DL>
</DD>
</DL>
<HR>

<A NAME="repriceShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, java.lang.String, atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)"><!-- --></A><H3>
repriceShoppingCarts</H3>
<PRE>
public void <B>repriceShoppingCarts</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                 <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                                 java.lang.String&nbsp;pPricingOperation,
                                 <A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                 <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)
                          throws javax.servlet.ServletException,
                                 java.io.IOException,
                                 <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>Reprice all of the orders in the OrderHolder component. The locale and the UserPricingModels
 component are resolved out of the request object
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while repricing the shopping carts
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="repriceShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder, java.util.Locale)"><!-- --></A><H3>
repriceShoppingCarts</H3>
<PRE>
public void <B>repriceShoppingCarts</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                 <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                                 <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                                 java.util.Locale&nbsp;pLocale)
                          throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>Reprice all of the orders in the OrderHolder component
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user<DD><CODE>pUserPricingModels</CODE> - the pricing models for this user<DD><CODE>pLocale</CODE> - the locale of the user
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while repricing the shopping carts</DL>
</DD>
</DL>
<HR>

<A NAME="repriceShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder, java.util.Locale, java.lang.String)"><!-- --></A><H3>
repriceShoppingCarts</H3>
<PRE>
public void <B>repriceShoppingCarts</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                 <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                                 <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                                 java.util.Locale&nbsp;pLocale,
                                 java.lang.String&nbsp;pPricingOperation)
                          throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>Reprice all of the orders in the OrderHolder component
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user<DD><CODE>pUserPricingModels</CODE> - the pricing models for this user<DD><CODE>pLocale</CODE> - the locale of the user<DD><CODE>pPricingOperation</CODE> - The operations which are acceptable are defined in the
 <code>atg.commerce.pricing.PricingConstants</code> interface. They include:
 <UL>
 <LI>PricingConstants.OP_REPRICE_ORDER_TOTAL -> <code>ORDER_TOTAL</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL -> <code>ORDER_SUBTOTAL</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL_SHIPPING -> <code>ORDER_SUBTOTAL_SHIPPING</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL_TAX -> <code>ORDER_SUBTOTAL_TAX</code>
 <LI>PricingConstants.OP_REPRICE_ITEMS -> <code>ITEMS</code>
 <LI>PricingConstants.OP_REPRICE_SHIPPING -> <code>SHIPPING</code>
 <LI>PricingConstants.OP_REPRICE_ORDER -> <code>ORDER</code>
 <LI>PricingConstants.OP_REPRICE_TAX -> <code>TAX</code>
 <LI>PricingConstants.OP_NO_REPRICE -> <code>NO_REPRICE</code>
 </UL>

 NOTE: This method acquires a transaction lock, then calls "repriceShoppingCartsWithLock"
 to do the actual work.  If you already have a transaction lock in place, call
 "repriceShoppingCartsWithLock" directly
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while repricing the shopping carts</DL>
</DD>
</DL>
<HR>

<A NAME="repriceShoppingCartsWithLock(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder, java.util.Locale, java.lang.String)"><!-- --></A><H3>
repriceShoppingCartsWithLock</H3>
<PRE>
public void <B>repriceShoppingCartsWithLock</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                         <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                                         <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                                         java.util.Locale&nbsp;pLocale,
                                         java.lang.String&nbsp;pPricingOperation)
                                  throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>Reprice all of the orders in the OrderHolder component
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user<DD><CODE>pUserPricingModels</CODE> - the pricing models for this user<DD><CODE>pLocale</CODE> - the locale of the user<DD><CODE>pPricingOperation</CODE> - The operations which are acceptable are defined in the
 <code>atg.commerce.pricing.PricingConstants</code> interface. They include:
 <UL>
 <LI>PricingConstants.OP_REPRICE_ORDER_TOTAL -> <code>ORDER_TOTAL</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL -> <code>ORDER_SUBTOTAL</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL_SHIPPING -> <code>ORDER_SUBTOTAL_SHIPPING</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL_TAX -> <code>ORDER_SUBTOTAL_TAX</code>
 <LI>PricingConstants.OP_REPRICE_ITEMS -> <code>ITEMS</code>
 <LI>PricingConstants.OP_REPRICE_SHIPPING -> <code>SHIPPING</code>
 <LI>PricingConstants.OP_REPRICE_ORDER -> <code>ORDER</code>
 <LI>PricingConstants.OP_REPRICE_TAX -> <code>TAX</code>
 <LI>PricingConstants.OP_NO_REPRICE -> <code>NO_REPRICE</code>
 </UL>

 NOTE: This method is only to be called with a transaction lock already in place.
 If a transaction lock, is not in place, call "repriceShoppingCarts" instead.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while repricing the shopping carts</DL>
</DD>
</DL>
<HR>

<A NAME="repriceOrder(atg.commerce.order.Order, atg.repository.RepositoryItem, atg.commerce.pricing.PricingModelHolder, java.util.Locale, java.lang.String)"><!-- --></A><H3>
repriceOrder</H3>
<PRE>
protected void <B>repriceOrder</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                            <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                            <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pUserPricingModels,
                            java.util.Locale&nbsp;pLocale,
                            java.lang.String&nbsp;pPricingOperation)
                     throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>Reprice a single given order, this calls into the PricingTools.performPricingOperation
 method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - the order to reprice<DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pUserPricingModels</CODE> - the pricing models for this user<DD><CODE>pLocale</CODE> - the locale of the user<DD><CODE>pPricingOperation</CODE> - The operations which are acceptable are defined in the
 <code>atg.commerce.pricing.PricingConstants</code> interface. They include:
 <UL>
 <LI>PricingConstants.OP_REPRICE_ORDER_TOTAL -> <code>ORDER_TOTAL</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL -> <code>ORDER_SUBTOTAL</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL_SHIPPING -> <code>ORDER_SUBTOTAL_SHIPPING</code>
 <LI>PricingConstants.OP_REPRICE_ORDER_SUBTOTAL_TAX -> <code>ORDER_SUBTOTAL_TAX</code>
 <LI>PricingConstants.OP_REPRICE_ITEMS -> <code>ITEMS</code>
 <LI>PricingConstants.OP_REPRICE_SHIPPING -> <code>SHIPPING</code>
 <LI>PricingConstants.OP_REPRICE_ORDER -> <code>ORDER</code>
 <LI>PricingConstants.OP_REPRICE_TAX -> <code>TAX</code>
 <LI>PricingConstants.OP_NO_REPRICE -> <code>NO_REPRICE</code>
 </UL>
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while repricing the shopping carts<DT><B>See Also:</B><DD><CODE>atg.commerce.pricing.PricingTools.performPricingOperation</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getPricingParameters()"><!-- --></A><H3>
getPricingParameters</H3>
<PRE>
public java.util.Map <B>getPricingParameters</B>()</PRE>
<DL>
<DD>This returns the map that will be passed into pricingTools.performPricingOperation
 as the pExtraParameters.  The default implementation of this is to return a
 new HashMap
<P>
<DD><DL>

<DT><B>Returns:</B><DD>A new empty HashMap</DL>
</DD>
</DL>
<HR>

<A NAME="persistShoppingCarts(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)"><!-- --></A><H3>
persistShoppingCarts</H3>
<PRE>
public void <B>persistShoppingCarts</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                 <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)
                          throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>This method will persist the current and any "saved" shopping carts.

 NOTE: This method acquires a transaction lock, then calls "persistShoppingCartsWithLock"
 to do the actual work.  If you already have a transaction lock in place, call
 "persistShoppingCartsWithLock" directly
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while persisting the shopping carts</DL>
</DD>
</DL>
<HR>

<A NAME="persistShoppingCartsWithLock(atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)"><!-- --></A><H3>
persistShoppingCartsWithLock</H3>
<PRE>
public void <B>persistShoppingCartsWithLock</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                         <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)
                                  throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>This method will persist the current and any "saved" shopping carts.

 NOTE: This method is only to be called with a transaction lock already in place.
 If a transaction lock, is not in place, call "persistShoppingCarts" instead.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pShoppingCart</CODE> - the OrderHolder component for this user
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - is any errors occur while persisting the shopping carts</DL>
</DD>
</DL>
<HR>

<A NAME="getUserLocale(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse)"><!-- --></A><H3>
getUserLocale</H3>
<PRE>
public java.util.Locale <B>getUserLocale</B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                                      <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse)
                               throws javax.servlet.ServletException,
                                      java.io.IOException</PRE>
<DL>
<DD>Returns the locale associated with the request. The method first searches
 for a request paramater named <code>locale</code>. This value can be
 either a java.util.Locale object or a String which represents the locale.
 Next if the <code>useRequestLocale</code> property is true, then the locale
 of the request will be returned. Finally, if the locale cannot be determined,
 the the <code>defaultLocale</code> property is used.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="persistOrderIfNeeded(atg.commerce.order.Order)"><!-- --></A><H3>
persistOrderIfNeeded</H3>
<PRE>
protected void <B>persistOrderIfNeeded</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)
                             throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>If the order is transient and not empty then make it persistent through the Order Manager.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="updateOrderProfileId(atg.commerce.order.Order, atg.repository.RepositoryItem)"><!-- --></A><H3>
updateOrderProfileId</H3>
<PRE>
protected void <B>updateOrderProfileId</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder,
                                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)
                             throws <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>This method makes sure the profile id of the order is the same as the current
 user. (e.g. in case user ids change during registration).
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="copyCreditCardToProfile(atg.commerce.order.CreditCard, atg.repository.RepositoryItem)"><!-- --></A><H3>
copyCreditCardToProfile</H3>
<PRE>
public void <B>copyCreditCardToProfile</B>(<A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;pCreditCard,
                                    <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile)</PRE>
<DL>
<DD>Copy the credit card passed in the parameter pCreditCard to the profile
 passed in the parameter pProfile.  This is done by creating a new Credit Card itemDescriptor
 object by making use of the @see atg.commmerce.profile.CommerceProfileTools
 class to create a creditCardItem.  Next, the @see #copyCreditCard(CreditCard, RepositoryItem)
 is called to perform the actual copying of data.  The resulting object is then
 updated to the repository and copied into the users map of credit cards.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pCreditCard</CODE> - the credit card that is to be copied to a users profile<DD><CODE>pProfile</CODE> - the user profile</DL>
</DD>
</DL>
<HR>

<A NAME="copyCreditCardToPaymentGroup(java.lang.String, atg.commerce.order.CreditCard, atg.repository.RepositoryItem, java.util.Locale)"><!-- --></A><H3>
copyCreditCardToPaymentGroup</H3>
<PRE>
public void <B>copyCreditCardToPaymentGroup</B>(java.lang.String&nbsp;pNickname,
                                         <A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;paymentGroup,
                                         <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                                         java.util.Locale&nbsp;pLocale)</PRE>
<DL>
<DD>Copy the credit card from the users profile to the payment group.  The credit
 card item named by pNickname is obtained from the pProfile parameter and then
 copied in theo the paymentGroup parameter.  This is done by making calls
 to @see #copyCreditCard(RepositoryItem, CreditCard)
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pNickname</CODE> - a value of type 'String'<DD><CODE>paymentGroup</CODE> - a value of type 'CreditCard'<DD><CODE>pProfile</CODE> - the user profile<DD><CODE>pLocale</CODE> - the user local</DL>
</DD>
</DL>
<HR>

<A NAME="copyCreditCard(atg.repository.RepositoryItem, atg.commerce.order.CreditCard)"><!-- --></A><H3>
copyCreditCard</H3>
<PRE>
public void <B>copyCreditCard</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pFromCreditCard,
                           <A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;pToCreditCard)</PRE>
<DL>
<DD>Copying a credit card is a two step process.

 <P>

 The first is copying the shallow properties of the credit card.  These are objects
 like String, Integer etc. that can be copied.  This shallow copying is performed
 by the @see #copyShallowCreditCardProperties method.

 <P>

 Next, any post copying is done.  The single object that must have a "deep" coyp
 performed on it is the billingAddress of the credit card.  The billingAddress
 is obtained from both objects and then a call is made to the
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pFromCreditCard</CODE> - a value of type 'RepositoryItem'<DD><CODE>pToCreditCard</CODE> - a value of type 'CreditCard'<DT><B>See Also:</B><DD><A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order"><CODE>to perform the copy.

 <P>

 If there is additional deep copying that needs to be done, this method should be overriden.</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="copyCreditCard(atg.commerce.order.CreditCard, atg.repository.RepositoryItem)"><!-- --></A><H3>
copyCreditCard</H3>
<PRE>
public void <B>copyCreditCard</B>(<A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;pFromCreditCard,
                           <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pToCreditCard)</PRE>
<DL>
<DD>Copying a credit card is a two step process.

 <P>

 The first is copying the shallow properties of the credit card.  These are objects
 like String, Integer etc. that can be copied.  This shallow copying is performed
 by the @see #copyShallowCreditCardProperties method.

 <P>

 Next, any post copying is done.  The single object that must have a "deep" coyp
 performed on it is the billingAddress of the credit card.  The billingAddress
 is obtained from both objects and then a call is made to the
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pFromCreditCard</CODE> - a value of type 'RepositoryItem'<DD><CODE>pToCreditCard</CODE> - a value of type 'CreditCard'<DT><B>See Also:</B><DD><A HREF="../../../atg/commerce/order/OrderManager.html" title="class in atg.commerce.order"><CODE>to perform the copy.

 <P>

 If there is additional deep copying that needs to be done, this method should be overriden.</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="copyShallowCreditCardProperties(java.lang.Object, java.lang.Object)"><!-- --></A><H3>
copyShallowCreditCardProperties</H3>
<PRE>
public void <B>copyShallowCreditCardProperties</B>(java.lang.Object&nbsp;pFromCreditCard,
                                            java.lang.Object&nbsp;pToCreditCard)
                                     throws <A HREF="../../../atg/beans/PropertyNotFoundException.html" title="class in atg.beans">PropertyNotFoundException</A></PRE>
<DL>
<DD>The shallow properties of a credit card are copied.  This is done by consulting
 the @see #propertyManager for a String array of properties to copy, as named
 by the <code>shallowCreditCardPropertyNames</code> property.  These properties
 are then copied via DynamicBeans
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pFromCreditCard</CODE> - the credit card that the address is copied from<DD><CODE>pToCreditCard</CODE> - the destination credit card for address
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/beans/PropertyNotFoundException.html" title="class in atg.beans">PropertyNotFoundException</A></CODE> - if a property listed by shallowCreditCardPropertyNames
 is not found</DL>
</DD>
</DL>
<HR>

<A NAME="isCreditCardEmpty(atg.commerce.order.CreditCard)"><!-- --></A><H3>
isCreditCardEmpty</H3>
<PRE>
public boolean <B>isCreditCardEmpty</B>(<A HREF="../../../atg/commerce/order/CreditCard.html" title="class in atg.commerce.order">CreditCard</A>&nbsp;pCreditCard)</PRE>
<DL>
<DD>Checks to see if a CreditCard object is empty.  Empty
 means that certain necessary fields are missing.  The properties
 that it checks for are those specified by the creditCardProperties
 String array.

 <P>

 This behavior can be overriden by making additions to the String array
 creditCardProperties, or if necessary extending this method.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pCreditCard</CODE> - a value of type 'CreditCard'
<DT><B>Returns:</B><DD>true if the payment group is empty.</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileForOrder(atg.commerce.order.Order)"><!-- --></A><H3>
getProfileForOrder</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getProfileForOrder</B>(<A HREF="../../../atg/commerce/order/Order.html" title="interface in atg.commerce.order">Order</A>&nbsp;pOrder)
                                  throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Return the user profile of the user who placed a given order.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrder</CODE> - The order whose owner is being retreived.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if any error occurs while looking up the user profile in the
    profile repository.</DL>
</DD>
</DL>
<HR>

<A NAME="getProfileForOrder(java.lang.String)"><!-- --></A><H3>
getProfileForOrder</H3>
<PRE>
public <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A> <B>getProfileForOrder</B>(java.lang.String&nbsp;pOrderId)
                                  throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A>,
                                         <A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></PRE>
<DL>
<DD>Return the user profile of the user who placed the order with
 id <code>pOrderId</code>.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrderId</CODE> - The order id of the order whose owner is being retreived.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/commerce/CommerceException.html" title="class in atg.commerce">CommerceException</A></CODE> - if any error occurs while loading the order from the order
    repository.
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE> - if any error occurs while looking up the user profile in the
    profile repository.</DL>
</DD>
</DL>
<HR>

<A NAME="findOrderToLoad(java.util.List)"><!-- --></A><H3>
findOrderToLoad</H3>
<PRE>
public int <B>findOrderToLoad</B>(java.util.List&nbsp;pOrders)</PRE>
<DL>
<DD>Return the index of the order that should be used as the primary order for this user.
 This method will return the most recently changed if the @see isSelectLastModifiedOrder is
 set to true which is the 0th element in the default implementation due to the order by
 clause.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pOrders</CODE> - A List of the orders to select from
<DT><B>Returns:</B><DD>the index in the list which should be used, -1 if no order is found</DL>
</DD>
</DL>
<HR>

<A NAME="addActivePromotions(atg.repository.RepositoryItem, atg.repository.RepositoryItem)"><!-- --></A><H3>
addActivePromotions</H3>
<PRE>
protected void <B>addActivePromotions</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pGuestUser,
                                   <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAuthenticatedUser)
                            throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Copy the active promotions from the guest user to the authenticated user
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pGuestUser</CODE> - the user to copy values from<DD><CODE>pAuthenticatedUser</CODE> - the user to copy values to
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="postCreateUser(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, atg.repository.RepositoryItem, atg.commerce.order.OrderHolder)"><!-- --></A><H3>
postCreateUser</H3>
<PRE>
protected void <B>postCreateUser</B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                              <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
                              <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                              <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart)
                       throws javax.servlet.ServletException</PRE>
<DL>
<DD>After registration, any transient orders are made persistent through the
 <code>persistShoppingCarts</code> method of the CommerceProfileTools component
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRequest</CODE> - the servlet's request<DD><CODE>pResponse</CODE> - the servlet's response<DD><CODE>pProfile</CODE> - The profile of the just created user<DD><CODE>pShoppingCart</CODE> - The shopping cart for the new user
<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE> - if there was an error while executing the code</DL>
</DD>
</DL>
<HR>

<A NAME="postLoginUser(atg.servlet.DynamoHttpServletRequest, atg.servlet.DynamoHttpServletResponse, atg.repository.RepositoryItem, atg.commerce.order.OrderHolder, atg.commerce.pricing.PricingModelHolder)"><!-- --></A><H3>
postLoginUser</H3>
<PRE>
protected void <B>postLoginUser</B>(<A HREF="../../../atg/servlet/DynamoHttpServletRequest.html" title="class in atg.servlet">DynamoHttpServletRequest</A>&nbsp;pRequest,
                             <A HREF="../../../atg/servlet/DynamoHttpServletResponse.html" title="class in atg.servlet">DynamoHttpServletResponse</A>&nbsp;pResponse,
                             <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pProfile,
                             <A HREF="../../../atg/commerce/order/OrderHolder.html" title="class in atg.commerce.order">OrderHolder</A>&nbsp;pShoppingCart,
                             <A HREF="../../../atg/commerce/pricing/PricingModelHolder.html" title="class in atg.commerce.pricing">PricingModelHolder</A>&nbsp;pPricingModelHolder)
                      throws javax.servlet.ServletException</PRE>
<DL>
<DD>After logging in the user's session cached promotions are reloaded into the PricingModelHolder.
 In addition any non-transient orders are made persistent and old shopping carts are loaded
 from the database.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pRequest</CODE> - the servlet's request<DD><CODE>pResponse</CODE> - the servlet's response<DD><CODE>pProfile</CODE> - The profile of the user that just logged in<DD><CODE>pShoppingCart</CODE> - The shopping cart for the user that just logged in<DD><CODE>pPricingModelHolder</CODE> - The pricing models for the user that just logged in
<DT><B>Throws:</B>
<DD><CODE>javax.servlet.ServletException</CODE> - if there was an error while executing the code</DL>
</DD>
</DL>
<HR>

<A NAME="acquireTransactionLock()"><!-- --></A><H3>
acquireTransactionLock</H3>
<PRE>
protected void <B>acquireTransactionLock</B>()
                               throws <A HREF="../../../atg/service/lockmanager/DeadlockException.html" title="class in atg.service.lockmanager">DeadlockException</A></PRE>
<DL>
<DD>Attempt to acquire a local lock before creating a transaction
 that may modify the order, but only if
 <code>useLocksAroundTransactions</code> is set to true.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/service/lockmanager/DeadlockException.html" title="class in atg.service.lockmanager">DeadlockException</A></CODE></DL>
</DD>
</DL>
<HR>

<A NAME="cloneContactInfoItem(atg.repository.RepositoryItem, java.util.Map, java.util.Map, boolean, java.lang.String)"><!-- --></A><H3>
cloneContactInfoItem</H3>
<PRE>
public <A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A> <B>cloneContactInfoItem</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pContactInfoItem,
                                                  java.util.Map&nbsp;pExcludedProperties,
                                                  java.util.Map&nbsp;pPropExceptions,
                                                  boolean&nbsp;pDeepCopy,
                                                  java.lang.String&nbsp;pRepositoryId)
                                           throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Clones a contact info repository item.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the clone
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../atg/repository/RepositoryUtils.html#cloneItem(atg.repository.RepositoryItem, boolean, java.util.Map, java.util.Map, atg.repository.MutableRepository, java.lang.String)"><CODE>RepositoryUtils.cloneItem(RepositoryItem, boolean, Map, Map, MutableRepository, String)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="setItemPropertyToAddress(atg.repository.RepositoryItem, atg.repository.RepositoryItem, java.lang.String, java.util.Map, java.util.Map)"><!-- --></A><H3>
setItemPropertyToAddress</H3>
<PRE>
public <A HREF="../../../atg/repository/MutableRepositoryItem.html" title="interface in atg.repository">MutableRepositoryItem</A> <B>setItemPropertyToAddress</B>(<A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pItem,
                                                      <A HREF="../../../atg/repository/RepositoryItem.html" title="interface in atg.repository">RepositoryItem</A>&nbsp;pAddress,
                                                      java.lang.String&nbsp;pPropertyName,
                                                      java.util.Map&nbsp;pExcludedProperties,
                                                      java.util.Map&nbsp;pPropExceptions)
                                               throws <A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></PRE>
<DL>
<DD>Clones the address item and changes the item's property to reference 
 the clone.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>pItem</CODE> - the repository item that will reference the address<DD><CODE>pAddress</CODE> - the address to be cloned<DD><CODE>pPropertyName</CODE> - the name of the property on the item that will reference the clone<DD><CODE>pExcludedProperties</CODE> - Properties to exclude from clone. Keys are
  item-type names and the values are collections of property names to
  exclude. Optional.<DD><CODE>pPropExceptions</CODE> - Hierarchical map of property name exceptions to the
  above mode. Keys are property names while values are null or another Map
  if the property is an item. For example, if you clone a product using
  pDeepCopy=true, you could add the key "parentCategory" with a null value
  into pPropExceptions to cause a shallow copy of the product.parentCategory.
  Alternatively, you could add the key "parentCategory" but set the value to
  another map of exceptions that included the key/value pair "keywords"/null
  to do a deep copy of product.parentCategory but a shallow copy of the
  product.parentCategory.keywords. Optional.
<DT><B>Returns:</B><DD>the clone repository item
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../atg/repository/RepositoryException.html" title="class in atg.repository">RepositoryException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../atg/commerce/profile/CommerceProfileTools.html#cloneContactInfoItem(atg.repository.RepositoryItem, java.util.Map, java.util.Map, boolean, java.lang.String)"><CODE>cloneContactInfoItem(RepositoryItem, Map, Map, boolean, String)</CODE></A></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../atg/commerce/profile/CommerceProfileServices.html" title="class in atg.commerce.profile"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../atg/commerce/profile/CommercePropertyManager.html" title="class in atg.commerce.profile"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="CommerceProfileTools.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
