<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
  
    <title>batch-write-item &#8212; AWS CLI 1.0.0 documentation</title>
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap.min.css" />
  <script type="text/javascript" src="../../_static/jquery-1.9.1.min.js.html"></script>
    
    <link rel="stylesheet" href="../../_static/guzzle.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript"><![CDATA[
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    ]]></script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="AWS CLI 1.0.0 documentation" href="../../index.html" />
    <link rel="up" title="dynamodb" href="index.html" />
    <link rel="next" title="create-table" href="create-table.html" />
    <link rel="prev" title="batch-get-item" href="batch-get-item.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" type="text/css" href="../../_static/bootstrap-responsive.min.css" />
  
   

  </head>
  <body>
  <div class="navbar navbar-fixed-top ">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="../../index.html">AWS CLI</a>
        <ul class="nav">
<li><a href="../../index.html">Home</a></li>
<li><a href="http://aws.amazon.com/documentation/cli/">Documentation</a></li>
<li><a href="https://forums.aws.amazon.com/forum.jspa?forumID=150">Forum</a></li>
<li><a href="https://github.com/aws/aws-cli">GitHub</a></li>
        </ul>
        <div class="pull-right" id="github-stars">
          <iframe src="http://ghbtns.com/github-btn.html?user=aws&amp;repo=aws-cli&amp;type=watch&amp;count=true&amp;size=small" allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
        </div>
      </div>
    </div>
  </div>
  

    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index" accesskey="I">index</a></li>
        <li class="right">
          <a href="create-table.html" title="create-table" accesskey="N">next</a> |</li>
        <li class="right">
          <a href="batch-get-item.html" title="batch-get-item" accesskey="P">previous</a> |</li>
        <li><a href="../../index.html">AWS CLI 1.0.0 documentation</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html" accesskey="U">dynamodb</a> &#187;</li> 
      </ul>
    </div>
    <div class="container">
        
    <div class="top-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="batch-get-item.html" title="previous chapter (use the left arrow)">&#8592; batch-get-item</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="create-table.html" title="next chapter (use the right arrow)">create-table &#8594;</a></li>
      </ul>
    </div>
  
        <div class="document clearer">
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper"><p class="logo left-bar-other">
  <a href="../../index.html">
    <img class="logo" src="../../_static/logo.png" alt="Logo" height="63" />
  </a>
</p>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">batch-write-item</a><ul>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#synopsis">Synopsis</a></li>
<li><a class="reference internal" href="#options">Options</a></li>
</ul>
</li>
</ul>

<div id="searchbox" style="display: none">
    <h3>Quick search</h3>
    <form class="form-search margin-top-1em" action="../../search.html" method="get">
        <input type="text" name="q" style="width: 105px" class="input-small search-query" />
        <button type="submit" class="btn btn-small">Search</button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript"><![CDATA[$('#searchbox').show(0);]]></script><div class="left-bar-other">
  <h3>Feedback</h3>
  <p class="feedback">Did you find this page useful? Do you have a suggestion? <a href="https://portal.aws.amazon.com/gp/aws/html-forms-controller/documentation/aws_doc_feedback_02?service_name=AWSCLI&amp;guide_name=Guide&amp;api_version=1.0&amp;file_name=reference/dynamodb/batch-write-item">Give us feedback</a> or
  send us a <a href="https://github.com/aws/aws-cli">pull request</a> on GitHub.</p>
</div>
        </div>
      </div>
            <div class="body">
              
  <p>[ <a class="reference internal" href="../index.html"><em>aws</em></a> . <a class="reference internal" href="index.html"><em>dynamodb</em></a> ]</p>
<div class="section" id="batch-write-item">
<h1>batch-write-item<a class="headerlink" href="#batch-write-item" title="Permalink to this headline">&#182;</a></h1>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">&#182;</a></h2>
<p>The <em>batch-write-item</em> operation puts or deletes multiple items in one or more tables. A single call to <em>batch-write-item</em> can write up to 1 MB of data, which can comprise as many as 25 put or delete requests. Individual items to be written can be as large as 64 KB.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last"><em>batch-write-item</em> cannot update items. To update items, use the <em>update-item</em> API.</p>
</div>
<p>The individual <em>put-item</em> and <em>delete-item</em> operations specified in <em>batch-write-item</em> are atomic; however <em>batch-write-item</em> as a whole is not. If any requested operations fail because the table's provisioned throughput is exceeded or an internal processing failure occurs, the failed operations are returned in the <em>UnprocessedItems</em> response parameter. You can investigate and optionally resend the requests. Typically, you would call <em>batch-write-item</em> in a loop. Each iteration would check for unprocessed items and submit a new <em>batch-write-item</em> request with those unprocessed items until all items have been processed.</p>
<p>To write one item, you can use the <em>put-item</em> operation; to delete one item, you can use the <em>delete-item</em> operation.</p>
<p>With <em>batch-write-item</em> , you can efficiently write or delete large amounts of data, such as from Amazon Elastic MapReduce (EMR), or copy data from another database into Amazon DynamoDB. In order to improve performance with these large-scale operations, <em>batch-write-item</em> does not behave in the same way as individual <em>put-item</em> and <em>delete-item</em> calls would For example, you cannot specify conditions on individual put and delete requests, and <em>batch-write-item</em> does not return deleted items in the response.</p>
<p>If you use a programming language that supports concurrency, such as Java, you can use threads to write items in parallel. Your application must include the necessary logic to manage the threads.</p>
<p>With languages that don't support threading, such as PHP, <em>batch-write-item</em> will write or delete the specified items one at a time. In both situations, <em>batch-write-item</em> provides an alternative where the API performs the specified put and delete operations in parallel, giving you the power of the thread pool approach without having to introduce complexity into your application.</p>
<p>Parallel processing reduces latency, but each specified put and delete request consumes the same number of write capacity units whether it is processed in parallel or not. Delete operations on nonexistent items consume one write capacity unit.</p>
<p>If one or more of the following is true, Amazon DynamoDB rejects the entire batch write operation:</p>
<ul class="simple">
<li>One or more tables specified in the <em>batch-write-item</em> request does not exist.</li>
<li>Primary key attributes specified on an item in the request do not match those in the corresponding table's primary key schema.</li>
<li>You try to perform multiple operations on the same item in the same <em>batch-write-item</em> request. For example, you cannot put and delete the same item in the same <em>batch-write-item</em> request.</li>
<li>The total request size exceeds 1 MB.</li>
<li>Any individual item in a batch exceeds 64 KB.</li>
</ul>
</div>
<div class="section" id="synopsis">
<h2>Synopsis<a class="headerlink" href="#synopsis" title="Permalink to this headline">&#182;</a></h2>
<div class="highlight-python"><pre>  batch-write-item
--request-items &lt;value&gt;
[--return-consumed-capacity &lt;value&gt;]
[--return-item-collection-metrics &lt;value&gt;]</pre>
</div>
</div>
<div class="section" id="options">
<h2>Options<a class="headerlink" href="#options" title="Permalink to this headline">&#182;</a></h2>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--request-items" class="dashAnchor" id="request-items"></a><span class="pre">--request-items</span></tt> (map)</p>
<blockquote>
<div><p>A map of one or more table names and, for each table, a list of operations to be performed (<em>DeleteRequest</em> or <em>PutRequest</em> ). Each element in the map consists of the following:</p>
<ul class="simple">
<li><em>DeleteRequest</em> - Perform a <em>delete-item</em> operation on the specified item. The item to be deleted is identified by a <em>Key</em> subelement:  *  <em>Key</em> - A map of primary key attribute values that uniquely identify the item. Each entry in this map consists of an attribute name and an attribute value.</li>
<li><em>PutRequest</em> - Perform a <em>put-item</em> operation on the specified item. The item to be put is identified by an <em>Item</em> subelement:  *  <em>Item</em> - A map of attributes and their values. Each entry in this map consists of an attribute name and an attribute value. Attribute values must not be null; string and binary type attributes must have lengths greater than zero; and set type attributes must not be empty. Requests that contain empty values will be rejected with a <em>ValidationException</em> . If you specify any attributes that are part of an index key, then the data types for those attributes must match those of the schema in the table's attribute definition.</li>
</ul>
</div></blockquote>
<p>JSON Syntax:</p>
<div class="highlight-python"><pre>{"string": [
      {
        "PutRequest": {
          "Item": {"string": {
                "S": "string",
                "N": "string",
                "B": blob,
                "SS": ["string", ...],
                "NS": ["string", ...],
                "BS": [blob, ...]
              }
            ...}
        },
        "DeleteRequest": {
          "Key": {"string": {
                "S": "string",
                "N": "string",
                "B": blob,
                "SS": ["string", ...],
                "NS": ["string", ...],
                "BS": [blob, ...]
              }
            ...}
        }
      }
      ...
    ]
  ...}</pre>
</div>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--return-consumed-capacity" class="dashAnchor" id="return-consumed-capacity"></a><span class="pre">--return-consumed-capacity</span></tt> (string)</p>
<blockquote>
<div>If set to <tt class="docutils literal"><span class="pre">TOTAL</span></tt>  , <em>ConsumedCapacity</em> is included in the response; if set to <tt class="docutils literal"><span class="pre">NONE</span></tt>  (the default), <em>ConsumedCapacity</em> is not included.</div></blockquote>
<p><tt class="docutils literal"><a name="//apple_ref/cpp/Option/--return-item-collection-metrics" class="dashAnchor" id="return-item-collection-metrics"></a><span class="pre">--return-item-collection-metrics</span></tt> (string)</p>
<blockquote>
<div>If set to <tt class="docutils literal"><span class="pre">SIZE</span></tt>  , statistics about item collections, if any, that were modified during the operation are returned in the response. If set to <tt class="docutils literal"><span class="pre">NONE</span></tt>  (the default), no statistics are returned..</div></blockquote>
</div>
</div>


            </div>
          <div class="clearfix"></div>
        </div>
        
    <div class="footer-links">
      <ul class="breadcrumb pull-right">
        <li>
          <a href="batch-get-item.html" title="previous chapter (use the left arrow)">&#8592; batch-get-item</a>
          <span class="divider">/</span>
          
        </li>
          <li><a href="create-table.html" title="next chapter (use the right arrow)">create-table &#8594;</a></li>
      </ul>
    </div>
  

    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index">index</a></li>
        <li class="right">
          <a href="create-table.html" title="create-table">next</a> |</li>
        <li class="right">
          <a href="batch-get-item.html" title="batch-get-item">previous</a> |</li>
        <li><a href="../../index.html">AWS CLI 1.0.0 documentation</a> &#187;</li>
          <li><a href="../index.html">aws</a> &#187;</li>
          <li><a href="index.html">dynamodb</a> &#187;</li> 
      </ul>
    </div>
  <div class="footer container">
    &#169; Copyright 2013, Amazon Web Services. Created using <a href="http://sphinx.pocoo.org/">Sphinx</a>.
  </div>



  
    
      <script type="text/javascript"><![CDATA[
        $(document).keydown(function(e){
          if (e.keyCode == 37) {
            
            window.location = 'batch-get-item.html';
            return false;
            
          } else if (e.keyCode == 39) {
            
            window.location = 'create-table.html';
            return false;
            
          }
        });
      ]]></script>
    
  
  </body>
</html>
