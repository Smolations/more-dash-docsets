<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
   <meta http-equiv="X-UA-Compatible" content="IE=8"><title>Using Amazon EC2 Instances - AWS Command Line Interface</title><link rel="home" href="#aws-unified-cli" title="AWS Command Line Interface"><link rel="up" href="cli-using-ec2.html" title="Using Amazon EC2 through the AWS Command Line Interface"><link rel="prev" href="cli-ec2-sg.html" title="Using Security Groups"><link rel="next" href="cli-iam.html" title="AWS Identity and Access Management from the AWS Command Line Interface"><meta http-equiv="X-UA-Compatible" content="IE=8"><meta name="description" content="You can use the AWS CLI to launch, list, and terminate instances. You'll need a key pair and a security group; for information about creating these through the AWS CLI, see and . You'll also need to select an Amazon Machine Image (AMI) (see Amazon Machine Images (AMI)"><meta name="keywords" content=""><link rel="icon" type="image/ico" href="//d36cz9buwru1tt.cloudfront.net/favicon.ico"><link rel="shortcut icon" type="image/ico" href="//d36cz9buwru1tt.cloudfront.net/favicon.ico"><link rel="canonical" href="http://docs.aws.amazon.com/cli/latest/userguide/cli-ec2-launch.html"><link rel="stylesheet" type="text/css" href="aws-docs2.css"><script type="text/javascript" src="https://d36cz9buwru1tt.cloudfront.net/amznUrchin.js"></script><script src="all_1.js" type="text/javascript"></script><script src="awstoc.js" type="text/javascript"></script></head><body id="top" class="yui-skin-sam noJS"><div id="divHeader"><form method="get" onsubmit="return searchFormSubmit(this);" action="/search/doc-search.html"><div id="ad"><a id="adl" target="_top" href="http://aws.amazon.com/documentation/"><img id="adi" alt="Amazon Web Services" src="images/documentation_logo200x29.png"></a></div><div id="txt"><div id="srv">AWS Command Line Interface</div><div id="gd">User Guide (Version 1.0.0)</div></div><div id="sfrm"><span id="lbl"><label>Search: </label></span><select id="sel" name="searchPath"><option value="all">Entire Site</option><option value="AWSMarketplace">AMIs from AWS Marketplace</option><option value="amis">AMIs from All Sources</option><option value="articles">Articles &amp; Tutorials</option><option value="products_and_info">AWS Product Information</option><option value="case_studies">Case Studies</option><option value="customerapps">Customer Apps</option><option value="documentation">Documentation</option><option value="documentation-product">Documentation - This Product</option><option value="documentation-guide" selected>Documentation - This Guide</option><option value="datasets">Public Data Sets</option><option value="releasenotes">Release Notes</option><option value="solution_providers">Partners</option><option value="code">Sample Code &amp; Libraries</option></select><input id="sq" name="searchQuery" type="text"><input id="sb" src="images/search-button.png" alt="Go" type="image"></div><input type="hidden" name="this_doc_product" id="this_doc_product" value="AWS Command Line Interface"><input type="hidden" name="this_doc_guide" id="this_doc_guide" value="User Guide"><input type="hidden" name="doc_locale" value="en_us"></form></div><script type="text/javascript"><!--
						var thispage = "cli-ec2-launch.html";
						var tocroot = location.protocol + '//' + location.hostname + location.pathname;
						--></script><div id="divLeft"><div id="divTOC"><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-chap-welcome.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-chap-welcome.html');">What Is the AWS Command Line Interface?</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-chap-getting-set-up.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-chap-getting-set-up.html');">Getting Set Up</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-chap-getting-started.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-chap-getting-started.html');">Configuring</a></li><li class="awstoc closed"><a class="awstoc" href="cli-chap-using.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-chap-using.html');">Using the AWS Command Line Interface</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="getting-help.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-getting-help.html');">Getting Help</a></li><li class="awstoc leaf"><a class="awstoc" href="command-structure.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-command-structure.html');">Command Structure</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-using-param.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-using-param.html');">Specifying Parameter Values</a></li></ul></li><li class="awstoc opened"><a class="awstoc" href="chap-working-with-services.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-chap-working-with-services.html');">Working with Services</a><ul class="awstoc"><li class="awstoc opened"><a class="awstoc" href="cli-using-ec2.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-using-ec2.html');">Amazon EC2</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-ec2-keypairs.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-ec2-keypairs.html');">Using Key Pairs</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-ec2-sg.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-ec2-sg.html');">Using Security Groups</a></li><li class="awstoc leaf"><a class="awstoc selected" href="cli-ec2-launch.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-ec2-launch.html');">Using Instances</a></li></ul></li><li class="awstoc closed"><a class="awstoc" href="cli-iam.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-iam.html');">AWS Identity and Access Management</a><ul class="awstoc"><li class="awstoc leaf"><a class="awstoc" href="cli-iam-new-user-group.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-iam-new-user-group.html');">Create New IAM Users and Groups</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-iam-policy.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-iam-policy.html');">Set an IAM Policy for an IAM User</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-iam-set-pw.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-iam-set-pw.html');">Set an Initial Password for an IAM User</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-iam-create-creds.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-iam-create-creds.html');">Create Security Credentials for an IAM User</a></li></ul></li><li class="awstoc leaf"><a class="awstoc" href="cli-sqs-queue-sns-topic.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-sqs-queue-sns-topic.html');">Amazon SNS</a></li><li class="awstoc leaf"><a class="awstoc" href="cli-using-swf-domains.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-toc', 'aws-docs-click', tocroot + '-cli-using-swf-domains.html');">Working with SWF Domains</a></li></ul></li></ul></div></div><div id="divRight"><div id="divContent"><table width="100%" summary="Navigation header" cellspacing="0" cellpadding="2" style="margin-top:12px;"><tr><td valign="top"><div class="navheader"><div class="breadcrumb"><a href="http://aws.amazon.com/documentation/" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-breadcrumbs', 'aws-docs-click', 'http://aws.amazon.com/documentation/');">AWS Documentation</a> &raquo; <a href="http://aws.amazon.com/documentation/cli" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-breadcrumbs', 'aws-docs-click', 'http://aws.amazon.com/documentation/cli');">AWS Command Line Interface</a> &raquo; <a href="http://docs.aws.amazon.com/cli/latest/userguide/" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-breadcrumbs', 'aws-docs-click', 'http://docs.aws.amazon.com/cli/latest/userguide/');">AWS Command Line Interface</a> &raquo; <a href="chap-working-with-services.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-breadcrumbs', 'aws-docs-click', location.protocol + '//' + location.hostname + '/chap-working-with-services.html');">Working with Amazon Web Services</a> &raquo; <a href="cli-using-ec2.html" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-breadcrumbs', 'aws-docs-click', location.protocol + '//' + location.hostname + '/cli-using-ec2.html');">Using Amazon EC2 through the AWS Command Line Interface</a> &raquo; <span class="breadcrumb">Using Amazon EC2 Instances</span></div></div></td><td width="350px" align="right" valign="top"><a class="awstoc" accesskey="p" style="margin-right:12px;" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-previous', 'aws-docs-click', location.protocol + '//' + location.hostname + '/cli-ec2-sg.html');" href="cli-ec2-sg.html">&laquo; Previous</a><a class="awstoc" accesskey="n" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-next', 'aws-docs-click', location.protocol + '//' + location.hostname + '/cli-iam.html');" href="cli-iam.html">Next &raquo;</a></td></tr><tr><td><a href="http://awsdocs.s3.amazonaws.com/cli/latest/aws-cli.pdf" style="padding-right: 8px;" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-pdf-link', 'aws-docs-click', 'http://awsdocs.s3.amazonaws.com/cli/latest/aws-cli.pdf');"><img src="images/pdf_button.png" alt="View the PDF for this guide." title="View the PDF for this guide."></a><a target="_blank" style="padding-right: 8px;" href="http://forums.aws.amazon.com/forum.jspa?forumID=8" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-forums-link', 'aws-docs-click', 'http://forums.aws.amazon.com/forum.jspa?forumID=8');"><img src="images/forum_button.png" alt="Go to the AWS Discussion Forum for this product." title="Go to the AWS Discussion Forum for this product."></a></td><td width="350px" align="right" valign="top">Did this page help you?&nbsp;&nbsp;<a class="awstoc" target="_blank" href="feedbackyes.html?topic_id=cli-ec2-launch">Yes</a>&nbsp;|&nbsp;<a class="awstoc" target="_blank" href="feedbackno.html?topic_id=cli-ec2-launch">No</a>&nbsp;|&nbsp;&nbsp;<a class="awstoc" target="_blank" href="https://portal.aws.amazon.com/gp/aws/html-forms-controller/documentation/aws_doc_feedback_04?service_name=AWS%20Command%20Line%20Interface&amp;guide_name=User%20Guide&amp;api_version=1.0.0&amp;file_name=cli-ec2-launch">Tell us about it...</a></td></tr></table><div class="section"><div class="titlepage"><div><div><h1 class="topictitle">Using Amazon EC2 Instances</h1></div></div></div><p>You can use the AWS CLI to launch, list, and terminate instances. You'll need a key pair and a security group;
            for information about creating these through the AWS CLI, see <a class="xref" href="cli-ec2-keypairs.html" title="Using Key Pairs">Using Key Pairs</a> and
            <a class="xref" href="cli-ec2-sg.html" title="Using Security Groups">Using Security Groups</a>. You'll also need to select an Amazon Machine Image (AMI)
            (see <a class="ulink" href="https://aws.amazon.com/amis/" target="_blank">Amazon Machine Images (AMI)</a>) and note its AMI ID.</p><p>If you launch an instance that is not within the Free Usage Tier, you are
            billed after you launch the instance and charged for the time that the
            instance is running, even if it remains idle.</p><div class="aws-note"><p class="aws-note">Note</p><p class="simpara">Before you try the example command, set your default credentials. </p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="launching-instances">Launching an Instance</h2></div></div></div><p>To launch a single Amazon EC2 instance using AMI <code class="code">ami-c3b8d6aa</code>, a Microsoft Windows Server 2012 image,
                use the <a class="ulink" href="http://docs.aws.amazon.com/cli/latest/reference/ec2/run-instances.html" target="_blank">run-instances</a>
                command as follows:</p><pre class="programlisting">aws ec2 run-instances --image-id ami-c3b8d6aa --count 1 --instance-type t1.micro --key-name MyKeyPair --security-groups MySecurityGroup</pre><p>The following is example output:</p><pre class="programlisting">{
    "OwnerId": "123456789012",
    "ReservationId": "r-5875ca20",
    "Groups": [
        {
            "GroupName": "MySecurityGroup",
            "GroupId": "sg-903004f8"
        }
    ],
    "Instances": [
        {
            "Monitoring": {
                "State": "disabled"
            },
            "PublicDnsName": null,
            "Platform": "windows",
            "State": {
                "Code": 0,
                "Name": "pending"
            },
            "EbsOptimized": false,
            "LaunchTime": "2013-07-19T02:42:39.000Z",
            "ProductCodes": [],
            "InstanceId": "i-5203422c",
            "ImageId": "ami-c3b8d6aa",
            "PrivateDnsName": null,
            "KeyName": "MyKeyPair",
            "SecurityGroups": [
                {
                    "GroupName": "MySecurityGroup",
                    "GroupId": "sg-903004f8"
                }
            ],
            "ClientToken": null,
            "InstanceType": "t1.micro",
            "NetworkInterfaces": [],
            "Placement": {
                "Tenancy": "default",
                "GroupName": null,
                "AvailabilityZone": "us-east-1b"
            },
            "Hypervisor": "xen",
            "BlockDeviceMappings": [],
            "Architecture": "x86_64",
            "StateReason": {
                "Message": "pending",
                "Code": "pending"
            },
            "RootDeviceName": "/dev/sda1",
            "VirtualizationType": "hvm",
            "RootDeviceType": "ebs",
            "AmiLaunchIndex": 0
        }
    ]
}</pre><p>Initially, your instance is in the <code class="code">pending</code> state, but will be in the <code class="code">running</code> state in a few minutes.
                Then, you can view updated information about the instance using the
                <a class="ulink" href="http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html" target="_blank">describe-instances</a> command, such
                as the updated state, the root volume, the public and private IP addresses, and the public DNS name.
                For more information, see <a class="xref" href="cli-ec2-launch.html#listing-instances" title="Listing Your Instances">Listing Your Instances</a>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="connecting-to-instances">Connecting to Your Instance</h2></div></div></div><p>While your instance is running, you can connect to it and use it just as you'd use a computer sitting in front of you.
                For more information, see <a class="ulink" href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstances.html" target="_blank">Connect to Your Amazon EC2 Instance</a> in the <span class="emphasis"><em>Amazon Elastic Compute Cloud User Guide</em></span>.</p></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="listing-instances">Listing Your Instances</h2></div></div></div><p>You can use the AWS CLI to list your instances and view information about them. You
                can list all your instances, or filter the results based on the instances that
                you're interested in.</p><div class="aws-note"><p class="aws-note">Note</p><p class="simpara">Before you try the example commands, set your default credentials. </p></div><p>The following examples show how to use the <a class="ulink" href="http://docs.aws.amazon.com/cli/latest/reference/ec2/describe-instances.html" target="_blank">describe-instances</a> command.</p><div class="example"><a name="d0e1423"></a><p class="title"><b>Example 1: List the instances with the specified instance type</b></p><div class="example-contents"><p>The following command lists your <code class="code">m1.small</code> instances.</p><pre class="programlisting">aws ec2 describe-instances --filters "Name=instance-type,Values=m1.small"</pre></div></div><br class="example-break"><div class="example"><a name="d0e1434"></a><p class="title"><b>Example 2: List the instances launched using the specified images</b></p><div class="example-contents"><p>The following command lists your instances that were launched from the following AMIs:
                    <code class="code">ami-x0123456</code>, <code class="code">ami-y0123456</code>, and <code class="code">ami-z0123456</code>.</p><pre class="programlisting">aws ec2 describe-instances --filters "Name=image-id,Values=ami-x0123456,ami-y0123456,ami-z0123456"</pre></div></div><br class="example-break"></div><div class="section"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="terminating-instances">Terminating Your Instance</h2></div></div></div><p>After you've finished with the instance, use the <a class="ulink" href="http://docs.aws.amazon.com/cli/latest/reference/ec2/terminate-instances.html" target="_blank">terminate-instances</a>
                command as follows:</p><pre class="programlisting">aws ec2 terminate-instances --instance-ids i-5203422c</pre><p>The following is example output:</p><pre class="programlisting">{
    "TerminatingInstances": [
        {
            "InstanceId": "i-5203422c",
            "CurrentState": {
                "Code": 32,
                "Name": "shutting-down"
            },
            "PreviousState": {
                "Code": 16,
                "Name": "running"
            }
        }
    ]
}</pre><p>Terminating an instance effectively deletes it; you can't reconnect to an instance after you've terminated it.
                As soon as the state of the instance changes to <code class="code">shutting-down</code> or <code class="code">terminated</code>,
                you stop incurring charges for that instance.</p></div></div><img src="images/expanderarrow.png" style="display:none;height:0;width:0"><div class="navfooter"><table class="navfooter" width="100%" summary="Navigation footer" cellspacing="0" cellpadding="2" style="margin-top:12px;"><tr><td valign="top" style="padding-top:8px;"><a class="awstoc" target="_top" href="http://docs.aws.amazon.com/general/latest/gr/docconventions.html">Document Conventions</a></td><td width="350px" align="right" valign="top" style="padding-top:8px;"><a class="awstoc" accesskey="p" style="margin-right:12px;" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-previous', 'aws-docs-click', location.protocol + '//' + location.hostname + '/cli-ec2-sg.html');" href="cli-ec2-sg.html">&laquo; Previous</a><a class="awstoc" accesskey="n" onclick="location.hostname.substring(0,5)!=='docs.' || __utmTrackEvent('aws-docs-next', 'aws-docs-click', location.protocol + '//' + location.hostname + '/cli-iam.html');" href="cli-iam.html">Next &raquo;</a></td></tr><tr><td style="padding-top:8px;"><a class="awstoc" target="_top" href="http://aws.amazon.com/terms/">Terms of Use</a></td><td width="350px" align="right" valign="top" style="padding-top:8px;">Did this page help you?&nbsp;&nbsp;<a class="awstoc" target="_blank" href="feedbackyes.html?topic_id=cli-ec2-launch">Yes</a>&nbsp;|&nbsp;<a class="awstoc" target="_blank" href="feedbackno.html?topic_id=cli-ec2-launch">No</a>&nbsp;|&nbsp;&nbsp;<a class="awstoc" target="_blank" href="https://portal.aws.amazon.com/gp/aws/html-forms-controller/documentation/aws_doc_feedback_04?service_name=AWS%20Command%20Line%20Interface&amp;guide_name=User%20Guide&amp;api_version=1.0.0&amp;file_name=cli-ec2-launch">Tell us about it...</a></td></tr></table></div></div></div><noscript><div class="yui-b" style="padding: 20px; padding-top: 0;"><div class="yui-ge"><div class="yui-u first"><div id="error_messages"><img src="https://d1ge0kk1l5kms0.cloudfront.net/images/G/01/webservices/console/warning.png" style="float: left;" alt="Warning"><div style="float:left; margin-left: 1em;"><strong>Javascript is disabled or is unavailable in your browser.</strong><br>
										To use the AWS Documentation, Javascript must be enabled.  Please refer to your 
										browser's Help pages for instructions.
									</div><div style="clear: both;"></div></div></div></div></div></noscript><!-- SiteCatalyst code version: H.25.2.
            Copyright 1996-2012 Adobe, Inc. All Rights Reserved
            More info available at http://www.omniture.com --><script language="JavaScript" type="text/javascript" src="https://d36cz9buwru1tt.cloudfront.net/js/sitecatalyst/s_code.min.js"></script><script language="JavaScript" type="text/javascript"><!--

            // Documentation Service Name
            s.prop66='AWS Command Line Interface';
            s.eVar66='D=c66';
  
            // Documentation Guide Name                                                                 
            s.prop65='User Guide';
            s.eVar65='D=c65';

            var s_code=s.t();if(s_code)document.write(s_code)//--></script><script language="JavaScript" type="text/javascript"><!--
                if(navigator.appVersion.indexOf('MSIE')>=0)document.write(unescape('%3C')+'\!-'+'-')
                //--></script><noscript><img src="http://amazonwebservices.d2.sc.omtrdc.net/b/ss/awsamazondev/1/H.25.2--NS/0" height="1" width="1" border="0" alt=""></noscript><!--/DO NOT REMOVE/--><!-- End SiteCatalyst code version: H.25.2. --></body></html>