<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=US-ASCII" />
    <title> Configuration Version - Vagrantfile - Vagrant Documentation</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link href="./../../stylesheets/bootstrap-2bdef9a2.css" media="screen" rel="stylesheet" />
    <link href="./../../stylesheets/vagrantup-d5d54c59.css" media="screen" rel="stylesheet" />
    <script src="./../../javascripts/jquery-08c11650.js"></script>
    <script src="./../../javascripts/modernizr-84c0465a.js"></script>
    <script src="./../../javascripts/bootstrap.min-98cc7a22.js"></script>
    <script src="./../../javascripts/backstretch-3d1212ad.js"></script>
    <script src="./../../javascripts/vagrantup-03aae2a8.js"></script>
    <link href="./../..//fonts.googleapis.com/css?family=Inconsolata" rel="stylesheet" />
    <script src="./../..//use.typekit.net/xfs6zus.js"></script>
    <script>
<![CDATA[try{Typekit.load();}catch(e){}]]>
    </script>
  </head>
  <body>
    <div class="wrapper">
      <nav class="docs">
        <a class="vagrant-docs-logo" href="./../../">Vagrant Documentation</a>
        <ul class="pull-right unstyled">
          <li>
            <a href="./../..//www.vagrantup.com/">Home</a>
          </li>
        </ul>
      </nav>
      <div class="page docs docs-home">
        <div class="container">
          <div class="row">
            <div class="sidebar span3">
              <aside class="sidebar-nav">
                <div class="toggle hidden-desktop">
                  <div class="open-close open"></div>
                  <a href="#">Contents</a>
                </div>
                <ul class="unstyled">
                  <li>
                    <a href="./../../v2/">Overview</a>
                  </li>
                  <li>
                    <a href="./../../v2/why-vagrant/index.html">Why Vagrant?</a>
                  </li>
                  <li>
                    <a href="./../../v2/installation/index.html">Installation</a>
                  </li>
                  <li>
                    <a href="./../../v2/getting-started/index.html">Getting Started</a>
                  </li>
                  <li>
                    <a href="./../../v2/cli/index.html">Command-Line Interface</a>
                  </li>
                  <li class="current">
                    <a href="./../../v2/vagrantfile/index.html">Vagrantfile</a>
                  </li>
                  <ul class="sub unstyled">
                    <li class="current">
                      <a href="./../../v2/vagrantfile/version.html">Configuration Version</a>
                    </li>
                    <li>
                      <a href="./../../v2/vagrantfile/machine_settings.html">Machine Settings</a>
                    </li>
                    <li>
                      <a href="./../../v2/vagrantfile/ssh_settings.html">SSH Settings</a>
                    </li>
                    <li>
                      <a href="./../../v2/vagrantfile/vagrant_settings.html">Vagrant Settings</a>
                    </li>
                  </ul>
                  <li>
                    <a href="./../../v2/boxes.html">Boxes</a>
                  </li>
                  <li>
                    <a href="./../../v2/provisioning/index.html">Provisioning</a>
                  </li>
                  <li>
                    <a href="./../../v2/networking/index.html">Networking</a>
                  </li>
                  <li>
                    <a href="./../../v2/synced-folders/index.html">Synced Folders</a>
                  </li>
                  <li>
                    <a href="./../../v2/multi-machine/index.html">Multi-Machine</a>
                  </li>
                  <li>
                    <a href="./../../v2/providers/index.html">Providers</a>
                  </li>
                  <li>
                    <a href="./../../v2/virtualbox/index.html">VirtualBox</a>
                  </li>
                  <li>
                    <a href="./../../v2/vmware/index.html">VMware</a>
                  </li>
                  <li>
                    <a href="./../../v2/plugins/index.html">Plugins</a>
                  </li>
                  <li>
                    <a href="./../../v2/debugging.html">Debugging</a>
                  </li>
                </ul>
              </aside>
            </div>
            <div class="page-contents span9">
              <div class="page-background"></div>
              <div class="row">
                <div class="span8 offset1">
                  <h1>Configuration Version</h1>
                  <p>Configuration versions are the mechanism by which Vagrant 1.1+ is able to remain <a href="v2/installation/backwards-compatibility.html">backwards compatible</a> with Vagrant 1.0.x Vagrantfiles, while introducing dramatically new features and configuration options.</p>
                  <p>If you run <code>vagrant init</code> today, the Vagranfile will be in roughly the following format:</p>
                  <pre>
                    <code class="ruby">VAGRANTFILE_API_VERSION = "2"

Vagrant.configure(VAGRANTFILE_API_VERSION) do |config|
  # ...
end
</code>
                  </pre>
                  <p>The <code>"2"</code> in the first line above represents the version of the configuration object <code>config</code> that will be used for configuration for that block (the section between the <code>do</code> and the <code>end</code>). This object can be very different from version to version.</p>
                  <p>Currently, there are only two supported versions: "1" and "2". Version 1 represents the configuration from Vagrant 1.0.x. "2" represents the configuration for 1.1+ leading up to 2.0.x.</p>
                  <p>When loading Vagrantfiles, Vagrant uses the proper configuration object for each version, and properly merges them, just like any other configuration.</p>
                  <p>The important thing to understand as a general user of Vagrant is that <em>within a single configuration section</em>, only a single version can be used. You can't use the new <code>config.vm.provider</code> configurations in a version 1 configuration section. Likewise, <code>config.vm.forwarded_port</code> won't work in a version 2 configuration section (it was renamed).</p>
                  <p>If you want, you can mix and match multiple configuration versions in the same Vagrantfile. This is useful if you found some useful configuration snippet or something that you want to use. Example:</p>
                  <pre>
                    <code class="ruby">Vagrant.configure("1") do |config|
  # v1 configs...
end

Vagrant.configure("2") do |config|
  # v2 configs...
end
</code>
                  </pre>
                  <div class="alert alert-info">
                    <p><strong>What is <code>Vagrant::Config.run</code>?</strong> You may see this in Vagrantfiles. This was actually how Vagrant 1.0.x did configuration. In Vagrant 1.1+, this is synonymous with <code>Vagrant.configure("1")</code>. </p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <footer>
        <div class="container">
          <div class="row">
            <div class="span12">
              <ul class="unstyled footer-nav">
                <li>
                  <a href="./../..//docs.vagrantup.com/">Documentation</a>
                </li>
                <li>
                  <a href="./../..//www.vagrantup.com/about">About</a>
                </li>
                <li>
                  <a href="./../..//www.vagrantup.com/support">Support</a>
                </li>
                <a href="./../..//downloads.vagrantup.com/">
                  <li class="button inline-button">Download</li>
                </a>
              </ul>
              <ul class="unstyled logos">
                <a href="./../..//www.vagrantup.com">
                  <li class="vagrant-logo-monochrome"></li>
                </a>
                <li>
                  <span>by</span>
                </li>
                <a href="./../..//www.hashicorp.com">
                  <li class="hashi-logo-monochrome "></li>
                </a>
              </ul>
            </div>
          </div>
          <div class="row">
            <h6 class="legal"> &#169; 2013 HashiCorp </h6>
          </div>
        </div>
      </footer>
    </div>
    <script>
<![CDATA[
			$(".big-background").backstretch("assets/photos/full_width.jpg");
		]]>
    </script>
  </body>
</html>
