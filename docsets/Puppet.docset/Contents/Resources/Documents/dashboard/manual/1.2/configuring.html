<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" lang="en-US" xml:lang="en-US">
  <head>
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
  	<title>Dashboard Manual: Configuring &#8212; Documentation &#8212; Puppet Labs</title>
  	<link rel="alternate" type="application/atom+xml" title="Puppet Labs Documentation Updates" href="https://github.com/puppetlabs/puppet-docs/commits/master.atom" />
    <link rel="alternate" type="application/atom+xml" title="Puppet Labs Blog Feed" href="http://puppetlabs.com/feed/atom/" />
    <link rel="index" title="Puppet Labs Documentation" href="http://docs.puppetlabs.com" />
    <link rel="icon" href="./../../../favicon.ico" />

  <meta name="description" content="Configuring Puppet DashboardThis is a chapter of the Puppet Dashboard 1.2 manual.Navigation  Installing Dashboard  Upgrading Dashboard  Configuring..." />




    <!-- FIXME: absolute paths -->

    <script type="text/javascript" src="./../../../files/javascripts/html5.js"></script>
    <script type="text/javascript" src="./../../../files/javascripts/jquery-1.3.2.min.js"></script>
    <script type="text/javascript" src="./../../../files/javascripts/drop_down.js"></script>
    <script type="text/javascript" src="./../../../files/javascripts/cufon-yui.js"></script>
    <script type="text/javascript" src="./../../../files/fonts/Klavika_400-Klavika_600.font.js"></script>
    <script type="text/javascript" src="./../../../files/javascripts/ampersands.js"></script>
    <script type="text/javascript" src="http://puppetlabs.com/wp-content/themes/puppetlabs/javascripts/leadcapture.js"></script>

    <!-- All in One SEO Pack 1.6.10.1 by Michael Torbert of Semper Fi Web Design[127,146] -->
    <meta name="keywords" content="Puppet, puppet labs, reductive labs, open source, system administrator, ruby, data center, automation, support" />
    <!-- /all in one seo pack -->

    <!-- Give us the option of setting a canonical URL in yaml frontmatter -NF -->
    <link rel="canonical" href="http://docs.puppetlabs.com/dashboard/manual/1.2/configuring.html" />

    <!-- FIXME: absolute paths -->

    <link rel="stylesheet" type="text/css" href="./../../../files/stylesheets/style_legacy.css" media="screen" />
    <link rel="stylesheet" type="text/css" href="./../../../files/stylesheets/syntax.css" media="screen" /> <!-- index -->
    <link rel="stylesheet" type="text/css" href="./../../../files/stylesheets/adbanner.css" media="screen" />

    <!--[if IE 7]>
	  <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_7.css" media="screen"> <!-- index -->
    

    <!--[if IE 8]>
	    <link rel="stylesheet" type="text/css" href="/files/stylesheets/ie_8.css" media="screen"> <!-- index -->
    

  	<script type="text/javascript"><![CDATA[
      Cufon.replace('h1, h2', { fontWeight: '600' });
  	]]></script>
</head>




  <body id="puppetlabsdocs" class="docs">
  <style type="text/css"><![CDATA[h1, h2{ visibility : hidden }]]></style>
  <!--[if IE 8]>
    <style type="text/css">h1, h2{ visibility : visible }</style>
  <![endif]-->

  	<header id="header">
      <div class="site-width">
    		<h1><a href="http://puppetlabs.com/"><span>Puppet Labs</span></a></h1>
        <a class="screen-reader-content" href="#content">Skip navigation</a>
        <nav>
    		<ul id="global-navigation">
          <li id="puppet-tab" class="with-submenu">
            <a href="http://puppetlabs.com/puppet/puppet-enterprise">
              <span>Products</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
			<li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/what-is-puppet/">What is Puppet?</a>
                </ul>
              </li>
			       <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/puppet-enterprise/">Puppet Enterprise</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/whats-new/">What's New in 2.5</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/puppet-open-source/">Puppet Open Source</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/enterprise-vs-open-source/">Enterprise vs. Open Source</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://forge.puppetlabs.com">Puppet Forge</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/requirements/">Components &amp; Requirements</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/faq/">FAQ</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/how-to-buy/">How to Buy</a>
                </ul>
              </li>
            </ul>
          </li>
          <li id="solutions-tab" class="with-submenu">
            <a href="http://puppetlabs.com/solutions/">
              <span>Solutions</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-12296"><a href="http://puppetlabs.com/solutions/configuration-management/">Configuration Management</a></li>
<li class="page_item page-item-986"><a href="http://puppetlabs.com/solutions/virtualization-management/">Virtualization Management</a></li>
<li class="page_item page-item-993"><a href="http://puppetlabs.com/solutions/cloud-management/">Cloud Management</a></li>
<li class="page_item page-item-996"><a href="http://puppetlabs.com/solutions/it-compliance/">IT Compliance</a></li>
<li class="page_item page-item-9520"><a href="http://puppetlabs.com/solutions/devops/">DevOps</a></li>
<li class="page_item page-item-991"><a href="http://puppetlabs.com/solutions/manage-os-x-resources/">OS X Desktops</a></li>
            </ul>
          </li>
          <li id="services-tab" class="with-submenu">
            <a href="http://puppetlabs.com/services/">
              <span>Services</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-783"><a href="http://puppetlabs.com/services/overview/">Overview</a></li>
<li class="page_item page-item-1052"><a href="http://puppetlabs.com/services/customer-support/">Customer Support</a></li>
<li class="page_item page-item-11022"><a href="http://puppetlabs.com/services/support-plans/">Support Plans</a></li>
<li class="page_item page-item-845"><a href="http://puppetlabs.com/services/training-workshops/">On-Site Education</a></li>
<li class="page_item page-item-4899"><a href="http://puppetlabs.com/services/consulting/">Professional Services</a></li>
<li class="page_item page-item-849"><a href="http://puppetlabs.com/category/events/upcoming/">Events &amp; Workshops</a></li>
<li class="page_item page-item-851"><a href="http://puppetlabs.com/services/partners/">Partners</a></li>
            </ul>
          </li>
                    <li id="resources-tab" class="with-submenu">
            <a href="http://puppetlabs.com/resources/">
              <span>Resources</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://puppetlabs.com/resources/overview-2/">Overview</a></li>
<li class="page_item page-item-1040"><a href="http://docs.puppetlabs.com">Documentation</a></li>
<li class="page_item page-item-872"><a href="http://info.puppetlabs.com/register-download">Downloads</a></li>
<li class="page_item page-item-1961"><a href="http://forge.puppetlabs.com">Puppet Forge</a></li>
<li class="page_item page-item-835"><a href="http://info.puppetlabs.com/download-whitepapers.html">White Papers</a></li>
<li class="page_item page-item-1967"><a href="http://projects.puppetlabs.com/projects/puppet/wiki">Wiki</a></li>
<li class="page_item page-item-7279"><a href="http://puppetlabs.com/resources/webinars/">Upcoming Webinars</a></li>
<li class="page_item page-item-10183"><a href="http://puppetlabs.com/resources/newsletter/">Newsletter</a></li>
<li class="page_item page-item-12263"><a href="http://puppetlabs.com/resources/tech-notes/">Tech Notes</a></li>
<li class="page_item page-item-10265"><a href="http://info.puppetlabs.com/pe2-webinar.html">Webinars</a></li>
            </ul>
          </li>

          <li id="customers-tab" class="with-submenu">
            <a href="http://puppetlabs.com/customers/companies/">
              <span>Customers</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/customers/companies/">Companies</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/case-studies/">Case Studies</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/product-testimonials/">Product Testimonials</a>
                </ul>
              </li>
			    <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/what-customers-are-saying/">Service Testimonials</a>
                </ul>
              </li>
            </ul>
          </li>
          <li id="community-tab" class="with-submenu">
            <a href="http://puppetlabs.com/community/">
              <span>Community</span>
              <span class="drop-down-trigger"></span>
            </a>

 <ul>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/community/overview/">Overview</a>
                </ul>
              </li>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/blog">Blog</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/community/puppet-camp/">Puppet Camp</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/community/user-groups-and-devops-groups/">Puppet User Groups &amp; DevOps Groups</a>
                </ul>
              </li>
	          <li>
                <ul>
                  <a href="http://puppetlabs.com/community/presentations/">Presentations</a>
                </ul>
              </li>
			    <li>
                <ul>
                  <a href="http://puppetlabs.com/community/videos/">Videos</a>
                </ul>
              </li>

            </ul>

          </li><li id="company-tab" class="with-submenu">
            <a href="http://puppetlabs.com/company/">
              <span>Company</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-2316"><a href="http://puppetlabs.com/company/overview/">Overview</a></li>
<li class="page_item page-item-2179"><a href="http://puppetlabs.com/company/news/">News</a>
<ul class="children">
	<li class="page_item page-item-2338"><a href="http://puppetlabs.com/company/news/press-releases/">Press Releases</a></li>
	<li class="page_item page-item-2383"><a href="http://puppetlabs.com/company/news/media-kit/">Media Kit</a></li>
</ul>
</li>
<li class="page_item page-item-1571"><a href="http://puppetlabs.com/company/careers/">Careers</a></li>
<li class="page_item page-item-10372"><a href="http://puppetlabs.com/company/management/">Management</a></li>
<li class="page_item page-item-10311"><a href="http://puppetlabs.com/company/board-and-advisors/">Board and Advisors</a></li>
<li class="page_item page-item-10367"><a href="http://puppetlabs.com/company/investors/">Investors</a></li>
<li class="page_item page-item-2313"><a href="http://puppetlabs.com/company/contact-us/">Contact Us</a></li>
<li class="page_item page-item-10579"><a href="http://puppetlabs.com/company/awards/">Awards</a></li>
            </ul>
          </li>
    		</ul>
          <div id="misc-navigation">
			  <ul>
				<li><a href="http://puppetlabs.com/security/">Security</a></li>
				<li><a href="http://docs.puppetlabs.com">Documentation</a></li>
				<li><a href="http://puppetlabs.com/resources/customer-support/">Support</a></li>
			        <li><a href="http://projects.puppetlabs.com/">Bug Tracker</a></li>
				<li><a href="http://puppetlabs.com/company/contact/contact-us">Contact Us</a></li>
				<li><a href="http://info.puppetlabs.com/download-pe2.html" class="gateway">Download</a></li>
			  </ul>
			<form action="http://www.google.com/cse" id="cse-search-box">
			  <div>
				<input type="hidden" name="cx" value="017668764424496204839:ubligvgbenm" />
				<input type="hidden" name="ie" value="UTF-8" />
				<input type="text" name="q" class="gsc-input" size="31" />
				<input type="submit" name="sa" class="searchbtn" value="Search" />
			  </div>
			</form>
			<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&amp;lang=en"></script>
          </div>
      </nav>
    	</div>
    </header>

      <section id="masthead">
        <div class="site-width">
          <h1>Docs: <span class="section-name">Dashboard Manual: Configuring</span></h1>
          <ul id="doc-navigation">
            <li><a href="./../../../index.html">Docs Home</a></li>
            <li class="with-submenu">
              <a href="#">
                <span>Quick Nav</span>
                <span class="drop-down-trigger"></span>
              </a>
               <!-- the following links can't be relative, unfortunately -->
               <!-- future: add some JS to disable this if running from file:// -->
                               <dl>
                  <dt>Puppet Documentation</dt>
                      <dd><a href="./../../../puppet/3/reference/index.html">Puppet 3 Reference Manual</a></dd>
                      <dd><a href="./../../../puppet/2.7/reference/index.html">Puppet 2.7 Reference Manual</a></dd>
                      <dd><a href="./../../../pe/latest/index.html">Puppet Enterprise User's Guide</a></dd>
                      <dd><a href="./../../../learning/index.html">Learning Puppet</a></dd>
                      <dd><a href="./../../../references/latest/type.html">Resource Types</a></dd>
                      <dd><a href="./../../../references/latest/function.html">Functions</a></dd>
                      <dd><a href="./../../../references/latest/configuration.html">Configuration</a></dd>
                      <dd><a href="./../../../references/latest/developer/index.html">Developer</a></dd>
                      <dd><a href="./../../../references/glossary.html">Glossary of Puppet Terms</a></dd>
                      <dd><a href="./../../../references/index.html">Older References</a></dd>
                  <dt>Facter</dt>
                      <dd><a href="./../../../facter/latest/core_facts.html">Core Facts Reference</a></dd>
                  <dt>PuppetDB</dt>
                      <dd><a href="./../../../puppetdb/1/index.html">PuppetDB 1 Manual</a></dd>
                  <dt>MCollective</dt>
                      <dd><a href="./../../../mcollective/index.html">Index</a></dd>
                      <dd><a href="./../../../mcollective/reference/index.html">References</a></dd>
                      <dd><a href="./../../../mcollective/simplerpc/index.html">Writing Plugins</a></dd>
                      <dd><a href="./../../../mcollective/releasenotes.html">Release Notes</a></dd>
                </dl>

            </li>
            <li><a href="./../../../contribute.html">Contribute</a></li>
          </ul>
        </div>
        <br />
      </section>

      <section id="content">
        <div class="site-width">
          <div class="primary-secondary-content">
            <div class="primary-content">
              <h1 id="configuring-puppet-dashboard">Configuring Puppet Dashboard</h1>

<p>This is a chapter of the <a href="./index.html">Puppet Dashboard 1.2 manual</a>.</p>

<h4 id="navigation">Navigation</h4>

<ul>
  <li><a href="./bootstrapping.html">Installing Dashboard</a></li>
  <li><a href="./upgrading.html">Upgrading Dashboard</a></li>
  <li><strong>Configuring Dashboard</strong></li>
  <li><a href="./maintaining.html">Maintaining Dashboard</a></li>
  <li><a href="./using.html">Using Dashboard</a></li>
  <li><a href="./rake_api.html">Rake API</a></li>
</ul>

<hr />

<h2 id="overview">Overview</h2>

<p>Now that you&#8217;ve <a href="./bootstrapping.html">installed</a> Dashboard and prepared it for basic production-level use, you can configure it to:</p>

<ul>
  <li>Enable advanced features</li>
  <li>Increase security</li>
  <li>Improve performance</li>
  <li>Install plugins</li>
</ul>

<p>Note that <strong>all rake tasks should be performed from a shell in the directory that contains Dashboard&#8217;s code.</strong> Any relative paths mentioned below refer to locations within this directory. If you are running Dashboard in the recommended &#8220;production&#8221; environment, note that <strong>Rails does not consider production its default environment,</strong> and you <strong>must specify it manually</strong> with the <code>RAILS_ENV</code> environment variable when running any rake tasks.</p>

<h2 id="advanced-features">Advanced Features</h2>

<p>By default, Dashboard only responds to requests from a user or a puppet master. However, if you allow it to pull data from your puppet master, you can enable two extra features: the inventory service, and the file viewer.</p>

<h3 id="generating-certs-and-connecting-to-the-puppet-master">Generating Certs and Connecting to the Puppet Master</h3>

<p>Puppet uses SSL certificates to control who can make requests to the puppet master, so Dashboard has to obtain a signed cert before asking for facts or files. To do this, edit <code>config/settings.yml</code> to ensure that the <code>ca_server</code> and <code>ca_port</code> settings match the address and port of your puppet master, then run the following commands:</p>

<pre><code>$ sudo -u puppet-dashboard rake cert:create_key_pair
$ sudo -u puppet-dashboard rake cert:request
</code></pre>

<p>You&#8217;ll need to sign the certificate request on the master by running <code>puppet cert sign dashboard</code>. Then, from Dashboard&#8217;s directory again, run:</p>

<pre><code>$ sudo -u puppet-dashboard rake cert:retrieve
</code></pre>

<h3 id="enabling-inventory-support">Enabling Inventory Support</h3>

<p>With inventory support, Dashboard can display a complete list of facts on each node&#8217;s detail page. It also adds a new &#8220;Inventory Search&#8221; page which can search your entire site for nodes matching a fact query.</p>

<p><strong>Requirements:</strong> To use the inventory, you must be using Puppet 2.6.7 or later, <a href="./../../../guides/inventory_service.html">configured to provide the inventory service</a>. If you are running Puppet 2.7.12 or later, you have the option of using <a href="./../../../puppetdb/latest/index.html">PuppetDB</a> instead of the <code>inventory_active_record</code> backend.</p>

<p>Once the puppet master is properly configured with a database-backed inventory, edit your puppet master&#8217;s <a href="./../../../guides/rest_auth_conf.html"><code>auth.conf</code></a> file to grant Dashboard find and search access to /facts:</p>

<pre><code>path /facts
auth yes
method find, search
allow dashboard
</code></pre>

<p>Then, edit Dashboard&#8217;s <code>config/settings.yml</code> to set <code>enable_inventory_service</code> to <code>true</code> and point <code>inventory_server</code> and <code>inventory_port</code> to your puppet master. Restart Dashboard, and node pages should now contain lists of facts.</p>

<h3 id="enabling-the-filebucket-viewer">Enabling the Filebucket Viewer</h3>

<p>With the filebucket viewer, Dashboard can display the contents of different file versions when you click on MD5 checksums in reports. </p>

<p><strong>Requirements:</strong> To use the filebucket viewer, you must be using Puppet 2.6.5 or later <!-- TK check accuracy --> and your agent nodes must be configured to back up all files to a remote filebucket; this is done in your puppet master&#8217;s <code>site.pp</code> manifest, where you must define a filebucket resource named &#8220;main&#8221;&#8230; </p>

<pre><code>filebucket { "main":
  server =&gt; "{your puppet master}",
  path =&gt; false,
}
</code></pre>

<p>&#8230;and set a global resource default of&#8230;</p>

<pre><code>File { backup =&gt; "main" }
</code></pre>

<p>If you are using inspect reports for a compliance workflow, you must also set <code>archive_files = true</code> in each agent&#8217;s <code>puppet.conf</code>. </p>

<!-- Best current info: http://groups.google.com/group/puppet-users/tree/browse_frm/thread/30ea08611484d014/1fcda157a4654e20?rnum=1&_done=%2Fgroup%2Fpuppet-users%2Fbrowse_frm%2Fthread%2F30ea08611484d014%2F1fcda157a4654e20%3Ftvc%3D1%26#doc_524b16680064e610 -- TK check this for accuracy and completeness at some later date. -->

<p>Once the site manifest has been properly configured, edit Dashboard&#8217;s <code>config/settings.yml</code> to set <code>use_file_bucket_diffs</code> to <code>true</code> and point <code>file_bucket_server</code> and <code>file_bucket_port</code> to your puppet master. Restart Dashboard, and you should be able to view the contents of any file mentioned in a report by clicking on its MD5 checksum. Diffs are not currently enabled, but will appear in a future version of Dashboard. </p>

<h2 id="security">Security</h2>

<p>As Dashboard provides access to sensitive information and can make changes to your Puppet-managed infrastructure, you&#8217;ll need some way to restrict access to it. Dashboard does not yet provide authentication or authorization, so you&#8217;ll need to use external tools to secure it. Some options include:</p>

<ul>
  <li><strong>Host firewalling</strong> &#8212; The Dashboard server&#8217;s firewall (e.g. <code>iptables</code>) can be used to limit which hosts can access the port Dashboard runs on.</li>
  <li><strong><code>stunnel</code> or <code>ssh</code> tunneling</strong> &#8212; You can use tunneling to provide an encrypted connection between hosts, e.g. if the Puppet Master and Puppet Dashboard are running on separate hosts. It can also allow you to access the web interface from a workstation once you&#8217;ve restricted access by IP. </li>
  <li>
    <p><strong>HTTP Basic Authentication</strong> &#8212; When serving Dashboard via Apache, you can require a username and password to access its URLs by setting authentication rules for <code>/</code> in Dashboard&#8217;s vhost configuration:</p>

    <pre><code>  &lt;Location "/"&gt;
    Order allow,deny
    Allow from 192.168.240.110 # your puppet master's IP
    Satisfy any
    AuthName "Puppet Dashboard"
    AuthType Basic
    AuthUserFile /etc/apache2/htpasswd
    Require valid-user
  &lt;/Location&gt;
</code></pre>

    <p>Notice that you need to leave an access exception for your puppet master(s). Although it&#8217;s possible to configure Puppet to use a password when connecting to Dashboard (by <a href="http://en.wikipedia.org/wiki/URI_scheme#Generic_syntax">adding a username and password</a> to Puppet&#8217;s <code>reporturl</code> and the URL used by the <code>external_nodes</code> script), this currently requires patching Puppet&#8217;s <code>http</code> report handler; see <a href="http://projects.puppetlabs.com/issues/7173">issue 7173</a> for more details. </p>
  </li>
  <li>
    <p><strong>HTTPS (SSL) Encryption</strong> &#8212; When serving Dashboard via Apache, you can encrypt traffic between Puppet and the Dashboard. Using this requires a set of signed certificates from the puppet master &#8212; see <a href="#generating-certs-and-connecting-to-the-puppet-master">generating certs and connecting to the puppet master</a> for how to obtain them. The example configuration in <code>ext/passenger/dashboard-vhost.conf</code> includes a commented-out vhost configured to use SSL. You may need to change the Apache directives <code>SSLCertificateFile</code>, <code>SSLCertificateKeyFile</code>, <code>SSLCACertificateFile</code>, and <code>SSLCARevocationFile</code> to the paths of the files created by the <code>cert</code> rake tasks. </p>

    <p>If you have Dashboard set up to use HTTPS, you&#8217;ll need to add an <code>https</code> prefix to the <code>DASHBOARD_URL</code> in the <code>external_node</code> script and potentially correct the port number (443, by default). You may also need to change the <code>CERT_PATH</code>, <code>PKEY_PATH</code>, and <code>CA_PATH</code> variables if your puppet master&#8217;s hostname is not <code>puppet</code> or if your ssldir is not <code>/etc/puppet/ssl</code>.</p>

    <p>In order for reporting to work correctly via SSL, you will have to be running puppet master via Passenger or some other app server/webserver combination that can handle SSL; reporting to an SSL Dashboard is not supported when running puppet master under WEBrick. You&#8217;ll also have to change the <code>reporturl</code> setting in <code>puppet.conf</code> to start with &#8220;https&#8221; instead of &#8220;http&#8221;. </p>

    <p><strong>This information may be outdated, and is currently being checked for accuracy.</strong></p>
  </li>
</ul>

<h2 id="performance">Performance</h2>

<p>Puppet Dashboard slows down as it manages more data. Here are ways to make it run faster, from easiest to hardest:</p>

<ul>
  <li>Run exactly one <code>delayed_job</code> worker per CPU core.</li>
  <li><a href="./bootstrapping.html#running-dashboard-in-a-production-quality-server">Make sure Dashboard is running in a production-quality web server</a>, like Apache with Passenger.</li>
  <li>Make sure Dashboard is running in the production environment. Although Passenger runs Rails apps in production mode by default, other Rails tools may default to the much slower development environment.</li>
  <li>Optimize your database once a month; create a cron job that runs <code>rake RAILS_ENV=production db:raw:optimize</code> from your Puppet Dashboard directory. This will reorganize and reanalyze your database for faster queries.</li>
  <li>Tune the number of processes Dashboard uses to handle more concurrent requests. If you&#8217;re using Apache with Phusion Passenger to serve Dashboard (as covered in the <a href="./bootstrapping.html#serving-dashboard-with-passenger-and-apache">Installing chapter</a>), you can modify the appropriate settings in Dashboard&#8217;s vhost file; in particular, pay attention to the <code>PassengerHighPerformance</code>, <code>PassengerMaxPoolSize</code>, <code>PassengerPoolIdleTime</code>, <code>PassengerMaxRequests</code>, and <code>PassengerStatThrottleRate</code> settings.</li>
  <li>Regularly prune your old reports; see <a href="./maintaining.html#cleaning-old-reports">&#8220;cleaning old reports&#8221; in the maintenance chapter</a> for more details.</li>
  <li>Run on a machine with a fast, local database.</li>
  <li>Run on a machine with enough processing power and memory.</li>
  <li>Run on a machine with fast backplane, controllers, and disks.</li>
</ul>

<h2 id="installing-plugins">Installing Plugins</h2>

<p>Puppet Labs plans to ship a variety of free and commercial plugins for Dashboard, which will add new features to support specific workflows. If you are installing a plugin, it probably came with official packages and its own installation instructions, but some general guidelines follow:</p>

<p>When installing a plugin from an official package, its files should be moved into the proper place with the proper ownership. However, you will probably have to run the <code>db:migrate</code> rake task after the installation is complete.</p>

<p>To install a plugin from source, rather than a package, you&#8217;ll have to know the hardcoded internal name of the plugin. This should be listed in its documentation. Copy the plugin&#8217;s directory to <code>vendor/plugins</code>, rename it to its proper internal name, and chown the directory and its files to the Dashboard user. Then, run the <code>puppet:plugin:install</code> task, passing the environment you&#8217;re using<sup id="fnref:pluginenv"><a href="#fn:pluginenv" rel="footnote">1</a></sup> and the name of the plugin as variables:</p>

<pre><code>$ sudo -u puppet-dashboard rake puppet:plugin:install PLUGIN=name RAILS_ENV=production
</code></pre>

<p>After this, the plugin should be available and functioning. If you&#8217;ve been using Git to install and upgrade Dashboard, it should leave all plugin files untouched the next time you upgrade. </p>

<h3 id="uninstalling-plugins">Uninstalling Plugins</h3>

<p>This section will be filled in at a later date. <!-- TK --></p>

<hr />

<h4 id="navigation-1">Navigation</h4>

<ul>
  <li><a href="./bootstrapping.html">Installing Dashboard</a></li>
  <li><a href="./upgrading.html">Upgrading Dashboard</a></li>
  <li><strong>Configuring Dashboard</strong></li>
  <li><a href="./maintaining.html">Maintaining Dashboard</a></li>
  <li><a href="./using.html">Using Dashboard</a></li>
  <li><a href="./rake_api.html">Rake API</a></li>
</ul>

<div class="footnotes">
  <ol>
    <li id="fn:pluginenv">
      <p><code>Puppet:plugin:install</code> runs <code>db:migrate</code> at the end. If you run in multiple environments regularly, you&#8217;ll need to run <code>rake db:migrate</code> again for each additional one. <a href="#fnref:pluginenv" rel="reference">&#8617;</a></p>
    </li>
  </ol>
</div>

              <blockquote><p style="font-size: 1.3em; text-align: center;"><a href="#content">&#8593; Back to top</a></p></blockquote>
            </div>
            <div class="secondary-content">
                  <div id="subCol">
                      <h3 class="chapter">Contents</h3>

<ol class="toc">
  <li class="toc-lv2"><a href="#overview">Overview</a></li>
  <li class="toc-lv2"><a href="#advanced-features">Advanced Features</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#generating-certs-and-connecting-to-the-puppet-master">Generating Certs and Connecting to the Puppet Master</a></li>
   <li class="toc-lv3"><a href="#enabling-inventory-support">Enabling Inventory Support</a></li>
   <li class="toc-lv3"><a href="#enabling-the-filebucket-viewer">Enabling the Filebucket Viewer</a></li>
</ol></li>
  <li class="toc-lv2"><a href="#security">Security</a></li>
  <li class="toc-lv2"><a href="#performance">Performance</a></li>
  <li class="toc-lv2"><a href="#installing-plugins">Installing Plugins</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#uninstalling-plugins">Uninstalling Plugins</a></li>
</ol></li>
</ol>
                      <div style="margin-top: 1.5em; padding-bottom: 10px;">
                          <p style="font-family: 'Lucida Grande',Lucida,Verdana,sans-serif;font-size: 16px; font-weight: bold; line-height: 22px; margin-bottom: 10px;">Download the Docs</p>
                          <a href="http://info.puppetlabs.com/download-pdfs.html"><img src="./../../../images/smallbits_small_docs.png" alt="Puppet docs download" /></a>
                      </div>
                      <div style="margin-top: 0; padding-bottom: 10px;">
                          <p style="font-family: 'Lucida Grande',Lucida,Verdana,sans-serif;font-size: 16px; font-weight: bold; line-height: 22px; margin-bottom: 10px;">Download Puppet Enterprise</p>
                          <a href="http://info.puppetlabs.com/download-pe.html"><img src="./../../../images/puppet_cert_home.jpg" alt="Puppet Enterprise promo" /></a>
                      </div>
                  </div>
            </div>
          </div>
        </div>
      </section>

		<footer id="footer">
      <div class="site-width">

        <div class="primary-secondary-content">
          <div class="primary-content">
            <section id="newsletter">
                 <h4>Puppet Labs is Hiring</h4>
                 <p><a href="http://www.puppetlabs.com/company/jobs/">Engineers, developers &amp; consultants</a>
                  </p><p>
		</p><h4>Newsletter</h4>

              <p>Stay up to date on all things puppet</p>

				<form class="lpeRegForm formNotEmpty" method="post" enctype="application/x-www-form-urlencoded" action="http://info.puppetlabs.com/index.php/leadCapture/save" id="mktForm_1013" name="mktForm_1013">

				<label>Email Address:</label><span class="mktInput"><input class="mktFormText mktFormEmail" name="Email" id="Email" type="text" value="" maxlength="255" /><span class="mktFormMsg"></span></span>

				<input id="mktFrmSubmit" type="submit" class="btn" style="width: auto; overflow: visible; padding-left: .25em; padding-right: .25em;" value="Subscribe" name="submitButton" onclick="formSubmit(document.getElementById(&quot;mktForm_1013&quot;)); return false;" />

				<input style="display: none;" id="mktFrmReset" type="reset" value="Clear" name="resetButton" onclick="formReset(document.getElementById(&quot;mktForm_1013&quot;)); return false;" />

				<span style="display:none;"><input type="text" name="_marketo_comments" value="" /></span>
				<input type="hidden" name="lpId" value="-1" />
				<input type="hidden" name="subId" value="100" />

				<input type="hidden" name="kw" value="" />
				<input type="hidden" name="cr" value="" />

				<input type="hidden" name="searchstr" value="" />
				<input type="hidden" name="lpurl" value="http://info.puppetlabs.com/testsubscription.html?cr={creative}&amp;kw={keyword}" />
				<input type="hidden" name="formid" value="1013" />
				<input type="hidden" name="returnURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/" />
				<input type="hidden" name="retURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/" />
				<input type="hidden" name="_mkt_disp" value="return" />
				<input type="hidden" name="_mkt_trk" value="" />

				</form>
				<script type="text/javascript" src="http://info.puppetlabs.com/js/mktFormSupport.js"></script>

				<script type="text/javascript"><![CDATA[
				function formSubmit(elt) {
				return Mkto.formSubmit(elt);
				}
				function formReset(elt) {
				return Mkto.formReset(elt);
				}
				]]></script>

<a href="http://info.puppetlabs.com/puppet-enterprise" class="fbtn">Try Puppet Enterprise FREE</a>

            </section>
            <section id="elsewhere">
              <h4>Get Involved</h4>
              <ul>

                <li class="chat"><a href="http://webchat.freenode.net/?channels=puppet" rel="external"><span class="indicator"></span><span>Chat with us on IRC</span></a></li>
		<li class="discussion"><a href="http://groups.google.com/group/puppet-dev" rel="external"><span class="indicator"></span><span>Join the Puppet Developer List</span></a></li>
                <li class="discussion"><a href="http://groups.google.com/group/puppet-users?pli=1" rel="external"><span class="indicator"></span><span>Join the Puppet User List</span></a></li>

                <li class="linkedin"><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" rel="external"><span class="indicator"></span><span>Join the Puppet Users LinkedIn group</span></a></li>

              </ul>
		<p>
		              		</p><h4>Follow us&#8230;</h4>

              		<ul class="followus">


			<li><a href="http://feeds.feedburner.com/PuppetLabs" target="_blank"><img src="http://www.puppetlabs.com/wp-content/plugins/my-profiles/images/rss.png" border="0" /></a></li>
			<li><a href="http://www.facebook.com/pages/Puppet-Labs/219089920711" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/facebook.png" border="0" /></a></li>
			<li><a href="http://www.twitter.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/twitter.png" border="0" /></a></li>
			<li><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/LinkedIn_IN_Icon_32px.png" border="0" /></a></li>    <li><a href="https://github.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/github_icon.png" border="0" /></a></li>
			<li><a href="https://plus.google.com/112682055028218091774?rel=author" target="_blank"><img src="https://puppetlabs.com/wp-content/uploads/2013/05/google_plus32x32.png" alt="Find Us on Google+" border="0" /></a></li>
					</ul>

              	

            </section>
          </div>
          <div class="secondary-content">
            <section id="book-it">
              <h4>Get the book!</h4>

              <p>James Turnbull and Jeff McCune's book <a href="http://www.apress.com/9781430230571" rel="nofollow">Pro Puppet</a> is a comprehensive and up-to-date look at Puppet and MCollective. </p>
              <a href="http://www.apress.com/9781430230571" rel="nofollow"><img src="http://www.puppetlabs.com/wp-content/uploads/2011/05/propuppetthumb.png" /></a>
            </section>
          </div>
        </div>
      </div>
		</footer>

    <div id="copyright">
      <div class="site-width">
        &#169; 2011 <a href="http://www.puppetlabs.com/" title="Puppet Labs">Puppet Labs</a>
        <span class="vcard">
         <span class="org"></span>
         <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>

          <span class="adr">
           <span class="street-address">926 NW 13th Avenue #210</span>
           /
           <span class="locality">Portland</span>,
           <span class="region">OR</span>
           <span class="postal-code">97209</span>

          </span>

         <span class="tel">1-877-575-9775</span>
        </span>
      </div>
    </div>

  	<script type="text/javascript"><![CDATA[Cufon.now();]]></script>
  	<style type="text/css"><![CDATA[h1, h2, .btn { visibility : visible; }]]></style>

	</body>
</html>
