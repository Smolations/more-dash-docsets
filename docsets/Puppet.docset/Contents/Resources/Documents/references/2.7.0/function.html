<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  	<title>Function Reference — Documentation — Puppet Labs</title>
  	<link rel="alternate" type="application/atom+xml" title="Puppet Labs Documentation Updates" href="https://github.com/puppetlabs/puppet-docs/commits/master.atom">
    <link rel="alternate" type="application/atom+xml" title="Puppet Labs Blog Feed" href="http://puppetlabs.com/feed/atom/">
    <link rel='index' title='Puppet Labs Documentation' href='http://docs.puppetlabs.com' />
    <link rel='icon' href='./../../favicon.ico' />


  <meta name="description" content="Function ReferenceThis page is autogenerated; any changes will get overwritten (last generated on Sat May 21 17:19:37 -0700 2011)There are two type...">



    <!-- FIXME: absolute paths -->

    <script type='text/javascript' src='./../../files/javascripts/html5.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/jquery-1.3.2.min.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/drop_down.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/cufon-yui.js'></script>
    <script type='text/javascript' src='./../../files/fonts/Klavika_400-Klavika_600.font.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/ampersands.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/navigation-accordion.js'></script>

    <script type="text/javascript" src="http://puppetlabs.com/wp-content/themes/puppetlabs/javascripts/leadcapture.js"></script>

    <!-- All in One SEO Pack 1.6.10.1 by Michael Torbert of Semper Fi Web Design[127,146] -->
    <meta name="keywords" content="Puppet, puppet labs, reductive labs, open source, system administrator, ruby, data center, automation, support" />
    <!-- /all in one seo pack -->

    <!-- Give us the option of setting a canonical URL in yaml frontmatter -NF -->
    <link rel="canonical" href="http://docs.puppetlabs.com/references/latest/function.html" />

    <!-- FIXME: absolute paths -->

    <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/style.css" media="screen">
    <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/syntax.css" media="screen"> <!-- index -->
    <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/adbanner.css" media="screen">

    <!--[if IE 7]>
	  <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/ie_7.css" media="screen"> <!-- index -->
    <![endif]-->

    <!--[if IE 8]>
	    <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/ie_8.css" media="screen"> <!-- index -->
    <![endif]-->

  	<script type="text/javascript">
      Cufon.replace('h1, h2', { fontWeight: '600' });
  	</script>
</head>




  <body id="puppetlabsdocs" class="docs">
  <style type="text/css">h1, h2{ visibility : hidden }</style>
  <!--[if IE 8]>
    <style type="text/css">h1, h2{ visibility : visible }</style>
  <![endif]-->

  	<header id="header">
      <div class="site-width">
    		<h1><a href="http://puppetlabs.com/"><span>Puppet Labs</span></a></h1>
        <a class="screen-reader-content" href="#content">Skip navigation</a>
        <nav>
    		<ul id="global-navigation">
          <li id="puppet-tab" class="with-submenu">
            <a href="http://puppetlabs.com/puppet/puppet-enterprise">
              <span>Products</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
			<li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/what-is-puppet/">What is Puppet?</a>
                </ul>
              </li>
			       <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/puppet-enterprise/">Puppet Enterprise</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/whats-new/">What's New in 2.5</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/puppet-open-source/">Puppet Open Source</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/enterprise-vs-open-source/">Enterprise vs. Open Source</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://forge.puppetlabs.com">Puppet Forge</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/requirements/">Components &amp; Requirements</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/faq/">FAQ</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/how-to-buy/">How to Buy</a>
                </ul>
              </li>
            </ul>
          </li>
          <li id="solutions-tab" class="with-submenu">
            <a href="http://puppetlabs.com/solutions/">
              <span>Solutions</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-12296"><a href="http://puppetlabs.com/solutions/configuration-management/">Configuration Management</a></li>
<li class="page_item page-item-986"><a href="http://puppetlabs.com/solutions/virtualization-management/">Virtualization Management</a></li>
<li class="page_item page-item-993"><a href="http://puppetlabs.com/solutions/cloud-management/">Cloud Management</a></li>
<li class="page_item page-item-996"><a href="http://puppetlabs.com/solutions/it-compliance/">IT Compliance</a></li>
<li class="page_item page-item-9520"><a href="http://puppetlabs.com/solutions/devops/">DevOps</a></li>
<li class="page_item page-item-991"><a href="http://puppetlabs.com/solutions/manage-os-x-resources/">OS X Desktops</a></li>
            </ul>
          </li>
          <li id="services-tab" class="with-submenu">
            <a href="http://puppetlabs.com/services/">
              <span>Services</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-783"><a href="http://puppetlabs.com/services/overview/">Overview</a></li>
<li class="page_item page-item-1052"><a href="http://puppetlabs.com/services/customer-support/">Customer Support</a></li>
<li class="page_item page-item-11022"><a href="http://puppetlabs.com/services/support-plans/">Support Plans</a></li>
<li class="page_item page-item-845"><a href="http://puppetlabs.com/services/training-workshops/">On-Site Education</a></li>
<li class="page_item page-item-4899"><a href="http://puppetlabs.com/services/consulting/">Professional Services</a></li>
<li class="page_item page-item-849"><a href="http://puppetlabs.com/category/events/upcoming/">Events &amp; Workshops</a></li>
<li class="page_item page-item-851"><a href="http://puppetlabs.com/services/partners/">Partners</a></li>
            </ul>
          </li>
                    <li id="resources-tab" class="with-submenu">
            <a href="http://puppetlabs.com/resources/">
              <span>Resources</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://puppetlabs.com/resources/overview-2/">Overview</a></li>
<li class="page_item page-item-1040"><a href="http://docs.puppetlabs.com">Documentation</a></li>
<li class="page_item page-item-872"><a href="http://info.puppetlabs.com/register-download">Downloads</a></li>
<li class="page_item page-item-1961"><a href="http://forge.puppetlabs.com">Puppet Forge</a></li>
<li class="page_item page-item-835"><a href="http://info.puppetlabs.com/download-whitepapers.html">White Papers</a></li>
<li class="page_item page-item-1967"><a href="http://projects.puppetlabs.com/projects/puppet/wiki">Wiki</a></li>
<li class="page_item page-item-7279"><a href="http://puppetlabs.com/resources/webinars/">Upcoming Webinars</a></li>
<li class="page_item page-item-10183"><a href="http://puppetlabs.com/resources/newsletter/">Newsletter</a></li>
<li class="page_item page-item-12263"><a href="http://puppetlabs.com/resources/tech-notes/">Tech Notes</a></li>
<li class="page_item page-item-10265"><a href="http://info.puppetlabs.com/pe2-webinar.html">Webinars</a></li>
            </ul>
          </li>

          <li id="customers-tab" class="with-submenu">
            <a href="http://puppetlabs.com/customers/companies/">
              <span>Customers</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/customers/companies/">Companies</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/case-studies/">Case Studies</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/product-testimonials/">Product Testimonials</a>
                </ul>
              </li>
			    <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/what-customers-are-saying/">Service Testimonials</a>
                </ul>
              </li>
            </ul>
          </li>
          <li id="community-tab" class="with-submenu">
            <a href="http://puppetlabs.com/community/">
              <span>Community</span>
              <span class="drop-down-trigger"></span>
            </a>

 <ul>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/community/overview/">Overview</a>
                </ul>
              </li>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/blog">Blog</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/community/puppet-camp/">Puppet Camp</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/community/user-groups-and-devops-groups/">Puppet User Groups & DevOps Groups</a>
                </ul>
              </li>
	          <li>
                <ul>
                  <a href="http://puppetlabs.com/community/presentations/">Presentations</a>
                </ul>
              </li>
			    <li>
                <ul>
                  <a href="http://puppetlabs.com/community/videos/">Videos</a>
                </ul>
              </li>
            </ul>

          <li id="company-tab" class="with-submenu">
            <a href="http://puppetlabs.com/company/">
              <span>Company</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-2316"><a href="http://puppetlabs.com/company/overview/">Overview</a></li>
<li class="page_item page-item-2179"><a href="http://puppetlabs.com/company/news/">News</a>
<ul class='children'>
	<li class="page_item page-item-2338"><a href="http://puppetlabs.com/company/news/press-releases/">Press Releases</a></li>
	<li class="page_item page-item-2383"><a href="http://puppetlabs.com/company/news/media-kit/">Media Kit</a></li>
</ul>
</li>
<li class="page_item page-item-1571"><a href="http://puppetlabs.com/company/careers/">Careers</a></li>
<li class="page_item page-item-10372"><a href="http://puppetlabs.com/company/management/">Management</a></li>
<li class="page_item page-item-10311"><a href="http://puppetlabs.com/company/board-and-advisors/">Board and Advisors</a></li>
<li class="page_item page-item-10367"><a href="http://puppetlabs.com/company/investors/">Investors</a></li>
<li class="page_item page-item-2313"><a href="http://puppetlabs.com/company/contact-us/">Contact Us</a></li>
<li class="page_item page-item-10579"><a href="http://puppetlabs.com/company/awards/">Awards</a></li>
            </ul>
          </li>
    		</ul>
          <div id="misc-navigation">
			  <ul>
				<li><a href="http://puppetlabs.com/security/">Security</a></li>
				<li><a href="http://docs.puppetlabs.com">Documentation</a></li>
				<li><a href="http://puppetlabs.com/resources/customer-support/">Support</a></li>
			        <li><a href="http://projects.puppetlabs.com/">Bug Tracker</a></li>
				<li><a href="http://puppetlabs.com/company/contact/contact-us">Contact Us</a></li>
				<li><a href="http://info.puppetlabs.com/download-pe2.html" class="gateway">Download</a></li>
			  </ul>
			<form action="http://www.google.com/cse" id="cse-search-box">
			  <div>
				<input type="hidden" name="cx" value="017668764424496204839:ubligvgbenm" />
				<input type="hidden" name="ie" value="UTF-8" />
				<input type="text" name="q" class="gsc-input" size="31" />
				<input type="submit" name="sa" class="searchbtn" value="Search" />
			  </div>
			</form>
			<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>
          </div>
      </nav>
    	</div>
    </header>

      <section id="masthead">
        <div class="site-width">
          <h1>Docs: <span class="section-name">Function Reference</span></h1>
          <ul id="doc-navigation">
            <li><a href="./../../index.html">Docs Home</a></li>
            <li class="with-submenu">
              <a href="#">
                <span>Quick Nav</span>
                <span class="drop-down-trigger"></span>
              </a>
               <!-- the following links can't be relative, unfortunately -->
               <!-- future: add some JS to disable this if running from file:// -->
                               <dl>
                  <dt>Puppet Documentation</dt>
                      <dd><a href="./../../puppet/3/reference/index.html">Puppet 3 Reference Manual</a></dd>
                      <dd><a href="./../../puppet/2.7/reference/index.html">Puppet 2.7 Reference Manual</a></dd>
                      <dd><a href="./../../pe/latest/index.html">Puppet Enterprise User's Guide</a></dd>
                      <dd><a href="./../../learning/index.html">Learning Puppet</a></dd>
                      <dd><a href="./../../references/latest/type.html">Resource Types</a></dd>
                      <dd><a href="./../../references/latest/function.html">Functions</a></dd>
                      <dd><a href="./../../references/latest/configuration.html">Configuration</a></dd>
                      <dd><a href="./../../references/latest/developer/index.html">Developer</a></dd>
                      <dd><a href="./../../references/glossary.html">Glossary of Puppet Terms</a></dd>
                      <dd><a href="./../../references/index.html">Older References</a></dd>
                  <dt>Facter</dt>
                      <dd><a href="./../../facter/latest/core_facts.html">Core Facts Reference</a></dd>
                  <dt>PuppetDB</dt>
                      <dd><a href="./../../puppetdb/1/index.html">PuppetDB 1 Manual</a></dd>
                  <dt>MCollective</dt>
                      <dd><a href="./../../mcollective/index.html">Index</a></dd>
                      <dd><a href="./../../mcollective/reference/index.html">References</a></dd>
                      <dd><a href="./../../mcollective/simplerpc/index.html">Writing Plugins</a></dd>
                      <dd><a href="./../../mcollective/releasenotes.html">Release Notes</a></dd>
                </dl>

            </li>
            <li><a href="./../../contribute.html">Contribute</a></li>
          </ul>
        </div>
        <br />
      </section>

      <section id="content">
        <div class="site-width">
          <div class="primary-secondary-content">
            <div class="primary-content">
              <h1>Function Reference</h1>
              <nav class="in-page" id="page-nav">
<ol class="toc">
  <li class="toc-lv2"><a href="#alert">alert</a></li>
  <li class="toc-lv2"><a href="#createresources">create_resources</a></li>
  <li class="toc-lv2"><a href="#crit">crit</a></li>
  <li class="toc-lv2"><a href="#debug">debug</a></li>
  <li class="toc-lv2"><a href="#defined">defined</a></li>
  <li class="toc-lv2"><a href="#emerg">emerg</a></li>
  <li class="toc-lv2"><a href="#err">err</a></li>
  <li class="toc-lv2"><a href="#extlookup">extlookup</a></li>
  <li class="toc-lv2"><a href="#fail">fail</a></li>
  <li class="toc-lv2"><a href="#file">file</a></li>
  <li class="toc-lv2"><a href="#fqdnrand">fqdn_rand</a></li>
  <li class="toc-lv2"><a href="#generate">generate</a></li>
  <li class="toc-lv2"><a href="#include">include</a></li>
  <li class="toc-lv2"><a href="#info">info</a></li>
  <li class="toc-lv2"><a href="#inlinetemplate">inline_template</a></li>
  <li class="toc-lv2"><a href="#md5">md5</a></li>
  <li class="toc-lv2"><a href="#notice">notice</a></li>
  <li class="toc-lv2"><a href="#realize">realize</a></li>
  <li class="toc-lv2"><a href="#regsubst">regsubst</a></li>
  <li class="toc-lv2"><a href="#require">require</a></li>
  <li class="toc-lv2"><a href="#search">search</a></li>
  <li class="toc-lv2"><a href="#sha1">sha1</a></li>
  <li class="toc-lv2"><a href="#shellquote">shellquote</a></li>
  <li class="toc-lv2"><a href="#split">split</a></li>
  <li class="toc-lv2"><a href="#sprintf">sprintf</a></li>
  <li class="toc-lv2"><a href="#tag">tag</a></li>
  <li class="toc-lv2"><a href="#tagged">tagged</a></li>
  <li class="toc-lv2"><a href="#template">template</a></li>
  <li class="toc-lv2"><a href="#versioncmp">versioncmp</a></li>
  <li class="toc-lv2"><a href="#warning">warning</a></li>
</ol></nav>
              <h1 id="function-reference">Function Reference</h1>

<p><strong>This page is autogenerated; any changes will get overwritten</strong> <em>(last generated on Sat May 21 17:19:37 -0700 2011)</em></p>

<p>There are two types of functions in Puppet: Statements and rvalues.
Statements stand on their own and do not return arguments; they are used for
performing stand-alone work like importing.  Rvalues return values and can
only be used in a statement requiring a value, such as an assignment or a case
statement.</p>

<p>Functions execute on the Puppet master.  They do not execute on the Puppet agent.<br />
Hence they only have access to the commands and data available on the Puppet master
host.</p>

<p>Here are the functions available in Puppet:</p>

<h2 id="alert">alert</h2>
<p>Log a message on the server at level alert.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="createresources">create_resources</h2>
<p>Converts a hash into a set of resources and adds them to the catalog.
Takes two parameters:
  create_resources($type, $resources)
    Creates resources of type $type from the $resources hash. Assumes that
    hash is in the following form:
     {title=&gt;{parameters}}
  This is currently tested for defined resources, classes, as well as native types</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="crit">crit</h2>
<p>Log a message on the server at level crit.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="debug">debug</h2>
<p>Log a message on the server at level debug.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="defined">defined</h2>
<p>Determine whether
a given class or resource type is defined. This function can also determine whether a
specific resource has been declared. Returns true or false. Accepts class names,
type names, and resource references.</p>

<p>The <code>defined</code> function checks both native and defined types, including types
provided as plugins via modules. Types and classes are both checked using their names:</p>

<pre><code>defined("file")
defined("customtype")
defined("foo")
defined("foo::bar")
</code></pre>

<p>Resource declarations are checked using resource references, e.g.
<code>defined( File['/tmp/myfile'] )</code>. Checking whether a given resource
has been declared is, unfortunately, dependent on the parse order of
the configuration, and the following code will not work:</p>

<pre><code>if defined(File['/tmp/foo']) {
    notify("This configuration includes the /tmp/foo file.")
}
file {"/tmp/foo":
    ensure =&gt; present,
}
</code></pre>

<p>However, this order requirement refers to parse order only, and ordering of
resources in the configuration graph (e.g. with <code>before</code> or <code>require</code>) does not
affect the behavior of <code>defined</code>.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="emerg">emerg</h2>
<p>Log a message on the server at level emerg.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="err">err</h2>
<p>Log a message on the server at level err.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="extlookup">extlookup</h2>
<p>This is a parser function to read data from external files, this version
uses CSV files but the concept can easily be adjust for databases, yaml
or any other queryable data source.</p>

<p>The object of this is to make it obvious when it&#8217;s being used, rather than
magically loading data in when an module is loaded I prefer to look at the code
and see statements like:</p>

<pre><code>$snmp_contact = extlookup("snmp_contact")
</code></pre>

<p>The above snippet will load the snmp_contact value from CSV files, this in its
own is useful but a common construct in puppet manifests is something like this:</p>

<pre><code>case $domain {
  "myclient.com": { $snmp_contact = "John Doe &lt;john@myclient.com&gt;" }
  default:        { $snmp_contact = "My Support &lt;support@my.com&gt;" }
}
</code></pre>

<p>Over time there will be a lot of this kind of thing spread all over your manifests
and adding an additional client involves grepping through manifests to find all the
places where you have constructs like this.</p>

<p>This is a data problem and shouldn&#8217;t be handled in code, a using this function you
can do just that.</p>

<p>First you configure it in site.pp:</p>

<pre><code>$extlookup_datadir = "/etc/puppet/manifests/extdata"
$extlookup_precedence = ["%{fqdn}", "domain_%{domain}", "common"]
</code></pre>

<p>The array tells the code how to resolve values, first it will try to find it in
web1.myclient.com.csv then in domain_myclient.com.csv and finally in common.csv</p>

<p>Now create the following data files in /etc/puppet/manifests/extdata:</p>

<pre><code>domain_myclient.com.csv:
  snmp_contact,John Doe &lt;john@myclient.com&gt;
  root_contact,support@%{domain}
  client_trusted_ips,192.168.1.130,192.168.10.0/24

common.csv:
  snmp_contact,My Support &lt;support@my.com&gt;
  root_contact,support@my.com
</code></pre>

<p>Now you can replace the case statement with the simple single line to achieve
the exact same outcome:</p>

<p>$snmp_contact = extlookup(&#8220;snmp_contact&#8221;)</p>

<p>The above code shows some other features, you can use any fact or variable that
is in scope by simply using %{varname} in your data files, you can return arrays
by just having multiple values in the csv after the initial variable name.</p>

<p>In the event that a variable is nowhere to be found a critical error will be raised
that will prevent your manifest from compiling, this is to avoid accidentally putting
in empty values etc.  You can however specify a default value:</p>

<p>$ntp_servers = extlookup(&#8220;ntp_servers&#8221;, &#8220;1.${country}.pool.ntp.org&#8221;)</p>

<p>In this case it will default to &#8220;1.${country}.pool.ntp.org&#8221; if nothing is defined in
any data file.</p>

<p>You can also specify an additional data file to search first before any others at use
time, for example:</p>

<pre><code>$version = extlookup("rsyslog_version", "present", "packages")
package{"rsyslog": ensure =&gt; $version }
</code></pre>

<p>This will look for a version configured in packages.csv and then in the rest as configured
by $extlookup_precedence if it&#8217;s not found anywhere it will default to <code>present</code>, this kind
of use case makes puppet a lot nicer for managing large amounts of packages since you do not
need to edit a load of manifests to do simple things like adjust a desired version number.</p>

<p>Precedence values can have variables embedded in them in the form %{fqdn}, you could for example do:</p>

<pre><code>$extlookup_precedence = ["hosts/%{fqdn}", "common"]
</code></pre>

<p>This will result in /path/to/extdata/hosts/your.box.com.csv being searched.</p>

<p>This is for back compatibility to interpolate variables with %. % interpolation is a workaround for a problem that has been fixed: Puppet variable interpolation at top scope used to only happen on each run.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="fail">fail</h2>
<p>Fail with a parse error.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="file">file</h2>
<p>Return the contents of a file.  Multiple files
can be passed, and the first file that exists will be read in.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="fqdnrand">fqdn_rand</h2>
<p>Generates random numbers based on the node&#8217;s fqdn. Generated random values
will be a range from 0 up to and excluding n, where n is the first parameter.
The second argument specifies a number to add to the seed and is optional, for example:</p>

<pre><code>$random_number = fqdn_rand(30)
$random_number_seed = fqdn_rand(30,30)
</code></pre>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="generate">generate</h2>
<p>Calls an external command on the Puppet master and returns
the results of the command.  Any arguments are passed to the external command as
arguments.  If the generator does not exit with return code of 0,
the generator is considered to have failed and a parse error is
thrown.  Generators can only have file separators, alphanumerics, dashes,
and periods in them.  This function will attempt to protect you from
malicious generator calls (e.g., those with &#8216;..&#8217; in them), but it can
never be entirely safe.  No subshell is used to execute
generators, so all shell metacharacters are passed directly to
the generator.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="include">include</h2>
<p>Evaluate one or more classes.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="info">info</h2>
<p>Log a message on the server at level info.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="inlinetemplate">inline_template</h2>
<p>Evaluate a template string and return its value.  See
<a href="http://docs.puppetlabs.com/guides/templating.html">the templating docs</a> for
more information.  Note that if multiple template strings are specified, their
output is all concatenated and returned as the output of the function.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="md5">md5</h2>
<p>Returns a MD5 hash value from a provided string.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="notice">notice</h2>
<p>Log a message on the server at level notice.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="realize">realize</h2>
<p>Make a virtual object real.  This is useful
when you want to know the name of the virtual object and don&#8217;t want to
bother with a full collection.  It is slightly faster than a collection,
and, of course, is a bit shorter.  You must pass the object using a
reference; e.g.: <code>realize User[luke]</code>.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="regsubst">regsubst</h2>
<p>Perform regexp replacement on a string or array of strings.</p>

<ul>
  <li><em>Parameters</em> (in order):
    <ul>
      <li><em>target</em>  The string or array of strings to operate on.  If an array, the replacement will be performed on each of the elements in the array, and the return value will be an array.</li>
      <li><em>regexp</em>  The regular expression matching the target string.  If you want it anchored at the start and or end of the string, you must do that with ^ and $ yourself.</li>
      <li><em>replacement</em>  Replacement string. Can contain backreferences to what was matched using \0 (whole match), \1 (first set of parentheses), and so on.</li>
      <li><em>flags</em>  Optional. String of single letter flags for how the regexp is interpreted:
        <ul>
          <li><em>E</em>         Extended regexps</li>
          <li><em>I</em>         Ignore case in regexps</li>
          <li><em>M</em>         Multiline regexps</li>
          <li><em>G</em>         Global replacement; all occurrences of the regexp in each target string will be replaced.  Without this, only the first occurrence will be replaced.</li>
        </ul>
      </li>
      <li><em>encoding</em>  Optional.  How to handle multibyte characters.  A single-character string with the following values:
        <ul>
          <li><em>N</em>         None</li>
          <li><em>E</em>         EUC</li>
          <li><em>S</em>         SJIS</li>
          <li><em>U</em>         UTF-8</li>
        </ul>
      </li>
    </ul>
  </li>
  <li><em>Examples</em></li>
</ul>

<p>Get the third octet from the node&#8217;s IP address:</p>

<pre><code>$i3 = regsubst($ipaddress,'^(\d+)\.(\d+)\.(\d+)\.(\d+)$','\3')
</code></pre>

<p>Put angle brackets around each octet in the node&#8217;s IP address:</p>

<pre><code>$x = regsubst($ipaddress, '([0-9]+)', '&lt;\1&gt;', 'G')
</code></pre>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="require">require</h2>
<p>Evaluate one or more classes,  adding the required class as a dependency.</p>

<p>The relationship metaparameters work well for specifying relationships
between individual resources, but they can be clumsy for specifying
relationships between classes.  This function is a superset of the
&#8216;include&#8217; function, adding a class relationship so that the requiring
class depends on the required class.</p>

<p>Warning: using require in place of include can lead to unwanted dependency cycles.</p>

<p>For instance the following manifest, with &#8216;require&#8217; instead of &#8216;include&#8217; would produce a nasty dependence cycle, because notify imposes a before between File[/foo] and Service[foo]:</p>

<pre><code>class myservice {
  service { foo: ensure =&gt; running }
}

class otherstuff {
  include myservice
  file { '/foo': notify =&gt; Service[foo] }
}
</code></pre>

<p>Note that this function only works with clients 0.25 and later, and it will
fail if used with earlier clients.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="search">search</h2>
<p>Add another namespace for this class to search.
This allows you to create classes with sets of definitions and add
those classes to another class&#8217;s search path.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="sha1">sha1</h2>
<p>Returns a SHA1 hash value from a provided string.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="shellquote">shellquote</h2>
<p>Quote and concatenate arguments for use in Bourne shell.</p>

<p>Each argument is quoted separately, and then all are concatenated
with spaces.  If an argument is an array, the elements of that
array is interpolated within the rest of the arguments; this makes
it possible to have an array of arguments and pass that array to
shellquote instead of having to specify each argument
individually in the call.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="split">split</h2>
<p>Split a string variable into an array using the specified split regexp.</p>

<p><em>Example:</em></p>

<pre><code>$string     = 'v1.v2:v3.v4'
$array_var1 = split($string, ':')
$array_var2 = split($string, '[.]')
$array_var3 = split($string, '[.:]')
</code></pre>

<p><code>$array_var1</code> now holds the result <code>['v1.v2', 'v3.v4']</code>,
while <code>$array_var2</code> holds <code>['v1', 'v2:v3', 'v4']</code>, and
<code>$array_var3</code> holds <code>['v1', 'v2', 'v3', 'v4']</code>.</p>

<p>Note that in the second example, we split on a literal string that contains
a regexp meta-character (.), which must be escaped.  A simple
way to do that for a single character is to enclose it in square
brackets; a backslash will also escape a single character.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="sprintf">sprintf</h2>
<p>Perform printf-style formatting of text.</p>

<p>The first parameter is format string describing how the rest of the parameters should be formatted.  See the documentation for the <code>Kernel::sprintf</code> function in Ruby for all the details.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="tag">tag</h2>
<p>Add the specified tags to the containing class
or definition.  All contained objects will then acquire that tag, also.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<h2 id="tagged">tagged</h2>
<p>A boolean function that
tells you whether the current container is tagged with the specified tags.
The tags are ANDed, so that all of the specified tags must be included for
the function to return true.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="template">template</h2>
<p>Evaluate a template and return its value.  See
<a href="http://docs.puppetlabs.com/guides/templating.html">the templating docs</a> for
more information.</p>

<p>Note that if multiple templates are specified, their output is all
concatenated and returned as the output of the function.</p>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="versioncmp">versioncmp</h2>
<p>Compares two versions</p>

<p>Prototype:</p>

<pre><code>$result = versioncmp(a, b)
</code></pre>

<p>Where a and b are arbitrary version strings</p>

<p>This functions returns a number:</p>

<ul>
  <li>Greater than 0 if version a is greater than version b</li>
  <li>Equal to 0 if both version are equals</li>
  <li>Less than 0 if version a is less than version b</li>
</ul>

<p>Example:</p>

<pre><code>if versioncmp('2.6-1', '2.4.5') &gt; 0 {
    notice('2.6-1 is &gt; than 2.4.5')
}
</code></pre>

<ul>
  <li><em>Type</em>: rvalue</li>
</ul>

<h2 id="warning">warning</h2>
<p>Log a message on the server at level warning.</p>

<ul>
  <li><em>Type</em>: statement</li>
</ul>

<hr />

<p><em>This page autogenerated on Sat May 21 17:19:37 -0700 2011</em></p>

              <blockquote><p style="font-size: 1.3em; text-align: center;"><a href="#content">↑ Back to top</a></p></blockquote>
            </div>
            <nav class="main">
                  <div id="subCol">




<h3 id="generated-references">Generated References</h3>

<p>These pages are generated from the Puppet source code. You are looking at the references for:</p>

<h4 id="puppet--referenceversion-">Puppet 2.7.0</h4>

<ul>
  <li><a href="./type.html">Type Reference</a></li>
  <li><a href="./configuration.html">Configuration Reference</a></li>
  <li><span class="currentpage">Function Reference</span></li>
  <li><a href="./metaparameter.html">Metaparameter Reference</a></li>
  <li><a href="./report.html">Report Reference</a></li>
  <li><a href="./indirection.html">Indirection Reference</a></li>


</ul>




<h4 id="other-versions">Other Versions</h4>

<ul>
  <li><a href="./../../references/3.2.latest/function.html">Latest 3.2.x release</a></li>
  <li><a href="./../../references/3.1.latest/function.html">Latest 3.1.x release</a></li>
  <li><a href="./../../references/3.0.latest/function.html">Latest 3.0.x release</a></li>
  <li><a href="./../../references/2.7.latest/function.html">Latest 2.7.x release</a></li>
  <li><a href="./../../references/latest/function.html">Latest version, inc. RCs</a></li>
  <li><a href="./../../references/stable/function.html">Latest stable version</a></li>
</ul>

<p><a href="./../../references/index.html">See here for all historical versions.</a></p>

<h4 id="puppet-reference-manual">Puppet Reference Manual</h4>

<p>Use these links to go back to the Puppet Reference Manual:</p>

<ul>
  <li><a href="./../../puppet/3/reference/index.html">Puppet 3</a></li>
  <li><a href="./../../puppet/2.7/reference/index.html">Puppet 2.7</a></li>
</ul>


                      <div style="margin-top: 1.5em; padding-bottom: 10px;">
                          <p style="font-family: 'Lucida Grande',Lucida,Verdana,sans-serif;font-size: 16px; font-weight: bold; line-height: 22px; margin-bottom: 10px;">Download the Docs</p>
                          <a href="http://info.puppetlabs.com/download-pdfs.html"><img src="./../../images/smallbits_small_docs.png" alt="Puppet docs download"></a>
                      </div>
                      <div style="margin-top: 0; padding-bottom: 10px;">
                          <p style="font-family: 'Lucida Grande',Lucida,Verdana,sans-serif;font-size: 16px; font-weight: bold; line-height: 22px; margin-bottom: 10px;">Download Puppet Enterprise</p>
                          <a href="http://info.puppetlabs.com/download-pe.html"><img src="./../../images/puppet_cert_home.jpg" alt="Puppet Enterprise promo"></a>
                      </div>
                  </div>
            </nav>
          </div>
        </div>
      </section>

		<footer id="footer">
      <div class="site-width">

        <div class="primary-secondary-content">
          <div class="primary-content">
            <section id="newsletter">
                 <h4>Puppet Labs is Hiring</h4>
                 <p><a href="http://www.puppetlabs.com/company/jobs/">Engineers, developers & consultants</a>
                  <p>
		<h4>Newsletter</h4>

              <p>Stay up to date on all things puppet</p>

				<form class="lpeRegForm formNotEmpty" method="post" enctype="application/x-www-form-urlencoded" action="http://info.puppetlabs.com/index.php/leadCapture/save"; id="mktForm_1013" name="mktForm_1013">

				<label>Email Address:</label><span class='mktInput'><input class='mktFormText mktFormEmail' name="Email" id="Email" type='text' value="" maxlength='255'  /><span class='mktFormMsg'></span></span>

				<input id='mktFrmSubmit' type='submit' class='btn' style="width: auto; overflow: visible; padding-left: .25em; padding-right: .25em;" value='Subscribe' name='submitButton' onclick='formSubmit(document.getElementById("mktForm_1013")); return false;' />

				<input style='display: none;' id='mktFrmReset' type='reset' value='Clear' name='resetButton' onclick='formReset(document.getElementById("mktForm_1013")); return false;' />

				<span style="display:none;"><input type="text" name="_marketo_comments" value="" /></span>
				<input type="hidden" name="lpId" value="-1" />
				<input type="hidden" name="subId" value="100" />

				<input type="hidden" name="kw" value="" />
				<input type="hidden" name="cr" value="" />

				<input type="hidden" name="searchstr" value="" />
				<input type="hidden" name="lpurl" value="http://info.puppetlabs.com/testsubscription.html?cr={creative}&kw={keyword}"; />
				<input type="hidden" name="formid" value="1013" />
				<input type="hidden" name="returnURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="retURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="_mkt_disp" value="return" />
				<input type="hidden" name="_mkt_trk" value="" />

				</form>
				<script type="text/javascript" src="http://info.puppetlabs.com/js/mktFormSupport.js"></script>

				<script type="text/javascript">
				function formSubmit(elt) {
				return Mkto.formSubmit(elt);
				}
				function formReset(elt) {
				return Mkto.formReset(elt);
				}
				</script>

<a href="http://info.puppetlabs.com/puppet-enterprise" class="fbtn">Try Puppet Enterprise FREE</a>

            </section>
            <section id="elsewhere">
              <h4>Get Involved</h4>
              <ul>

                <li class="chat"><a href="http://webchat.freenode.net/?channels=puppet" rel="external"><span class="indicator"></span><span>Chat with us on IRC</span></a></li>
		<li class="discussion"><a href="http://groups.google.com/group/puppet-dev" rel="external"><span class="indicator"></span><span>Join the Puppet Developer List</span></a></li>
                <li class="discussion"><a href="http://groups.google.com/group/puppet-users?pli=1" rel="external"><span class="indicator"></span><span>Join the Puppet User List</span></a></li>

                <li class="linkedin"><a href="http://www.linkedin.com/groups?about=&gid=696467&trk=anet_ug_grppro" rel="external"><span class="indicator"></span><span>Join the Puppet Users LinkedIn group</span></a></li>

              </ul>
		<p>
		              		<h4>Follow us&#8230;</h4>

              		<ul class="followus">


			<li><a href="http://feeds.feedburner.com/PuppetLabs" target="_blank"><img src="http://www.puppetlabs.com/wp-content/plugins/my-profiles/images/rss.png" border="0"></a></li>
			<li><a href="http://www.facebook.com/pages/Puppet-Labs/219089920711" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/facebook.png" border="0"></a></li>
			<li><a href="http://www.twitter.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/twitter.png" border="0"></a></li>
			<li><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/LinkedIn_IN_Icon_32px.png" border="0"></a></li>    <li><a href="https://github.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/github_icon.png" border="0"></a></li>
			<li><a href="https://plus.google.com/112682055028218091774?rel=author" target="_blank"><img src="https://puppetlabs.com/wp-content/uploads/2013/05/google_plus32x32.png" alt="Find Us on Google+" border="0"></a></li>
					</ul>

              	</p>

            </section>
          </div>
          <div class="secondary-content">
            <section id="book-it">
              <h4>Get the book!</h4>

              <p>James Turnbull and Jeff McCune's book <a href="http://www.apress.com/9781430230571" rel="nofollow">Pro Puppet</a> is a comprehensive and up-to-date look at Puppet and MCollective. </p>
              <a href="http://www.apress.com/9781430230571" rel="nofollow"><img src="http://www.puppetlabs.com/wp-content/uploads/2011/05/propuppetthumb.png" /></a>
            </section>
          </div>
        </div>
      </div>
		</footer>

    <div id="copyright">
      <div class="site-width">
        &copy; 2011 <a href="http://www.puppetlabs.com/" title="Puppet Labs">Puppet Labs</a>
        <span class="vcard">
         <span class="org"></span>
         <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>

          <span class="adr">
           <span class="street-address">926 NW 13th Avenue #210</span>
           /
           <span class="locality">Portland</span>,
           <span class="region">OR</span>
           <span class="postal-code">97209</span>

          </span>

         <span class="tel">1-877-575-9775</span>
        </span>
      </div>
    </div>

  	<script type="text/javascript">Cufon.now();</script>
  	<style type="text/css">h1, h2, .btn { visibility : visible; }</style>


	</body>
</html>
