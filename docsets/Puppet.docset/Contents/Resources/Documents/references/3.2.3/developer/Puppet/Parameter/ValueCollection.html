<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" xml:lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=c" />
<title>
  Class: Puppet::Parameter::ValueCollection
  
    &#8212; Documentation by YARD 0.8.4.1
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8"><![CDATA[<![CDATA[<![CDATA[
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
]]]]]]><![CDATA[><![CDATA[>]]]]><![CDATA[>]]></script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (V)</a> &#187;
    <span class="title"><span class="object_link">Puppet</span></span> &#187; <span class="title"><span class="object_link"><a href="../Parameter.html" title="Puppet::Parameter (class)">Parameter</a></span></span>
     &#187; 
    <span class="title">ValueCollection</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link" href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link" href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link" href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Puppet::Parameter::ValueCollection
  
  
  <span class="private note title">Private</span>
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class="object_link">Object</span></span>
      
        <ul class="fullTree">
          <li><span class="object_link">Object</span></li>
          
            <li class="next">Puppet::Parameter::ValueCollection</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/puppet/parameter/value_collection.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This class is part of a private API.</strong>
  You should avoid using this class if possible, as it may be removed or be changed in the future.
</p>

  <div class="note notetag">
    <strong>Note:</strong>
    <div class="inline"><p>This class is considered part of the internal implementation of <span class="object_link"><a href="../Parameter.html" title="Puppet::Parameter (class)">Puppet::Parameter</a></span>, and
<span class="object_link"><a href="../Property.html" title="Puppet::Property (class)">Puppet::Property</a></span> and the functionality provided by this class should be used via their interfaces.</p>
</div>
  </div>

<p>A collection of values and regular expressions, used for specifying allowed values
in a given parameter.</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#aliasvalue-instance_method" title="#aliasvalue (instance method)">- <strong>aliasvalue</strong>(name, other) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Aliases the given existing <em>other</em> value with the additional given <em>name</em>.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#doc-instance_method" title="#doc (instance method)">- (String) <strong>doc</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Returns a doc string (enumerating the acceptable values) for all of the values in this parameter/property.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#empty%3F-instance_method" title="#empty? (instance method)">- (Boolean) <strong>empty?</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Returns whether the set of allowed values is empty or not.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">- (ValueCollection) <strong>initialize</strong> </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>A new instance of ValueCollection.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#match%3F-instance_method" title="#match? (instance method)">- (Puppet::Parameter::Value<sup>?</sup>) <strong>match?</strong>(test_value) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Checks if the given value is acceptable (matches one of the literal values or patterns) and returns
the &#8220;matcher&#8221; that matched.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#munge-instance_method" title="#munge (instance method)">- (Object) <strong>munge</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Munges the value if it is valid, else produces the same value.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#newvalue-instance_method" title="#newvalue (instance method)">- (Object) <strong>newvalue</strong>(name, options = {}, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Defines a new valid value for a <span class="object_link"><a href="../Property.html" title="Puppet::Property (class)">Puppet::Property</a></span>.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#newvalues-instance_method" title="#newvalues (instance method)">- <strong>newvalues</strong>(*names) </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">DSL</span>
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Defines one or more valid values (literal or regexp) for a parameter or property.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#regexes-instance_method" title="#regexes (instance method)">- (Array&lt;String&gt;) <strong>regexes</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>An array of the regular expressions in string form, configured as matching valid values.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#validate-instance_method" title="#validate (instance method)">- <strong>validate</strong>(value) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Validates the given value against the set of valid literal values and regular expressions.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#value-instance_method" title="#value (instance method)">- (Puppet::Parameter::Value) <strong>value</strong>(name) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Returns a valid value matcher (a literal or regular expression).</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#values-instance_method" title="#values (instance method)">- (Array&lt;Symbol&gt;) <strong>values</strong> </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class="inline"><p>Returns a list of valid literal values.</p>
</div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    - (<tt><span class="object_link"><a href="" title="Puppet::Parameter::ValueCollection (class)">ValueCollection</a></span></tt>) <strong>initialize</strong> &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>A new instance of ValueCollection</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


61
62
63
64
65
66
67
68
69</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 61</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_initialize identifier id">initialize</span>
  <span class="comment val"># We often look values up by name, so a hash makes more sense.</span>
  <span class="rubyid_@values ivar id">@values</span> <span class="assign token">=</span> <span class="lbrace token">{</span><span class="rbrace token">}</span>

  <span class="comment val"># However, we want to retain the ability to match values in order,</span>
  <span class="comment val"># but we always prefer directly equality (i.e., strings) over regex matches.</span>
  <span class="rubyid_@regexes ivar id">@regexes</span> <span class="assign token">=</span> <span class="lbrack token">[</span><span class="rbrack token">]</span>
  <span class="rubyid_@strings ivar id">@strings</span> <span class="assign token">=</span> <span class="lbrack token">[</span><span class="rbrack token">]</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="aliasvalue-instance_method">
  
    - <strong>aliasvalue</strong>(name, other) &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>Aliases the given existing <em>other</em> value with the additional given <em>name</em>.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


19
20
21
22
23
24
25
26</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 19</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_aliasvalue identifier id">aliasvalue</span><span class="lparen token">(</span><span class="rubyid_name identifier id">name</span><span class="comma token">,</span> <span class="rubyid_other identifier id">other</span><span class="rparen token">)</span>
  <span class="rubyid_other identifier id">other</span> <span class="assign token">=</span> <span class="rubyid_other identifier id">other</span><span class="dot token">.</span><span class="rubyid_to_sym identifier id">to_sym</span>
  <span class="rubyid_unless unless kw">unless</span> <span class="rubyid_value identifier id">value</span> <span class="assign token">=</span> <span class="rubyid_match? fid id">match?</span><span class="lparen token">(</span><span class="rubyid_other identifier id">other</span><span class="rparen token">)</span>
    <span class="rubyid_raise identifier id">raise</span> <span class="rubyid_Puppet constant id">Puppet</span><span class="colon2 op">::</span><span class="rubyid_DevError constant id">DevError</span><span class="comma token">,</span> <span class="dstring node">"Cannot alias nonexistent value #{other}"</span>
  <span class="rubyid_end end kw">end</span>

  <span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_alias identifier id">alias</span><span class="lparen token">(</span><span class="rubyid_name identifier id">name</span><span class="rparen token">)</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="doc-instance_method">
  
    - (<tt><span class="object_link">String</span></tt>) <strong>doc</strong> &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns a doc string (enumerating the acceptable values) for all of the values in this parameter/property.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt><span class="object_link">String</span></tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>a documentation string.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 32</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_doc identifier id">doc</span>
  <span class="rubyid_unless unless kw">unless</span> <span class="rubyid_defined? defined kw">defined?</span><span class="lparen token">(</span><span class="rubyid_@doc ivar id">@doc</span><span class="rparen token">)</span>
    <span class="rubyid_@doc ivar id">@doc</span> <span class="assign token">=</span> <span class="string val">""</span>
    <span class="rubyid_unless unless kw">unless</span> <span class="rubyid_values identifier id">values</span><span class="dot token">.</span><span class="rubyid_empty? fid id">empty?</span>
      <span class="rubyid_@doc ivar id">@doc</span> <span class="opasgn op">+=</span> <span class="string val">"  Valid values are "</span>
      <span class="rubyid_@doc ivar id">@doc</span> <span class="opasgn op">+=</span> <span class="rubyid_@strings ivar id">@strings</span><span class="dot token">.</span><span class="rubyid_collect identifier id">collect</span> <span class="rubyid_do do kw">do</span> <span class="bitor op">|</span><span class="rubyid_value identifier id">value</span><span class="bitor op">|</span>
        <span class="rubyid_if if kw">if</span> <span class="rubyid_aliases identifier id">aliases</span> <span class="assign token">=</span> <span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_aliases identifier id">aliases</span> <span class="rubyid_and and kw">and</span> <span class="notop op">!</span> <span class="rubyid_aliases identifier id">aliases</span><span class="dot token">.</span><span class="rubyid_empty? fid id">empty?</span>
          <span class="dstring node">"`#{value.name}` (also called `#{aliases.join(", ")}`)"</span>
        <span class="rubyid_else else kw">else</span>
          <span class="dstring node">"`#{value.name}`"</span>
        <span class="rubyid_end end kw">end</span>
      <span class="rubyid_end end kw">end</span><span class="dot token">.</span><span class="rubyid_join identifier id">join</span><span class="lparen token">(</span><span class="string val">", "</span><span class="rparen token">)</span> <span class="plus op">+</span> <span class="string val">"."</span>
    <span class="rubyid_end end kw">end</span>

    <span class="rubyid_@doc ivar id">@doc</span> <span class="opasgn op">+=</span> <span class="string val">"  Values can match `"</span> <span class="plus op">+</span> <span class="rubyid_regexes identifier id">regexes</span><span class="dot token">.</span><span class="rubyid_join identifier id">join</span><span class="lparen token">(</span><span class="string val">"`, `"</span><span class="rparen token">)</span> <span class="plus op">+</span> <span class="string val">"`."</span> <span class="rubyid_unless unless_mod kw">unless</span> <span class="rubyid_regexes identifier id">regexes</span><span class="dot token">.</span><span class="rubyid_empty? fid id">empty?</span>
  <span class="rubyid_end end kw">end</span>

  <span class="rubyid_@doc ivar id">@doc</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="empty?-instance_method">
  
    - (<tt>Boolean</tt>) <strong>empty?</strong> &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns whether the set of allowed values is empty or not.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt>Boolean</tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>Returns whether the set of allowed values is empty or not.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 55</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_empty? fid id">empty?</span>
  <span class="rubyid_@values ivar id">@values</span><span class="dot token">.</span><span class="rubyid_empty? fid id">empty?</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="match?-instance_method">
  
    - (<tt><span class="object_link"><a href="Value.html" title="Puppet::Parameter::Value (class)">Puppet::Parameter::Value</a></span></tt><sup>?</sup>) <strong>match?</strong>(test_value) &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Checks if the given value is acceptable (matches one of the literal values or patterns) and returns
the &#8220;matcher&#8221; that matched.
Literal string matchers are tested first, if both a literal and a regexp match would match, the literal
match wins.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class="name">test_value</span>
      
      
        <span class="type">(<tt><span class="object_link">Object</span></tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>the value to test if it complies with the configured rules</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt><span class="object_link"><a href="Value.html" title="Puppet::Parameter::Value (class)">Puppet::Parameter::Value</a></span></tt>, <tt>nil</tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>The instance of Puppet::Parameter::Value that matched the given value, or nil if there was no match.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


80
81
82
83
84
85
86
87
88</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 80</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_match? fid id">match?</span><span class="lparen token">(</span><span class="rubyid_test_value identifier id">test_value</span><span class="rparen token">)</span>
  <span class="comment val"># First look for normal values</span>
  <span class="rubyid_if if kw">if</span> <span class="rubyid_value identifier id">value</span> <span class="assign token">=</span> <span class="rubyid_@strings ivar id">@strings</span><span class="dot token">.</span><span class="rubyid_find identifier id">find</span> <span class="lbrace token">{</span> <span class="bitor op">|</span><span class="rubyid_v identifier id">v</span><span class="bitor op">|</span> <span class="rubyid_v identifier id">v</span><span class="dot token">.</span><span class="rubyid_match? fid id">match?</span><span class="lparen token">(</span><span class="rubyid_test_value identifier id">test_value</span><span class="rparen token">)</span> <span class="rbrace token">}</span>
    <span class="rubyid_return return kw">return</span> <span class="rubyid_value identifier id">value</span>
  <span class="rubyid_end end kw">end</span>

  <span class="comment val"># Then look for a regex match</span>
  <span class="rubyid_@regexes ivar id">@regexes</span><span class="dot token">.</span><span class="rubyid_find identifier id">find</span> <span class="lbrace token">{</span> <span class="bitor op">|</span><span class="rubyid_v identifier id">v</span><span class="bitor op">|</span> <span class="rubyid_v identifier id">v</span><span class="dot token">.</span><span class="rubyid_match? fid id">match?</span><span class="lparen token">(</span><span class="rubyid_test_value identifier id">test_value</span><span class="rparen token">)</span> <span class="rbrace token">}</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="munge-instance_method">
  
    - (<tt><span class="object_link">Object</span></tt>) <strong>munge</strong>(value) &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class="inline"><p>This method does not seem to do any munging. It just returns the value if it matches the
regexp, or the (most likely Symbolic) allowed value if it matches (which is more of a replacement
of one instance with an equal one. Is the intent that this method should be specialized?</p>
</div>
  </div>

<p>Munges the value if it is valid, else produces the same value.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class="name">value</span>
      
      
        <span class="type">(<tt><span class="object_link">Object</span></tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>the value to munge</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt><span class="object_link">Object</span></tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>the munged value, or the given value</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


98
99
100
101
102
103
104
105
106
107
108
109
110</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 98</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_munge identifier id">munge</span><span class="lparen token">(</span><span class="rubyid_value identifier id">value</span><span class="rparen token">)</span>
  <span class="rubyid_return return kw">return</span> <span class="rubyid_value identifier id">value</span> <span class="rubyid_if if_mod kw">if</span> <span class="rubyid_empty? fid id">empty?</span>

  <span class="rubyid_if if kw">if</span> <span class="rubyid_instance identifier id">instance</span> <span class="assign token">=</span> <span class="rubyid_match? fid id">match?</span><span class="lparen token">(</span><span class="rubyid_value identifier id">value</span><span class="rparen token">)</span>
    <span class="rubyid_if if kw">if</span> <span class="rubyid_instance identifier id">instance</span><span class="dot token">.</span><span class="rubyid_regex? fid id">regex?</span>
      <span class="rubyid_return return kw">return</span> <span class="rubyid_value identifier id">value</span>
    <span class="rubyid_else else kw">else</span>
      <span class="rubyid_return return kw">return</span> <span class="rubyid_instance identifier id">instance</span><span class="dot token">.</span><span class="rubyid_name identifier id">name</span>
    <span class="rubyid_end end kw">end</span>
  <span class="rubyid_else else kw">else</span>
    <span class="rubyid_return return kw">return</span> <span class="rubyid_value identifier id">value</span>
  <span class="rubyid_end end kw">end</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="newvalue-instance_method">
  
    - (<tt><span class="object_link">Object</span></tt>) <strong>newvalue</strong>(name, options = {}, &amp;block) &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class="inline"><p>Option :event original comment says &#8220;event should be returned&#8230;&#8221;, is &#8220;returned&#8221; the correct word
to use?</p>
</div>
  </div>

<p>Defines a new valid value for a <span class="object_link"><a href="../Property.html" title="Puppet::Property (class)">Puppet::Property</a></span>.
A valid value is specified as a literal (typically a Symbol), but can also be
specified with a regexp.</p>


  </div>
</div>
<div class="tags">
  <p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class="name">name</span>
      
      
        <span class="type">(<tt><span class="object_link">Symbol</span></tt>, <tt><span class="object_link">Regexp</span></tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>a valid literal value, or a regexp that matches a value</p>
</div>
      
    </li>
  
    <li>
      
        <span class="name">options</span>
      
      
        <span class="type">(<tt><span class="object_link">Hash</span></tt>)</span>
      
      
        <em class="default">(defaults to: <tt>{}</tt>)</em>
      
      
        &#8212;
        <div class="inline"><p>a hash with options</p>
</div>
      
    </li>
  
</ul>

  
    
    
    
    
    <p class="tag_title">Options Hash (<tt>options</tt>):</p>
    <ul class="option">
      
        <li>
          <span class="name">:event</span>
          <span class="type">(<tt><span class="object_link">Symbol</span></tt>)</span>
          <span class="default">
            
          </span>
          
            &#8212; <div class="inline"><p>The event that should be emitted when this value is set.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:call</span>
          <span class="type">(<tt><span class="object_link">Symbol</span></tt>)</span>
          <span class="default">
            
          </span>
          
            &#8212; <div class="inline"><p>When to call any associated block. The default value is <code>:instead</code> which
means that the block should be called instead of the provider. In earlier versions (before 20081031) it
was possible to specify a value of <code>:before</code> or <code>:after</code> for the purpose of calling
both the block and the provider. Use of these deprecated options will now raise an exception later
in the process when the <em>is</em> value is set (see Puppet::Property#set).</p>
</div>
          
        </li>
      
        <li>
          <span class="name">:invalidate_refreshes</span>
          <span class="type">(<tt><span class="object_link">Symbol</span></tt>)</span>
          <span class="default">
            
          </span>
          
            &#8212; <div class="inline"><p>True if a change on this property should invalidate and
remove any scheduled refreshes (from notify or subscribe) targeted at the same resource. For example, if
a change in this property takes into account any changes that a scheduled refresh would have performed,
then the scheduled refresh would be deleted.</p>
</div>
          
        </li>
      
        <li>
          <span class="name">_any_</span>
          <span class="type">(<tt><span class="object_link">Object</span></tt>)</span>
          <span class="default">
            
          </span>
          
            &#8212; <div class="inline"><p>Any other option is treated as a call to a setter having the given
option name (e.g. <code>:required_features</code> calls <code>required_features=</code> with the option&#8217;s value as an
argument).</p>
</div>
          
        </li>
      
    </ul>
  
    
    


</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


135
136
137
138
139
140
141
142
143
144
145
146
147
148
149
150
151
152
153
154</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 135</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_newvalue identifier id">newvalue</span><span class="lparen token">(</span><span class="rubyid_name identifier id">name</span><span class="comma token">,</span> <span class="rubyid_options identifier id">options</span> <span class="assign token">=</span> <span class="lbrace token">{</span><span class="rbrace token">}</span><span class="comma token">,</span> <span class="bitand op">&amp;</span><span class="rubyid_block identifier id">block</span><span class="rparen token">)</span>
  <span class="rubyid_value identifier id">value</span> <span class="assign token">=</span> <span class="rubyid_Puppet constant id">Puppet</span><span class="colon2 op">::</span><span class="rubyid_Parameter constant id">Parameter</span><span class="colon2 op">::</span><span class="rubyid_Value constant id">Value</span><span class="dot token">.</span><span class="rubyid_new identifier id">new</span><span class="lparen token">(</span><span class="rubyid_name identifier id">name</span><span class="rparen token">)</span>
  <span class="rubyid_@values ivar id">@values</span><span class="lbrack token">[</span><span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_name identifier id">name</span><span class="rbrack token">]</span> <span class="assign token">=</span> <span class="rubyid_value identifier id">value</span>
  <span class="rubyid_if if kw">if</span> <span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_regex? fid id">regex?</span>
    <span class="rubyid_@regexes ivar id">@regexes</span> <span class="lshft op">&lt;&lt;</span> <span class="rubyid_value identifier id">value</span>
  <span class="rubyid_else else kw">else</span>
    <span class="rubyid_@strings ivar id">@strings</span> <span class="lshft op">&lt;&lt;</span> <span class="rubyid_value identifier id">value</span>
  <span class="rubyid_end end kw">end</span>

  <span class="rubyid_options identifier id">options</span><span class="dot token">.</span><span class="rubyid_each identifier id">each</span> <span class="lbrace token">{</span> <span class="bitor op">|</span><span class="rubyid_opt identifier id">opt</span><span class="comma token">,</span> <span class="rubyid_arg identifier id">arg</span><span class="bitor op">|</span> <span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_send identifier id">send</span><span class="lparen token">(</span><span class="rubyid_opt identifier id">opt</span><span class="dot token">.</span><span class="rubyid_to_s identifier id">to_s</span> <span class="plus op">+</span> <span class="string val">"="</span><span class="comma token">,</span> <span class="rubyid_arg identifier id">arg</span><span class="rparen token">)</span> <span class="rbrace token">}</span>
  <span class="rubyid_if if kw">if</span> <span class="rubyid_block_given? fid id">block_given?</span>
    <span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_block identifier id">block</span> <span class="assign token">=</span> <span class="rubyid_block identifier id">block</span>
  <span class="rubyid_else else kw">else</span>
    <span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_call identifier id">call</span> <span class="assign token">=</span> <span class="rubyid_options identifier id">options</span><span class="lbrack token">[</span><span class="symbol val">:call</span><span class="rbrack token">]</span> <span class="orop op">||</span> <span class="symbol val">:none</span>
  <span class="rubyid_end end kw">end</span>

  <span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_method identifier id">method</span> <span class="opasgn op">||=</span> <span class="dstring node">"set_#{value.name}"</span> <span class="rubyid_if if_mod kw">if</span> <span class="rubyid_block_given? fid id">block_given?</span> <span class="rubyid_and and kw">and</span> <span class="notop op">!</span> <span class="rubyid_value identifier id">value</span><span class="dot token">.</span><span class="rubyid_regex? fid id">regex?</span>

  <span class="rubyid_value identifier id">value</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="newvalues-instance_method">
  
    - <strong>newvalues</strong>(*names) &#160;<span class="private note title">private</span><span class="note title readonly">DSL</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>Defines one or more valid values (literal or regexp) for a parameter or property.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">DSL:</p>
<ul class="dsl">
  
    <li>
      
      
      
      
        
        <div class="inline"><p>type</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


161
162
163</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 161</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_newvalues identifier id">newvalues</span><span class="lparen token">(</span><span class="mult op">*</span><span class="rubyid_names identifier id">names</span><span class="rparen token">)</span>
  <span class="rubyid_names identifier id">names</span><span class="dot token">.</span><span class="rubyid_each identifier id">each</span> <span class="lbrace token">{</span> <span class="bitor op">|</span><span class="rubyid_name identifier id">name</span><span class="bitor op">|</span> <span class="rubyid_newvalue identifier id">newvalue</span><span class="lparen token">(</span><span class="rubyid_name identifier id">name</span><span class="rparen token">)</span> <span class="rbrace token">}</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="regexes-instance_method">
  
    - (<tt><span class="object_link">Array</span>&lt;<span class="object_link">String</span>&gt;</tt>) <strong>regexes</strong> &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>An array of the regular expressions in string form, configured as matching valid values.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt><span class="object_link">Array</span>&lt;<span class="object_link">String</span>&gt;</tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>An array of the regular expressions in string form, configured as matching valid values.</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


168
169
170</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 168</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_regexes identifier id">regexes</span>
  <span class="rubyid_@regexes ivar id">@regexes</span><span class="dot token">.</span><span class="rubyid_collect identifier id">collect</span> <span class="lbrace token">{</span> <span class="bitor op">|</span><span class="rubyid_r identifier id">r</span><span class="bitor op">|</span> <span class="rubyid_r identifier id">r</span><span class="dot token">.</span><span class="rubyid_name identifier id">name</span><span class="dot token">.</span><span class="rubyid_inspect identifier id">inspect</span> <span class="rbrace token">}</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="validate-instance_method">
  
    - <strong>validate</strong>(value) &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p class="note returns_void">This method returns an undefined value.</p><p>Validates the given value against the set of valid literal values and regular expressions.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Raises:</p>
<ul class="raise">
  
    <li>
      
      
        <span class="type">(<tt>ArgumentError</tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>if the value is not accepted</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


177
178
179
180
181
182
183
184
185
186
187
188
189</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 177</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_validate identifier id">validate</span><span class="lparen token">(</span><span class="rubyid_value identifier id">value</span><span class="rparen token">)</span>
  <span class="rubyid_return return kw">return</span> <span class="rubyid_if if_mod kw">if</span> <span class="rubyid_empty? fid id">empty?</span>

  <span class="rubyid_unless unless kw">unless</span> <span class="rubyid_@values ivar id">@values</span><span class="dot token">.</span><span class="rubyid_detect identifier id">detect</span> <span class="lbrace token">{</span> <span class="bitor op">|</span><span class="rubyid_name identifier id">name</span><span class="comma token">,</span> <span class="rubyid_v identifier id">v</span><span class="bitor op">|</span> <span class="rubyid_v identifier id">v</span><span class="dot token">.</span><span class="rubyid_match? fid id">match?</span><span class="lparen token">(</span><span class="rubyid_value identifier id">value</span><span class="rparen token">)</span> <span class="rbrace token">}</span>
    <span class="rubyid_str identifier id">str</span> <span class="assign token">=</span> <span class="dstring node">"Invalid value #{value.inspect}. "</span>

    <span class="rubyid_str identifier id">str</span> <span class="opasgn op">+=</span> <span class="dstring node">"Valid values are #{values.join(", ")}. "</span> <span class="rubyid_unless unless_mod kw">unless</span> <span class="rubyid_values identifier id">values</span><span class="dot token">.</span><span class="rubyid_empty? fid id">empty?</span>

    <span class="rubyid_str identifier id">str</span> <span class="opasgn op">+=</span> <span class="dstring node">"Valid values match #{regexes.join(", ")}."</span> <span class="rubyid_unless unless_mod kw">unless</span> <span class="rubyid_regexes identifier id">regexes</span><span class="dot token">.</span><span class="rubyid_empty? fid id">empty?</span>

    <span class="rubyid_raise identifier id">raise</span> <span class="rubyid_ArgumentError constant id">ArgumentError</span><span class="comma token">,</span> <span class="rubyid_str identifier id">str</span>
  <span class="rubyid_end end kw">end</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="value-instance_method">
  
    - (<tt><span class="object_link"><a href="Value.html" title="Puppet::Parameter::Value (class)">Puppet::Parameter::Value</a></span></tt>) <strong>value</strong>(name) &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class="inline"><p>This looks odd, asking for an instance that matches a symbol, or a instance that has
a regexp. What is the intention here? Marking as api private&#8230;</p>
</div>
  </div>

<p>Returns a valid value matcher (a literal or regular expression)</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt><span class="object_link"><a href="Value.html" title="Puppet::Parameter::Value (class)">Puppet::Parameter::Value</a></span></tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>a valid valud matcher</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


198
199
200</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 198</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_value identifier id">value</span><span class="lparen token">(</span><span class="rubyid_name identifier id">name</span><span class="rparen token">)</span>
  <span class="rubyid_@values ivar id">@values</span><span class="lbrack token">[</span><span class="rubyid_name identifier id">name</span><span class="rbrack token">]</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="values-instance_method">
  
    - (<tt><span class="object_link">Array</span>&lt;<span class="object_link">Symbol</span>&gt;</tt>) <strong>values</strong> &#160;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Returns a list of valid literal values.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class="type">(<tt><span class="object_link">Array</span>&lt;<span class="object_link">Symbol</span>&gt;</tt>)</span>
      
      
      
        &#8212;
        <div class="inline"><p>Returns a list of valid literal values.</p>
</div>
      
    </li>
  
</ul>

  <p class="tag_title">See Also:</p>
  <ul class="see">
    
      <li>regexes</li>
    
  </ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


206
207
208</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/parameter/value_collection.rb', line 206</span>

<span class="rubyid_def def kw">def</span> <span class="rubyid_values identifier id">values</span>
  <span class="rubyid_@strings ivar id">@strings</span><span class="dot token">.</span><span class="rubyid_collect identifier id">collect</span> <span class="lbrace token">{</span> <span class="bitor op">|</span><span class="rubyid_s identifier id">s</span><span class="bitor op">|</span> <span class="rubyid_s identifier id">s</span><span class="dot token">.</span><span class="rubyid_name identifier id">name</span> <span class="rbrace token">}</span>
<span class="rubyid_end end kw">end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jul 11 16:52:29 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.4.1 (ruby-1.8.7).
</div>

  </body>
</html>
