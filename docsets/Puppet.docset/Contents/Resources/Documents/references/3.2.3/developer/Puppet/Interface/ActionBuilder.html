<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=c" />
<title>
  Class: Puppet::Interface::ActionBuilder
  
    &mdash; Documentation by YARD 0.8.4.1
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" media="screen" charset="utf-8" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" media="screen" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '../../';
  framesUrl = "../../frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="../../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'>Puppet</span></span> &raquo; <span class='title'><span class='object_link'><a href="../Interface.html" title="Puppet::Interface (class)">Interface</a></span></span>
     &raquo; 
    <span class="title">ActionBuilder</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="../../method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="../../file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><h1>Class: Puppet::Interface::ActionBuilder
  
  
  
</h1>

<dl class="box">
  
    <dt class="r1">Inherits:</dt>
    <dd class="r1">
      <span class="inheritName"><span class='object_link'>Object</span></span>
      
        <ul class="fullTree">
          <li><span class='object_link'>Object</span></li>
          
            <li class="next">Puppet::Interface::ActionBuilder</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
      </dd>
    
  
  
    
  
    
  
  
  
    <dt class="r2 last">Defined in:</dt>
    <dd class="r2 last">lib/puppet/interface/action_builder.rb</dd>
  
</dl>
<div class="clear"></div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    <p>This class is used to build <span class='object_link'><a href="Action.html" title="Puppet::Interface::Action (class)">actions</a></span>.
When an action is defined with
<span class='object_link'><a href="ActionManager.html#action-instance_method" title="Puppet::Interface::ActionManager#action (method)">Puppet::Interface::ActionManager#action</a></span> the block is evaluated
within the context of a new instance of this class.</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small>(<a href="#" class="summary_toggle">collapse</a>)</small></h2>
  <ul class="summary">
    
      
<li class="public ">
  <span class="summary_signature">
    
      <a href="#action-instance_method" title="#action (instance method)">- (Puppet::Interface::Action) <strong>action</strong> </a>
    

    
  </span>
  
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>The action under construction.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Class Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#build-class_method" title="build (class method)">+ (Puppet::Interface::Action) <strong>build</strong>(face, name, &amp;block) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Builds a new action.</p>
</div></span>
  
</li>

      
    </ul>
  
    <h2>
      Instance Method Summary
      <small>(<a href="#" class="summary_toggle">collapse</a>)</small>
    </h2>

    <ul class="summary">
      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#default-instance_method" title="#default (instance method)">- <strong>default</strong>(value = true) </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">DSL</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Set this as the default action for the face.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#display_global_options-instance_method" title="#display_global_options (instance method)">- (Object) <strong>display_global_options</strong>(*args) </a>
    

    
      (also: #display_global_option)
    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#option-instance_method" title="#option (instance method)">- (Object) <strong>option</strong>(*declaration, &amp;block) </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">DSL</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Declare that this action can take a specific option, and provide the
code to do so.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#render_as-instance_method" title="#render_as (instance method)">- (Object) <strong>render_as</strong>(value = nil) </a>
    

    
  </span>
  
  
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Sets the default rendering format.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#when_invoked-instance_method" title="#when_invoked (instance method)">- <strong>when_invoked</strong>(&amp;block) </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">DSL</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'><p>Sets what the action does when it is invoked.</p>
</div></span>
  
</li>

      
        
<li class="public ">
  <span class="summary_signature">
    
      <a href="#when_rendering-instance_method" title="#when_rendering (instance method)">- (Object) <strong>when_rendering</strong>(type = nil, &amp;block) </a>
    

    
  </span>
  
  
  
    <span class="note title readonly">DSL</span>
  
  
  
  
  
  <span class="private note title">private</span>

  
    <span class="summary_desc"><div class='inline'><p>Sets a block to be run at the rendering stage, for a specific
rendering type (eg JSON, YAML, console), after the block for
when_invoked gets run.</p>
</div></span>
  
</li>

      
    </ul>
  


  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="action-instance_method">
  
    - (<tt><span class='object_link'><a href="Action.html" title="Puppet::Interface::Action (class)">Puppet::Interface::Action</a></span></tt>) <strong>action</strong>  <span class="extras">(readonly)</span>&nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>The action under construction</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Action.html" title="Puppet::Interface::Action (class)">Puppet::Interface::Action</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


10
11
12</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/interface/action_builder.rb', line 10</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_action identifier id'>action</span>
  <span class='rubyid_@action ivar id'>@action</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="class_method_details" class="method_details_list">
    <h2>Class Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="build-class_method">
  
    + (<tt><span class='object_link'><a href="Action.html" title="Puppet::Interface::Action (class)">Puppet::Interface::Action</a></span></tt>) <strong>build</strong>(face, name, &amp;block) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Builds a new action.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="Action.html" title="Puppet::Interface::Action (class)">Puppet::Interface::Action</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


15
16
17
18</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/interface/action_builder.rb', line 15</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_self self kw'>self</span><span class='dot token'>.</span><span class='rubyid_build identifier id'>build</span><span class='lparen token'>(</span><span class='rubyid_face identifier id'>face</span><span class='comma token'>,</span> <span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_raise identifier id'>raise</span> <span class='dstring node'>&quot;Action #{name.inspect} must specify a block&quot;</span> <span class='rubyid_unless unless_mod kw'>unless</span> <span class='rubyid_block identifier id'>block</span>
  <span class='rubyid_new identifier id'>new</span><span class='lparen token'>(</span><span class='rubyid_face identifier id'>face</span><span class='comma token'>,</span> <span class='rubyid_name identifier id'>name</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span><span class='dot token'>.</span><span class='rubyid_action identifier id'>action</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="default-instance_method">
  
    - <strong>default</strong>(value = true) &nbsp;<span class="note title readonly">DSL</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Set this as the default action for the face.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">DSL:</p>
<ul class="dsl">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>Faces</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


101
102
103</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/interface/action_builder.rb', line 101</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_default identifier id'>default</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span> <span class='assign token'>=</span> <span class='rubyid_true true kw'>true</span><span class='rparen token'>)</span>
  <span class='rubyid_@action ivar id'>@action</span><span class='dot token'>.</span><span class='rubyid_default identifier id'>default</span> <span class='assign token'>=</span> <span class='notop op'>!</span><span class='notop op'>!</span><span class='rubyid_value identifier id'>value</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="display_global_options-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>display_global_options</strong>(*args) &nbsp;<span class="private note title">private</span>
  

  
    <span class="aliases">Also known as:
    <span class="names"><span id='display_global_option-instance_method'>display_global_option</span></span>
    </span>
  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>



  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


106
107
108</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/interface/action_builder.rb', line 106</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_display_global_options identifier id'>display_global_options</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_args identifier id'>args</span><span class='rparen token'>)</span>
  <span class='rubyid_@action ivar id'>@action</span><span class='dot token'>.</span><span class='rubyid_add_display_global_options identifier id'>add_display_global_options</span> <span class='rubyid_args identifier id'>args</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="option-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>option</strong>(*declaration, &amp;block) &nbsp;<span class="note title readonly">DSL</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p>Declare that this action can take a specific option, and provide the
code to do so.  One or more strings are given, in the style of
OptionParser (see example). These strings are parsed to derive a
name for the option. Any <code>-</code> characters within the option name (ie
excluding the intial <code>-</code> or <code>--</code> for an option) will be translated
to <code>_</code>.The first long option will be used as the name, and the rest
are retained as aliases. The original form of the option is used
when invoking the face, the translated form is used internally.</p>

<p>When the action is invoked the value of the option is available in
a hash passed to the <span class='object_link'><a href="#when_invoked-instance_method" title="Puppet::Interface::ActionBuilder#when_invoked (method)">when_invoked</a></span> block, using the option name in symbol form as the
hash key.</p>

<p>The block to this method is used to set attributes for the option
(see <span class='object_link'><a href="OptionBuilder.html" title="Puppet::Interface::OptionBuilder (class)">OptionBuilder</a></span>).</p>


  </div>
</div>
<div class="tags">
  
  <div class="examples">
    <p class="tag_title">Examples:</p>
    
      
        <p class="example_title"><div class='inline'><p>Say hi</p>
</div></p>
      
      <pre class="example code"><code><span class='rubyid_action identifier id'>action</span> <span class='symbol val'>:say_hi</span> <span class='rubyid_do do kw'>do</span>
  <span class='rubyid_option identifier id'>option</span> <span class='string val'>&quot;-u USER&quot;</span><span class='comma token'>,</span> <span class='string val'>&quot;--user-name USER&quot;</span> <span class='rubyid_do do kw'>do</span>
    <span class='rubyid_summary identifier id'>summary</span> <span class='string val'>&quot;Who to say hi to&quot;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_when_invoked identifier id'>when_invoked</span> <span class='rubyid_do do kw'>do</span> <span class='bitor op'>|</span><span class='rubyid_options identifier id'>options</span><span class='bitor op'>|</span>
    <span class='dstring node'>&quot;Hi, #{options[:user_name]}&quot;</span>
  <span class='rubyid_end end kw'>end</span>
<span class='rubyid_end end kw'>end</span>
</code></pre>
    
  </div>
<p class="tag_title">Parameters:</p>
<ul class="param">
  
    <li>
      
        <span class='name'>declaration</span>
      
      
        <span class='type'>(<tt><span class='object_link'>String</span></tt>)</span>
      
      
      
        &mdash;
        <div class='inline'><p>Option declarations, as described above
and in the example.</p>
</div>
      
    </li>
  
</ul>

<p class="tag_title">DSL:</p>
<ul class="dsl">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>Faces</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


92
93
94
95</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/interface/action_builder.rb', line 92</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_option identifier id'>option</span><span class='lparen token'>(</span><span class='mult op'>*</span><span class='rubyid_declaration identifier id'>declaration</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_option identifier id'>option</span> <span class='assign token'>=</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Interface constant id'>Interface</span><span class='colon2 op'>::</span><span class='rubyid_OptionBuilder constant id'>OptionBuilder</span><span class='dot token'>.</span><span class='rubyid_build identifier id'>build</span><span class='lparen token'>(</span><span class='rubyid_@action ivar id'>@action</span><span class='comma token'>,</span> <span class='mult op'>*</span><span class='rubyid_declaration identifier id'>declaration</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_@action ivar id'>@action</span><span class='dot token'>.</span><span class='rubyid_add_option identifier id'>add_option</span><span class='lparen token'>(</span><span class='rubyid_option identifier id'>option</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="render_as-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>render_as</strong>(value = nil) &nbsp;<span class="private note title">private</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>
<p>Sets the default rendering format</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


113
114
115
116
117
118
119
120
121
122</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/interface/action_builder.rb', line 113</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_render_as identifier id'>render_as</span><span class='lparen token'>(</span><span class='rubyid_value identifier id'>value</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='rparen token'>)</span>
  <span class='rubyid_value identifier id'>value</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='rubyid_and and kw'>and</span> <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>&quot;You must give a rendering format to render_as&quot;</span>

  <span class='rubyid_formats identifier id'>formats</span> <span class='assign token'>=</span> <span class='rubyid_Puppet constant id'>Puppet</span><span class='colon2 op'>::</span><span class='rubyid_Network constant id'>Network</span><span class='colon2 op'>::</span><span class='rubyid_FormatHandler constant id'>FormatHandler</span><span class='dot token'>.</span><span class='rubyid_formats identifier id'>formats</span>
  <span class='rubyid_unless unless kw'>unless</span> <span class='rubyid_formats identifier id'>formats</span><span class='dot token'>.</span><span class='rubyid_include? fid id'>include?</span> <span class='rubyid_value identifier id'>value</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='dstring node'>&quot;#{value.inspect} is not a valid rendering format: #{formats.sort.join(&quot;, &quot;)}&quot;</span>
  <span class='rubyid_end end kw'>end</span>

  <span class='rubyid_@action ivar id'>@action</span><span class='dot token'>.</span><span class='rubyid_render_as identifier id'>render_as</span> <span class='assign token'>=</span> <span class='rubyid_value identifier id'>value</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="when_invoked-instance_method">
  
    
      <span class="overload">- <strong>when_invoked</strong>({|options| ... }) &nbsp;<span class="note title readonly">DSL</span></span>
    
      <span class="overload">- <strong>when_invoked</strong>({|arg1, arg2, options| ... }) &nbsp;<span class="note title readonly">DSL</span></span>
    
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note returns_void">This method returns an undefined value.</p><p>Sets what the action does when it is invoked. This takes a block
which will be called when the action is invoked. The action will
accept arguments based on the arity of the block. It should always
take at least one argument for options. Options will be the last
argument.</p>


  </div>
</div>
<div class="tags">
  
  <p class="tag_title">Overloads:</p>
  <ul class="overload">
    
      
      <li class="overload_item">
        <span class="signature">- <strong>when_invoked</strong>({|options| ... }) </span>
        <div class="docstring">
  <div class="discussion">
    <p>An action with no arguments</p>


  </div>
</div>
<div class="tags">
  

</div>
      </li>
    
      
      <li class="overload_item">
        <span class="signature">- <strong>when_invoked</strong>({|arg1, arg2, options| ... }) </span>
        <div class="docstring">
  <div class="discussion">
    <p>An action with two arguments</p>


  </div>
</div>
<div class="tags">
  

</div>
      </li>
    
  </ul>

<p class="tag_title">DSL:</p>
<ul class="dsl">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>Faces</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


37
38
39</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/interface/action_builder.rb', line 37</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_when_invoked identifier id'>when_invoked</span><span class='lparen token'>(</span><span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_@action ivar id'>@action</span><span class='dot token'>.</span><span class='rubyid_when_invoked identifier id'>when_invoked</span> <span class='assign token'>=</span> <span class='rubyid_block identifier id'>block</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="when_rendering-instance_method">
  
    - (<tt><span class='object_link'>Object</span></tt>) <strong>when_rendering</strong>(type = nil, &amp;block) &nbsp;<span class="private note title">private</span><span class="note title readonly">DSL</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    <p class="note private">
  <strong>This method is part of a private API.</strong>
  You should avoid using this method if possible, as it may be removed or be changed in the future.
</p>

  <div class="note todo">
    <strong>TODO:</strong>
    <div class='inline'><p>this needs more</p>
</div>
  </div>

<p>Sets a block to be run at the rendering stage, for a specific
rendering type (eg JSON, YAML, console), after the block for
when_invoked gets run. This manipulates the value returned by the
action. It makes it possible to work around limitations in the
underlying object returned, and should be avoided in favor of
returning a more capable object.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">DSL:</p>
<ul class="dsl">
  
    <li>
      
      
      
      
        
        <div class='inline'><p>Faces</p>
</div>
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


50
51
52
53
54
55
56
57
58</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/puppet/interface/action_builder.rb', line 50</span>

<span class='rubyid_def def kw'>def</span> <span class='rubyid_when_rendering identifier id'>when_rendering</span><span class='lparen token'>(</span><span class='rubyid_type identifier id'>type</span> <span class='assign token'>=</span> <span class='rubyid_nil nil kw'>nil</span><span class='comma token'>,</span> <span class='bitand op'>&amp;</span><span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_type identifier id'>type</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='rubyid_then then kw'>then</span>           <span class='comment val'># the default error message sucks --daniel 2011-04-18</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'You must give a rendering format to when_rendering'</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_if if kw'>if</span> <span class='rubyid_block identifier id'>block</span><span class='dot token'>.</span><span class='rubyid_nil? fid id'>nil?</span> <span class='rubyid_then then kw'>then</span>
    <span class='rubyid_raise identifier id'>raise</span> <span class='rubyid_ArgumentError constant id'>ArgumentError</span><span class='comma token'>,</span> <span class='string val'>'You must give a block to when_rendering'</span>
  <span class='rubyid_end end kw'>end</span>
  <span class='rubyid_@action ivar id'>@action</span><span class='dot token'>.</span><span class='rubyid_set_rendering_method_for identifier id'>set_rendering_method_for</span><span class='lparen token'>(</span><span class='rubyid_type identifier id'>type</span><span class='comma token'>,</span> <span class='rubyid_block identifier id'>block</span><span class='rparen token'>)</span>
<span class='rubyid_end end kw'>end</span>
</pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

    <div id="footer">
  Generated on Thu Jul 11 16:52:28 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.4.1 (ruby-1.8.7).
</div>

  </body>
</html>
