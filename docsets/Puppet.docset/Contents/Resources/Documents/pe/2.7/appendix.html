<!DOCTYPE html>
<html dir="ltr" lang="en-US">
  <head>
  	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  	<title>PE 2.7 » Appendix — Documentation — Puppet Labs</title>
  	<link rel="alternate" type="application/atom+xml" title="Puppet Labs Documentation Updates" href="https://github.com/puppetlabs/puppet-docs/commits/master.atom">
    <link rel="alternate" type="application/atom+xml" title="Puppet Labs Blog Feed" href="http://puppetlabs.com/feed/atom/">
    <link rel='index' title='Puppet Labs Documentation' href='http://docs.puppetlabs.com' />
    <link rel='icon' href='./../../favicon.ico' />


  <meta name="description" content="This page contains additional miscellaneous information about Puppet Enterprise 2.7.Puppet TerminologyFor help with Puppet-specific terms and langu...">



    <!-- FIXME: absolute paths -->

    <script type='text/javascript' src='./../../files/javascripts/html5.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/jquery-1.3.2.min.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/drop_down.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/cufon-yui.js'></script>
    <script type='text/javascript' src='./../../files/fonts/Klavika_400-Klavika_600.font.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/ampersands.js'></script>
    <script type='text/javascript' src='./../../files/javascripts/navigation-accordion.js'></script>

    <script type="text/javascript" src="http://puppetlabs.com/wp-content/themes/puppetlabs/javascripts/leadcapture.js"></script>

    <!-- All in One SEO Pack 1.6.10.1 by Michael Torbert of Semper Fi Web Design[127,146] -->
    <meta name="keywords" content="Puppet, puppet labs, reductive labs, open source, system administrator, ruby, data center, automation, support" />
    <!-- /all in one seo pack -->

    <!-- Give us the option of setting a canonical URL in yaml frontmatter -NF -->
    <link rel="canonical" href="http://docs.puppetlabs.com/pe/latest/appendix.html" />

    <!-- FIXME: absolute paths -->

    <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/style.css" media="screen">
    <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/syntax.css" media="screen"> <!-- index -->
    <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/adbanner.css" media="screen">

    <!--[if IE 7]>
	  <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/ie_7.css" media="screen"> <!-- index -->
    <![endif]-->

    <!--[if IE 8]>
	    <link rel="stylesheet" type="text/css" href="./../../files/stylesheets/ie_8.css" media="screen"> <!-- index -->
    <![endif]-->

  	<script type="text/javascript">
      Cufon.replace('h1, h2', { fontWeight: '600' });
  	</script>
</head>




  <body id="puppetlabsdocs" class="docs">
  <style type="text/css">h1, h2{ visibility : hidden }</style>
  <!--[if IE 8]>
    <style type="text/css">h1, h2{ visibility : visible }</style>
  <![endif]-->

  	<header id="header">
      <div class="site-width">
    		<h1><a href="http://puppetlabs.com/"><span>Puppet Labs</span></a></h1>
        <a class="screen-reader-content" href="#content">Skip navigation</a>
        <nav>
    		<ul id="global-navigation">
          <li id="puppet-tab" class="with-submenu">
            <a href="http://puppetlabs.com/puppet/puppet-enterprise">
              <span>Products</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
			<li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/what-is-puppet/">What is Puppet?</a>
                </ul>
              </li>
			       <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/puppet-enterprise/">Puppet Enterprise</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/whats-new/">What's New in 2.5</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/puppet-open-source/">Puppet Open Source</a>
                </ul>
              </li>
            <li>
                <ul>
                   <a href="http://puppetlabs.com/puppet/enterprise-vs-open-source/">Enterprise vs. Open Source</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://forge.puppetlabs.com">Puppet Forge</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/requirements/">Components &amp; Requirements</a>
                </ul>
              </li>
              <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/faq/">FAQ</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/puppet/how-to-buy/">How to Buy</a>
                </ul>
              </li>
            </ul>
          </li>
          <li id="solutions-tab" class="with-submenu">
            <a href="http://puppetlabs.com/solutions/">
              <span>Solutions</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-12296"><a href="http://puppetlabs.com/solutions/configuration-management/">Configuration Management</a></li>
<li class="page_item page-item-986"><a href="http://puppetlabs.com/solutions/virtualization-management/">Virtualization Management</a></li>
<li class="page_item page-item-993"><a href="http://puppetlabs.com/solutions/cloud-management/">Cloud Management</a></li>
<li class="page_item page-item-996"><a href="http://puppetlabs.com/solutions/it-compliance/">IT Compliance</a></li>
<li class="page_item page-item-9520"><a href="http://puppetlabs.com/solutions/devops/">DevOps</a></li>
<li class="page_item page-item-991"><a href="http://puppetlabs.com/solutions/manage-os-x-resources/">OS X Desktops</a></li>
            </ul>
          </li>
          <li id="services-tab" class="with-submenu">
            <a href="http://puppetlabs.com/services/">
              <span>Services</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-783"><a href="http://puppetlabs.com/services/overview/">Overview</a></li>
<li class="page_item page-item-1052"><a href="http://puppetlabs.com/services/customer-support/">Customer Support</a></li>
<li class="page_item page-item-11022"><a href="http://puppetlabs.com/services/support-plans/">Support Plans</a></li>
<li class="page_item page-item-845"><a href="http://puppetlabs.com/services/training-workshops/">On-Site Education</a></li>
<li class="page_item page-item-4899"><a href="http://puppetlabs.com/services/consulting/">Professional Services</a></li>
<li class="page_item page-item-849"><a href="http://puppetlabs.com/category/events/upcoming/">Events &amp; Workshops</a></li>
<li class="page_item page-item-851"><a href="http://puppetlabs.com/services/partners/">Partners</a></li>
            </ul>
          </li>
                    <li id="resources-tab" class="with-submenu">
            <a href="http://puppetlabs.com/resources/">
              <span>Resources</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-1048"><a href="http://puppetlabs.com/resources/overview-2/">Overview</a></li>
<li class="page_item page-item-1040"><a href="http://docs.puppetlabs.com">Documentation</a></li>
<li class="page_item page-item-872"><a href="http://info.puppetlabs.com/register-download">Downloads</a></li>
<li class="page_item page-item-1961"><a href="http://forge.puppetlabs.com">Puppet Forge</a></li>
<li class="page_item page-item-835"><a href="http://info.puppetlabs.com/download-whitepapers.html">White Papers</a></li>
<li class="page_item page-item-1967"><a href="http://projects.puppetlabs.com/projects/puppet/wiki">Wiki</a></li>
<li class="page_item page-item-7279"><a href="http://puppetlabs.com/resources/webinars/">Upcoming Webinars</a></li>
<li class="page_item page-item-10183"><a href="http://puppetlabs.com/resources/newsletter/">Newsletter</a></li>
<li class="page_item page-item-12263"><a href="http://puppetlabs.com/resources/tech-notes/">Tech Notes</a></li>
<li class="page_item page-item-10265"><a href="http://info.puppetlabs.com/pe2-webinar.html">Webinars</a></li>
            </ul>
          </li>

          <li id="customers-tab" class="with-submenu">
            <a href="http://puppetlabs.com/customers/companies/">
              <span>Customers</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/customers/companies/">Companies</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/case-studies/">Case Studies</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/product-testimonials/">Product Testimonials</a>
                </ul>
              </li>
			    <li>
                <ul>
                  <a href="http://puppetlabs.com/customers/what-customers-are-saying/">Service Testimonials</a>
                </ul>
              </li>
            </ul>
          </li>
          <li id="community-tab" class="with-submenu">
            <a href="http://puppetlabs.com/community/">
              <span>Community</span>
              <span class="drop-down-trigger"></span>
            </a>

 <ul>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/community/overview/">Overview</a>
                </ul>
              </li>
			<li>
                <ul>
                  <a href="http://puppetlabs.com/blog">Blog</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/community/puppet-camp/">Puppet Camp</a>
                </ul>
              </li>
			  <li>
                <ul>
                  <a href="http://puppetlabs.com/community/user-groups-and-devops-groups/">Puppet User Groups & DevOps Groups</a>
                </ul>
              </li>
	          <li>
                <ul>
                  <a href="http://puppetlabs.com/community/presentations/">Presentations</a>
                </ul>
              </li>
			    <li>
                <ul>
                  <a href="http://puppetlabs.com/community/videos/">Videos</a>
                </ul>
              </li>
            </ul>

          <li id="company-tab" class="with-submenu">
            <a href="http://puppetlabs.com/company/">
              <span>Company</span>
              <span class="drop-down-trigger"></span>
            </a>
            <ul>
              <li class="page_item page-item-2316"><a href="http://puppetlabs.com/company/overview/">Overview</a></li>
<li class="page_item page-item-2179"><a href="http://puppetlabs.com/company/news/">News</a>
<ul class='children'>
	<li class="page_item page-item-2338"><a href="http://puppetlabs.com/company/news/press-releases/">Press Releases</a></li>
	<li class="page_item page-item-2383"><a href="http://puppetlabs.com/company/news/media-kit/">Media Kit</a></li>
</ul>
</li>
<li class="page_item page-item-1571"><a href="http://puppetlabs.com/company/careers/">Careers</a></li>
<li class="page_item page-item-10372"><a href="http://puppetlabs.com/company/management/">Management</a></li>
<li class="page_item page-item-10311"><a href="http://puppetlabs.com/company/board-and-advisors/">Board and Advisors</a></li>
<li class="page_item page-item-10367"><a href="http://puppetlabs.com/company/investors/">Investors</a></li>
<li class="page_item page-item-2313"><a href="http://puppetlabs.com/company/contact-us/">Contact Us</a></li>
<li class="page_item page-item-10579"><a href="http://puppetlabs.com/company/awards/">Awards</a></li>
            </ul>
          </li>
    		</ul>
          <div id="misc-navigation">
			  <ul>
				<li><a href="http://puppetlabs.com/security/">Security</a></li>
				<li><a href="http://docs.puppetlabs.com">Documentation</a></li>
				<li><a href="http://puppetlabs.com/resources/customer-support/">Support</a></li>
			        <li><a href="http://projects.puppetlabs.com/">Bug Tracker</a></li>
				<li><a href="http://puppetlabs.com/company/contact/contact-us">Contact Us</a></li>
				<li><a href="http://info.puppetlabs.com/download-pe2.html" class="gateway">Download</a></li>
			  </ul>
			<form action="http://www.google.com/cse" id="cse-search-box">
			  <div>
				<input type="hidden" name="cx" value="017668764424496204839:ubligvgbenm" />
				<input type="hidden" name="ie" value="UTF-8" />
				<input type="text" name="q" class="gsc-input" size="31" />
				<input type="submit" name="sa" class="searchbtn" value="Search" />
			  </div>
			</form>
			<script type="text/javascript" src="http://www.google.com/cse/brand?form=cse-search-box&lang=en"></script>
          </div>
      </nav>
    	</div>
    </header>

      <section id="masthead">
        <div class="site-width">
          <h1>Docs: <span class="section-name">PE 2.7 » Appendix</span></h1>
          <ul id="doc-navigation">
            <li><a href="./../../index.html">Docs Home</a></li>
            <li class="with-submenu">
              <a href="#">
                <span>Quick Nav</span>
                <span class="drop-down-trigger"></span>
              </a>
               <!-- the following links can't be relative, unfortunately -->
               <!-- future: add some JS to disable this if running from file:// -->
                               <dl>
                  <dt>Puppet Documentation</dt>
                      <dd><a href="./../../puppet/3/reference/index.html">Puppet 3 Reference Manual</a></dd>
                      <dd><a href="./../../puppet/2.7/reference/index.html">Puppet 2.7 Reference Manual</a></dd>
                      <dd><a href="./../../pe/latest/index.html">Puppet Enterprise User's Guide</a></dd>
                      <dd><a href="./../../learning/index.html">Learning Puppet</a></dd>
                      <dd><a href="./../../references/latest/type.html">Resource Types</a></dd>
                      <dd><a href="./../../references/latest/function.html">Functions</a></dd>
                      <dd><a href="./../../references/latest/configuration.html">Configuration</a></dd>
                      <dd><a href="./../../references/latest/developer/index.html">Developer</a></dd>
                      <dd><a href="./../../references/glossary.html">Glossary of Puppet Terms</a></dd>
                      <dd><a href="./../../references/index.html">Older References</a></dd>
                  <dt>Facter</dt>
                      <dd><a href="./../../facter/latest/core_facts.html">Core Facts Reference</a></dd>
                  <dt>PuppetDB</dt>
                      <dd><a href="./../../puppetdb/1/index.html">PuppetDB 1 Manual</a></dd>
                  <dt>MCollective</dt>
                      <dd><a href="./../../mcollective/index.html">Index</a></dd>
                      <dd><a href="./../../mcollective/reference/index.html">References</a></dd>
                      <dd><a href="./../../mcollective/simplerpc/index.html">Writing Plugins</a></dd>
                      <dd><a href="./../../mcollective/releasenotes.html">Release Notes</a></dd>
                </dl>

            </li>
            <li><a href="./../../contribute.html">Contribute</a></li>
          </ul>
        </div>
        <br />
      </section>

      <section id="content">
        <div class="site-width">
          <div class="primary-secondary-content">
            <div class="primary-content">
              <h1>User's Guide Appendix</h1>
              <nav class="in-page" id="page-nav">
<ol class="toc">
  <li class="toc-lv2"><a href="#puppet-terminology">Puppet Terminology</a></li>
  <li class="toc-lv2"><a href="#release-notes">Release Notes</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#pe-272-3122013">PE 2.7.2 (3/12/2013)</a></li>
   <li class="toc-lv3"><a href="#pe-271-262013">PE 2.7.1 (2/6/2013)</a></li>
   <li class="toc-lv3"><a href="#pe-270-11202012">PE 2.7.0 (11/20/2012)</a></li>
</ol></li>
  <li class="toc-lv2"><a href="#known-issues">Known Issues</a>
<ol class="toc">
   <li class="toc-lv3"><a href="#after-upgrading-nodes-report-a-not-a-pe-agent-error">After Upgrading, Nodes Report a &#8220;Not a PE Agent&#8221; Error</a></li>
   <li class="toc-lv3"><a href="#issues-with-compliance-ui">Issues with Compliance UI</a></li>
   <li class="toc-lv3"><a href="#ec2dual-homed-systems-report-incorrect-uris-for-the-console">EC2/Dual-homed Systems Report Incorrect URIs for the Console.</a></li>
   <li class="toc-lv3"><a href="#answer-file-required-for-some-smtp-servers">Answer file required for some SMTP servers.</a></li>
   <li class="toc-lv3"><a href="#upgrading-the-console-server-requires-an-increased-mysql-buffer-pool-size">Upgrading the Console Server Requires an Increased MySQL Buffer Pool Size</a></li>
   <li class="toc-lv3"><a href="#pe-httpd-must-be-restarted-after-revoking-certificates">pe-httpd Must Be Restarted After Revoking Certificates</a></li>
   <li class="toc-lv3"><a href="#dynamic-man-pages-are-incorrectly-formatted">Dynamic Man Pages are Incorrectly Formatted</a></li>
</ol></li>
</ol></nav>
              <p>This page contains additional miscellaneous information about Puppet Enterprise 2.7.</p>

<h2 id="puppet-terminology">Puppet Terminology</h2>

<p>For help with Puppet-specific terms and language, visit <a href="./../../references/glossary.html">the glossary</a></p>

<p>For a complete guide to the Puppet language, visit <a href="./../../puppet/2.7/reference/index.html">the reference manual</a></p>

<h2 id="release-notes">Release Notes</h2>

<h3 id="pe-272-3122013">PE 2.7.2 (3/12/2013)</h3>

<h4 id="updated-modules">Updated Modules</h4>
<p>The <code>java_ks</code> module has been updated to version 1.0.0 and now supports java 7. The <code>pe_mcollective</code> module (which depends on <code>java_ks</code>) has been updated to 0.0.60.</p>

<h4 id="security-patches">Security Patches</h4>

<p>A number of security patches have been applied in PE 2.7.2. Click the links to the CVE&#8217;s for detailed information.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-0169/">CVE-2013-0169 &#8220;Lucky 13&#8221; Open SSL Vulnerability.</a></em>
The Open SSL transport layer was vulnerable to timing side-channel attacks. Because PE provides Open SSL packages for Windows and Solaris, agents on these platforms were vulnerable. These packages have been patched.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-0263/">CVE-2013-0263 Rack Timing Attack Vulnerability.</a></em>
Rack is a middleware component used by PE in the master and console. This vulnerability affects session cookies used by Rack, specifically Rack::Session::Cookie. The component has been patched.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-0269/">CVE-2013-0269 Rails JSON Unsafe Object Creation Vulnerability.</a></em>
The JSON rubygem has a vulnerability that could allow a crafted JSON document to create arbitrary Ruby symbols or internal objects. This could allow an attacker to cause a DoS attack or bypass other protections. Affected components have been patched.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-0277/">CVE-2013-0277 Rails (ActiveRecord) YAML Serialization Vulnerability.</a></em>
Attribute handling code in Ruby on Rails 2.3 and 3.0 can make some applications that directly assign serialized fields susceptible to DoS or remote execution attacks. Affected components have been patched.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-1655/">CVE-2013-1655 Unauthenticated Remote Code Execution Vulnerability.</a></em>
A vulnerability found in Puppet could allow unauthenticated clients to send requests to the puppet master which would cause it to load code unsafely. This vulnerability could cause issues like those described in Rails <a href="http://puppetlabs.com/security/cve/cve-2013-0156/">CVE-2013-0156</a>.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-1654/">CVE-2013-1654 SSL Protocol Downgrade Vulnerability.</a></em>
A vulnerability has been found in Puppet that could allow a client negotiating a connection to a master to downgrade the master&#8217;s SSL protocol to SSLv2. </p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-1653/">CVE-2013-1653 Agent Remote Code Execution Vulnerability.</a></em>
A vulnerability has been found in Puppet which could allow authenticated clients to execute arbitrary code on agents that have been configured to accept kick connections. This vulnerability is not present in the default configuration of the puppet agent.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-1652/">CVE-2013-1652 Insufficient Input Validation Vulnerability.</a></em>
A vulnerability found in Puppet could allow an authenticated client to connect to a puppet master and perform unauthorized actions. Specifically, given a valid certificate and private key, an agent could retrieve catalogs from the master that it is not authorized to access or it could poison the puppet master&#8217;s caches.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-1640/">CVE-2013-1640 Remote Code Execution Vulnerability.</a></em>
A vulnerability found in Puppet could allow an authenticated client to cause the master to execute arbitrary code while responding to a catalog request. Specifically, in order to exploit the vulnerability, the puppet master must be made to invoke the <code>template</code> or <code>inline_template</code> functions during catalog compilation.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-2274/">CVE-2013-2274 Master/Agent Remote Code Execution Vulnerability&#8212; Puppet 2.6 Only.</a></em>
<strong>NOTE: This vulnerability only affects Puppet 2.6.x.</strong>
A vulnerability found in Puppet could allow an authenticated client to execute arbitrary code on a puppet master that is running in the default configuration. Specifically, a properly authenticated and connected puppet agent could submit a bogus request for an authorized report that actually causes the execution of arbitrary code on the master.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-2274/">CVE-2013-2275 Incorrect Default Report ACL Vulnerability.</a></em>
This vulnerability affects puppet masters 0.25.0 and above. By default, auth.conf allows any authenticated node to submit a report for any other node. This can cause issues with compliance. The defaults in auth.conf have been changed as follows: </p>

<pre><code>Previous setting:
    # allow all nodes to store their reports
    path /report
    method save
    allow *

Revised setting:
    # allow all nodes to store their reports
    path ~ ^/report/([^/]+)$
    method save
    allow $1
</code></pre>

<h3 id="pe-271-262013">PE 2.7.1 (2/6/2013)</h3>

<h4 id="updated-modules-1">Updated Modules</h4>

<p>Two modules have been updated in this maintenance release: puppetlabs-request_manager and puppetlabs-auth_conf.</p>

<h4 id="change-to-authconf-file-management">Change to auth.conf File Management</h4>

<p>Previously, the auth.conf file was fully managed by PE 2.7.0. This meant that manual changes to the file would get over-written on the next puppet run. This is no longer the case. When upgrading to 2.7.1, the upgrader will still convert auth.conf to add the code needed to enable certificate management. However, it will do this if and only if the file has not been manually modified. If the file has been modified, the upgrader will show a warning that it is not going to convert the file and, on subsequent puppet runs, the file will now be left untouched.
Note that when auth.conf is not modified by the upgrader, you will have to manually add some lines of code to it in order to enable the Console&#8217;s node request management capabilities. This is explained in the <a href="http://docs.puppetlabs.com/pe/2.7/console_cert_mgmt.html#configuration-details"> node request management configuration details</a>.</p>

<h4 id="broken-augeas-puppet-lens-on-solaris">Broken Augeas puppet Lens on Solaris</h4>

<p>On Solaris systems, PE&#8217;s file paths were not compatible with the augeas puppet lenses. The augeas package has been modified to correct this issue.</p>

<h4 id="security-patches-1">Security Patches</h4>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-0333/">CVE-2013-0333 Ruby on Rails JSON Parser Code Injection Vulnerability.</a></em>
This is a Ruby on Rails vulnerability in the JSON parser that could allow an attacker to bypass authentication and inject and execute arbitrary code, or perform a DoS attack. The Puppet Dashboard and Active Record packages have been patched against this vulnerability in PE 2.7.1.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-0156/">CVE-2013-0156 Ruby on Rails SQL Injection Vulnerability.</a></em>
This is a Ruby on Rails vulnerability specific to Active Record that could allow the injection of arbitrary code in SQL. The Puppet Dashboard and Active Record packages have been patched against this vulnerability in PE 2.7.1.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-0155/">CVE-2013-0155 Ruby on Rails SQL Query Generation Vulnerability.</a></em>
This is a Ruby on Rails vulnerability specific to Active Record that could allow the creation of arbitrary queries in SQL. The Puppet Dashboard and Active Record packages have been patched against this vulnerability in PE 2.7.1.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-1398/">CVE-2013-1398 MCO Private Key Leak.</a></em>
Under certain circumstances, a user with root access to a single node in a PE deployment could possibly manipulate that client&#8217;s local facts in order to force the pe_mcollective module to deliver a catalog containing SSL keys. These keys could be used to access other nodes in the collective and send them arbitrary commands as root. For the vast majority of users, the fix is to apply the 2.7.1 upgrade. </p>

<p>For PE users who do not use the Console, this can be fixed by making sure that the <code>pe_mcollective::role::master</code> class is applied to your master, and
the pe_mcollective::role::console class is applied to your console. This can be as simple as adding the following to your site.pp manifest or other node classifier:</p>

<pre><code>node console {
    include pe_mcollective::role::console
}

node master {
   include pe_mcollective::role::master
}
</code></pre>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2013-1399/">CVE 2013-1399 CSRF Protection.</a></em>
Cross site request forgery (CSRF) protection has been added to the following areas of  the PE console: node request management, live management, and user administration. Now, basically every HTML form submitted to a server running one of these services gets a randomly generated token whose authenticity is compared against a token stored by the session of the currently logged-in user. Requests with tokens that do not authenticate (or are not present) will be answered with a &#8220;403 Forbidden&#8221; HTML status.</p>

<p>One exception to the CSRF protection model are HTTP requests that use basic HTTP user authorization. These are treated as &#8220;API&#8221; requests and, since by definition they include a valid (or not) username and password, they are considered secure.</p>

<p>Note that the Rails-based  puppet dashboard application is not vulnerable due to Rails&#8217; built in CSRF protection.</p>

<p><em><a href="http://puppetlabs.com/security/cve/cve-2012-5664/">CVE 2012-5664 SQL Injection Vulnerability.</a></em>
This CVE addresses an SQL injection vulnerability in Ruby on Rails and Active Record. The vulnerability is related to the way dynamic finders are processed in Active Record wherein a method parameter could be used as scope. PE 2.7.1 provides patches to Puppet Dashboard and the Active Record packages to eliminate the vulnerabilitly.</p>

<h3 id="pe-270-11202012">PE 2.7.0 (11/20/2012)</h3>

<p>The initial release of PE 2.7. </p>

<h4 id="puppet-core-patches">Puppet Core Patches</h4>

<p>Changes to the current version of Puppet&#8217;s core are documented in the <a href="http://projects.puppetlabs.com/projects/puppet/wiki/Release_Notes#2.7.19">Puppet Release notes</a>. PE 2.7 uses a specially patched version of Puppet 2.7.19. These patches address the following:</p>

<ul>
  <li>
    <p>In some cases, an improperly functioning alias between scope and named_scope could cause inventory service to fail. This has been fixed. For details, see <a href="http://projects.puppetlabs.com/issues/16376">Issue 16376</a>.</p>
  </li>
  <li>
    <p>The REST API does not return correct metadata for <code>GET certificate_request/{certname}</code> or <code>GET /certificate_status/{certname}</code>.This has been corrected. For details, see <a href="http://projects.puppetlabs.com/issues/15731">Issue 15731</a>.</p>
  </li>
  <li>
    <p>A bug related to the use of hyphens in variable names caused unpredictable behavior when interpolating variables. This has been fixed. There are numerous tickets associated with this issue. See the related issues listed on <a href="http://projects.puppetlabs.com/issues/10146">Issue 10146</a>.</p>
  </li>
</ul>

<h2 id="known-issues">Known Issues</h2>

<p>As we discover them, this page will be updated with known issues in Puppet Enterprise 2.7.x. Fixed issues will be removed from this list and noted above in the release notes. If you find new problems yourself, please file bugs in Puppet <a href="http://projects.puppetlabs.com/projects/puppet/issues">here</a> and bugs specific to Puppet Enterprise <a href="http://projects.puppetlabs.com/projects/puppet-enterprise/issues">here</a>. </p>

<p>To find out which of these issues you are affected by, run <code>/opt/puppet/bin/puppet --version</code>, the output of which will look something like <code>2.7.19 (Puppet Enterprise 2.7.0)</code>. To upgrade to a newer version of Puppet Enterprise, see the <a href="./install_upgrading.html">chapter on upgrading</a>.</p>

<p>The following issues affect the currently shipped version of PE and all prior releases in the 2.x.x series, unless otherwise stated. </p>

<h3 id="after-upgrading-nodes-report-a-not-a-pe-agent-error">After Upgrading, Nodes Report a &#8220;Not a PE Agent&#8221; Error</h3>

<p>When doing the first puppet run after upgrading using the &#8220;upgrader&#8221; script included in PE tarballs, agents are reporting an error: &#8220;&lt;node.name&gt; is not a Puppet Enterprise agent.&#8221; This was caused by a bug in the upgrader that has since been fixed. If you downloaded a tarball prior to November 28, 2012, simply download the tarball again to get the fixed upgrader. If you prefer, you can download the <a href="http://forge.puppetlabs.com/adrien/pe_upgrade/0.4.0-rc1">latest upgrader module</a> from the Forge. Alternatively, you can fix it by changing <code>/etc/puppetlabs/facter/facts.d/is_pe.txt</code>  to contain: <code>is_pe=true</code>. </p>

<h3 id="issues-with-compliance-ui">Issues with Compliance UI</h3>

<p>There are two issues related to incorrect Compliance UI behavior: </p>

<ul>
  <li>Rejecting a difference by clicking (-) results in an erroneous display (Google Chrome only).</li>
  <li>The user account pull-down menu in the top level compliance tab ceases to function after a host report has been selected.</li>
</ul>

<h3 id="ec2dual-homed-systems-report-incorrect-uris-for-the-console">EC2/Dual-homed Systems Report Incorrect URIs for the Console.</h3>

<p>During installation, the PE installer attempts to automatically determine the URI where the console can be reached. On EC2 (and likely all other dual-homed systems), the installer incorrectly selects the internal, non-routable URI. Instead, you should manually enter the correct, external facing URI of the system hosting the console.</p>

<h3 id="answer-file-required-for-some-smtp-servers">Answer file required for some SMTP servers.</h3>

<p>Any SMTP server that requires authentication, TLS, or runs over any port other than 25 needs to be explicitly added to an answers file. See the <a href="http://docs.puppetlabs.com/pe/2.7/config_advanced.html#allowing-anonymous-console-access">advanced configuration page</a> for details.</p>

<h3 id="upgrading-the-console-server-requires-an-increased-mysql-buffer-pool-size">Upgrading the Console Server Requires an Increased MySQL Buffer Pool Size</h3>

<p>An inadequate default MySQL buffer pool size setting can interfere with upgrades to Puppet Enterprise console servers.</p>

<p><strong>The PE 2.7 upgrader will check for this bad setting.</strong> If you are affected, it will warn you and give you a chance to abort the upgrade. </p>

<p>If you see this warning, you should:</p>

<ul>
  <li>Abort the upgrade.</li>
  <li><a href="./config_advanced.html#increasing-the-mysql-buffer-pool-size">Follow these instructions</a> to increase the value of the <code>innodb_buffer_pool_size</code> setting.</li>
  <li>Re-run the upgrade.</li>
</ul>

<p>If you have attempted to upgrade your console server without following these instructions, it is possible for the upgrade to fail. The upgrader&#8217;s output in these cases resembles the following:</p>

<pre><code>(in /opt/puppet/share/puppet-dashboard)
== AddReportForeignKeyConstraints: migrating =================================
Going to delete orphaned records from metrics, report_logs, resource_statuses, resource_events
Preparing to delete from metrics
2012-01-27 17:51:31: Deleting 0 orphaned records from metrics
Deleting 100% |###################################################################| Time: 00:00:00
Preparing to delete from report_logs
2012-01-27 17:51:31: Deleting 0 orphaned records from report_logs
Deleting 100% |###################################################################| Time: 00:00:00
Preparing to delete from resource_statuses
2012-01-27 17:51:31: Deleting 0 orphaned records from resource_statuses
Deleting 100% |###################################################################| Time: 00:00:00
Preparing to delete from resource_events
2012-01-27 17:51:31: Deleting 0 orphaned records from resource_events
Deleting 100% |###################################################################| Time: 00:00:00
-- execute("ALTER TABLE reports ADD CONSTRAINT fk_reports_node_id FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE;")
rake aborted!
An error has occurred, all later migrations canceled:
Mysql::Error: Can't create table 'console.#sql-328_ff6' (errno: 121): ALTER TABLE reports ADD CONSTRAINT fk_reports_node_id FOREIGN KEY (node_id) REFERENCES nodes(id) ON DELETE CASCADE;
(See full trace by running task with --trace)
===================================================================================
!! ERROR: Cancelling installation
===================================================================================
</code></pre>

<p>If you have suffered a failed upgrade, you can fix it by doing the following:</p>

<ul>
  <li>
    <p>On your database server, log into the MySQL client as either the root user or the console user:</p>

    <pre><code>  # mysql -u console -p
  Enter password: &lt;password&gt;
</code></pre>
  </li>
  <li>
    <p>Execute the following SQL statements:</p>

    <pre><code>  USE console
  ALTER TABLE reports DROP FOREIGN KEY fk_reports_node_id;
  ALTER TABLE resource_events DROP FOREIGN KEY fk_resource_events_resource_status_id;
  ALTER TABLE resource_statuses DROP FOREIGN KEY fk_resource_statuses_report_id;
  ALTER TABLE report_logs DROP FOREIGN KEY fk_report_logs_report_id;
  ALTER TABLE metrics DROP FOREIGN KEY fk_metrics_report_id;
</code></pre>
  </li>
  <li><a href="./config_advanced.html#increasing-the-mysql-buffer-pool-size">Follow the instructions for increasing the <code>innodb_buffer_pool_size</code></a> and restart the MySQL server.</li>
  <li>Re-run the upgrader, which should now finish successfully. </li>
</ul>

<p>For more information about the lock table size, <a href="http://bugs.mysql.com/bug.php?id=15667">see this MySQL bug report</a>.</p>

<h3 id="pe-httpd-must-be-restarted-after-revoking-certificates"><code>pe-httpd</code> Must Be Restarted After Revoking Certificates</h3>

<p>(<a href="http://projects.puppetlabs.com/issues/8421">Issue #8421</a>)</p>

<p>Due to <a href="https://issues.apache.org/bugzilla/show_bug.cgi?id=14104">an upstream bug in Apache</a>, the <code>pe-httpd</code> service on the puppet master must be restarted after revoking any node&#8217;s certificate.</p>

<p>After using <code>puppet cert revoke</code> or <code>puppet cert clean</code> to revoke a certificate, restart the service by running:</p>

<pre><code>$ sudo /etc/init.d/pe-httpd restart
</code></pre>

<h3 id="dynamic-man-pages-are-incorrectly-formatted">Dynamic Man Pages are Incorrectly Formatted</h3>

<p>Man pages generated with the <code>puppet man</code> subcommand are not formatted as proper man pages, and are instead displayed as Markdown source text. This is a purely cosmetic issue, and the pages are still fully readable. </p>

<p>To improve the display of Puppet man pages, you can use your system <code>gem</code> command to install the <code>ronn</code> gem:</p>

<pre><code>$ sudo gem install ronn
</code></pre>


              <blockquote><p style="font-size: 1.3em; text-align: center;"><a href="#content">↑ Back to top</a></p></blockquote>
            </div>
            <nav class="main">
                  <div id="subCol">


<p class="versionnote">A newer version of Puppet Enterprise has been released!</p>
<ul class="versionnote">
  <li><a href="http://info.puppetlabs.com/download-pe.html">Download PE 3.0</a>.</li>
  <li><a href="./../../pe/3.0/index.html">PE 3.0 user's guide</a></li>
  <li><a href="./../../pe/latest/appendix.html">Jump to newest version of this page</a></li>
</ul>


<h3><a href="./index.html">Puppet Enterprise 2.7</a></h3>

<ul>
  <li><strong>Overview</strong>
    <ul>
      <li><a href="./overview_about_pe.html">About Puppet Enterprise</a></li>
      <li><a href="./overview_whats_new.html">New Features</a></li>
      <li><a href="./overview_getting_support.html">Getting Support</a></li>
    </ul>
  </li>
  <li><strong>Quick Start</strong>
    <ul>
        <li><a href="./quick_start.html">Quick Start: Using PE</a></li>
        <li><a href="./quick_writing.html">Quick Start: Writing Modules</a></li>
    </ul>
  </li>
  <li><strong>Installing Puppet Enterprise</strong>
    <ul>
      <li><a href="./install_system_requirements.html">System Requirements</a></li>
      <li><a href="./install_basic.html">Installing PE</a></li>
      <li><a href="./install_windows.html">Installing Windows Agents</a></li>
      <li><a href="./install_upgrading.html">Upgrading</a></li>
      <li><a href="./install_uninstalling.html">Uninstalling</a></li>
      <li><a href="./install_automated.html">Automated Installation</a></li>
      <li><a href="./install_answer_file_reference.html">Answer File Reference</a></li>
      <li><a href="./install_what_and_where.html">What gets installed where?</a></li>
    </ul>
  </li>
  <li><strong>The Console</strong>
    <ul>
      <li><a href="./console_accessing.html">Accessing the Console</a></li>
      <li><a href="./console_navigating.html">Navigating the Console</a></li>
       <li><a href="./console_cert_mgmt.html">Managing Node Requests</a></li>
      <li><a href="./console_reports.html">Viewing Reports and Inventory Data</a></li>
      <li><a href="./console_auth.html">Managing Users</a></li>
      <li><a href="./console_classes_groups.html">Grouping and Classifying Nodes</a></li>
      <li><a href="./console_live.html">Live Management</a></li>
      <li><a href="./console_live_resources.html">Live Management: Managing Resources</a></li>
      <li><a href="./console_live_puppet.html">Live Management: Controlling Puppet</a></li>
      <li><a href="./console_live_advanced.html">Live Management: Advanced Tasks</a></li>
      <li><a href="./console_maintenance.html">Console Maintenance</a></li>
    </ul>
  </li>
  <li><strong>Puppet</strong>
    <ul>
      <li><a href="./puppet_overview.html">Overview</a></li>
      <li><a href="./puppet_tools.html">Tools</a></li>
      <li><a href="./puppet_modules_manifests.html">Modules and Manifests</a></li>
      <li><a href="./puppet_data_library.html">Puppet Data Library</a></li>
      <li><a href="./puppet_references.html">References</a></li>
    </ul>
  </li>
   <li><strong>Configuring Puppet Enterprise</strong>
    <ul>
     <li><a href="./config_advanced.html">Advanced Configuration</a></li>
     <li><a href="./config_installing_additional.html">Installing Additional Components</a></li>
    </ul>
  </li>
  <li><strong>Orchestration</strong>
    <ul>
      <li><a href="./orchestration_overview.html">Overview</a></li>
      <li><a href="./orchestration_usage.html">Usage and Examples</a></li>
    </ul>
  </li>
  <li><strong>Cloud Provisioning</strong>
    <ul>
      <li><a href="./cloudprovisioner_overview.html">Overview</a></li>
      <li><a href="./cloudprovisioner_configuring.html">Installing & Configuring Cloud Provisioner</a></li>
      <li><a href="./cloudprovisioner_classifying_installing.html">Classifying Nodes & Remotely Installing Puppet</a></li>
      <li><a href="./cloudprovisioner_vmware.html">Provisioning with VMware</a></li>
      <li><a href="./cloudprovisioner_aws.html">Provisioning with AWS</a></li>
      <li><a href="./cloudprovisioner_workflow.html">Sample Workflow</a></li>
      <li><a href="./cloudprovisioner_troubleshooting.html">Troubleshooting</a></li>
    </ul>
  </li>
  <li><strong>The Compliance Workflow</strong>
    <ul>
      <li><a href="./compliance_basics.html">Basics and UI</a></li>
      <li><a href="./compliance_using.html">Using the Compliance Workflow</a></li>
      <li><a href="./compliance_tutorial.html">Tutorial</a></li>
    </ul>
  </li>
  <li><strong>The PE Accounts Module</strong>
    <ul>
      <li><a href="./accounts_user_type.html">The pe_accounts::user Type</a></li>
      <li><a href="./accounts_class.html">The pe_accounts Class</a></li>
    </ul>
  </li>
  <li><strong>Troubleshooting</strong>
    <ul>
     <li> <a href="./trouble_common_problems.html">Common Problems & Solutions</a></li>
    </ul>
  </li>
  <li><strong>Appendix</strong>
    <ul>
      <li><span class="currentpage">Release Notes</span></li>
      <li><span class="currentpage">Known Issues</span></li>
    </ul>
  </li>
</ul>




                      <div style="margin-top: 1.5em; padding-bottom: 10px;">
                          <p style="font-family: 'Lucida Grande',Lucida,Verdana,sans-serif;font-size: 16px; font-weight: bold; line-height: 22px; margin-bottom: 10px;">Download the Docs</p>
                          <a href="http://info.puppetlabs.com/download-pdfs.html"><img src="./../../images/smallbits_small_docs.png" alt="Puppet docs download"></a>
                      </div>
                      <div style="margin-top: 0; padding-bottom: 10px;">
                          <p style="font-family: 'Lucida Grande',Lucida,Verdana,sans-serif;font-size: 16px; font-weight: bold; line-height: 22px; margin-bottom: 10px;">Download Puppet Enterprise</p>
                          <a href="http://info.puppetlabs.com/download-pe.html"><img src="./../../images/puppet_cert_home.jpg" alt="Puppet Enterprise promo"></a>
                      </div>
                  </div>
            </nav>
          </div>
        </div>
      </section>

		<footer id="footer">
      <div class="site-width">

        <div class="primary-secondary-content">
          <div class="primary-content">
            <section id="newsletter">
                 <h4>Puppet Labs is Hiring</h4>
                 <p><a href="http://www.puppetlabs.com/company/jobs/">Engineers, developers & consultants</a>
                  <p>
		<h4>Newsletter</h4>

              <p>Stay up to date on all things puppet</p>

				<form class="lpeRegForm formNotEmpty" method="post" enctype="application/x-www-form-urlencoded" action="http://info.puppetlabs.com/index.php/leadCapture/save"; id="mktForm_1013" name="mktForm_1013">

				<label>Email Address:</label><span class='mktInput'><input class='mktFormText mktFormEmail' name="Email" id="Email" type='text' value="" maxlength='255'  /><span class='mktFormMsg'></span></span>

				<input id='mktFrmSubmit' type='submit' class='btn' style="width: auto; overflow: visible; padding-left: .25em; padding-right: .25em;" value='Subscribe' name='submitButton' onclick='formSubmit(document.getElementById("mktForm_1013")); return false;' />

				<input style='display: none;' id='mktFrmReset' type='reset' value='Clear' name='resetButton' onclick='formReset(document.getElementById("mktForm_1013")); return false;' />

				<span style="display:none;"><input type="text" name="_marketo_comments" value="" /></span>
				<input type="hidden" name="lpId" value="-1" />
				<input type="hidden" name="subId" value="100" />

				<input type="hidden" name="kw" value="" />
				<input type="hidden" name="cr" value="" />

				<input type="hidden" name="searchstr" value="" />
				<input type="hidden" name="lpurl" value="http://info.puppetlabs.com/testsubscription.html?cr={creative}&kw={keyword}"; />
				<input type="hidden" name="formid" value="1013" />
				<input type="hidden" name="returnURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="retURL" value="http://www.puppetlabs.com/misc/subscription-thank-you/"; />
				<input type="hidden" name="_mkt_disp" value="return" />
				<input type="hidden" name="_mkt_trk" value="" />

				</form>
				<script type="text/javascript" src="http://info.puppetlabs.com/js/mktFormSupport.js"></script>

				<script type="text/javascript">
				function formSubmit(elt) {
				return Mkto.formSubmit(elt);
				}
				function formReset(elt) {
				return Mkto.formReset(elt);
				}
				</script>

<a href="http://info.puppetlabs.com/puppet-enterprise" class="fbtn">Try Puppet Enterprise FREE</a>

            </section>
            <section id="elsewhere">
              <h4>Get Involved</h4>
              <ul>

                <li class="chat"><a href="http://webchat.freenode.net/?channels=puppet" rel="external"><span class="indicator"></span><span>Chat with us on IRC</span></a></li>
		<li class="discussion"><a href="http://groups.google.com/group/puppet-dev" rel="external"><span class="indicator"></span><span>Join the Puppet Developer List</span></a></li>
                <li class="discussion"><a href="http://groups.google.com/group/puppet-users?pli=1" rel="external"><span class="indicator"></span><span>Join the Puppet User List</span></a></li>

                <li class="linkedin"><a href="http://www.linkedin.com/groups?about=&gid=696467&trk=anet_ug_grppro" rel="external"><span class="indicator"></span><span>Join the Puppet Users LinkedIn group</span></a></li>

              </ul>
		<p>
		              		<h4>Follow us&#8230;</h4>

              		<ul class="followus">


			<li><a href="http://feeds.feedburner.com/PuppetLabs" target="_blank"><img src="http://www.puppetlabs.com/wp-content/plugins/my-profiles/images/rss.png" border="0"></a></li>
			<li><a href="http://www.facebook.com/pages/Puppet-Labs/219089920711" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/facebook.png" border="0"></a></li>
			<li><a href="http://www.twitter.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/plugins/my-profiles/images/twitter.png" border="0"></a></li>
			<li><a href="http://www.linkedin.com/groups?about=&amp;gid=696467&amp;trk=anet_ug_grppro" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/LinkedIn_IN_Icon_32px.png" border="0"></a></li>    <li><a href="https://github.com/puppetlabs" target="_blank"><img src="http://www.puppetlabs.com//wp-content/uploads/2011/01/github_icon.png" border="0"></a></li>
			<li><a href="https://plus.google.com/112682055028218091774?rel=author" target="_blank"><img src="https://puppetlabs.com/wp-content/uploads/2013/05/google_plus32x32.png" alt="Find Us on Google+" border="0"></a></li>
					</ul>

              	</p>

            </section>
          </div>
          <div class="secondary-content">
            <section id="book-it">
              <h4>Get the book!</h4>

              <p>James Turnbull and Jeff McCune's book <a href="http://www.apress.com/9781430230571" rel="nofollow">Pro Puppet</a> is a comprehensive and up-to-date look at Puppet and MCollective. </p>
              <a href="http://www.apress.com/9781430230571" rel="nofollow"><img src="http://www.puppetlabs.com/wp-content/uploads/2011/05/propuppetthumb.png" /></a>
            </section>
          </div>
        </div>
      </div>
		</footer>

    <div id="copyright">
      <div class="site-width">
        &copy; 2011 <a href="http://www.puppetlabs.com/" title="Puppet Labs">Puppet Labs</a>
        <span class="vcard">
         <span class="org"></span>
         <a class="email" href="mailto:info@puppetlabs.com">info@puppetlabs.com</a>

          <span class="adr">
           <span class="street-address">926 NW 13th Avenue #210</span>
           /
           <span class="locality">Portland</span>,
           <span class="region">OR</span>
           <span class="postal-code">97209</span>

          </span>

         <span class="tel">1-877-575-9775</span>
        </span>
      </div>
    </div>

  	<script type="text/javascript">Cufon.now();</script>
  	<style type="text/css">h1, h2, .btn { visibility : visible; }</style>


	</body>
</html>
