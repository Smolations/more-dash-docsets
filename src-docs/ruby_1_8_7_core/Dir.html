<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <!-- classpage -- >
    <!-- RD version: 0.24.6  -->
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type" />
  <meta content="2013-08-24 23:19:58 -0700" http-equiv="change-date" />
  <!-- rel_prefix  = ''  ENV['RDOC_FOR_WEBSITE']   = false-->
    
    <!-- WHY? -->
    
    
  <!-- rel_prefix = '.'   asset_rel_prefix = ''  --> 
  <title>Class: Dir (Ruby 1.8.7) </title>
  <!-- link rel="stylesheet" href=".css/obf.css"  -->
  <link rel="stylesheet" href="css/inuit.css" >
  <link rel="stylesheet" href="css/grid.inuit.css" >
  <link rel="stylesheet" href="css/2011.css" type="text/css" >
  <link rel="stylesheet" href="css/rdoc.css" type="text/css" >

  <script src="/js/jquery.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/thickbox-compressed.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/quicksearch.js" type="text/javascript" charset="utf-8"></script>
  <script src="/js/rubydoc.js" type="text/javascript" charset="utf-8"></script> 

 
<script src="/js/highlight.min.js"></script>
<script> 
  hljs.tabReplace = '  ';
  hljs.initHighlightingOnLoad();
  </script> 

  <style type='text/css'>

    #vulns-alert #vulns{
      background-color: #c33 ! important;
      width: 100%;
      text-align: center;
   }
   
   #vulns-alert #vulns a {
    color: #F99 ! important;
   }
 </style>

</head>

<body id="top" class="class rdocstar">
<div id='actionbar' >
<div class='wrapper'>
  <ul class='grids g0'></ul>
</div>
<span id='vulns-alert'></span>
</div> <!-- end action bar -->
 <div class='wrapper'>
  <div id="metadata">
    <div id="home-metadata">
      <div id="home-section" class="section">
        <h3 class="section-header">
          <a href="./index.html">Home</a>
          <a href="./index.html#classes">Classes</a>
          <a href="./index.html#methods">Methods</a>
          
        </h3>
      </div>
    </div>

    <div id="file-metadata">
      <div id="file-list-section" class="section">
        <h3 class="section-header">In Files</h3>
        <div class="section-body">
          <ul id='file-metadata'>

          
          
          
          <li class='in-file'>dir.c</li>      
            
          </ul>
        </div>
      </div>

      
    </div>

    <div id="class-metadata">
      
      <!-- Parent Class -->
      <div id="parent-class-section" class="section">
        <h3 class="section-header">Parent</h3>
        
        <p class="link"><a href="Object.html">Object</a></p>
        
      </div>
      

      

      

      
      <!-- Method Quickref -->
      <div id="method-list-section" class="section">
        <h3 class="section-header">Methods</h3>
        <ul class="link-list">
          
          <li><a href="#method-c-5B-5D">::[]</a></li>
          
          <li><a href="#method-c-chdir">::chdir</a></li>
          
          <li><a href="#method-c-chroot">::chroot</a></li>
          
          <li><a href="#method-c-delete">::delete</a></li>
          
          <li><a href="#method-c-entries">::entries</a></li>
          
          <li><a href="#method-c-foreach">::foreach</a></li>
          
          <li><a href="#method-c-getwd">::getwd</a></li>
          
          <li><a href="#method-c-glob">::glob</a></li>
          
          <li><a href="#method-c-mkdir">::mkdir</a></li>
          
          <li><a href="#method-c-new">::new</a></li>
          
          <li><a href="#method-c-open">::open</a></li>
          
          <li><a href="#method-c-pwd">::pwd</a></li>
          
          <li><a href="#method-c-rmdir">::rmdir</a></li>
          
          <li><a href="#method-c-unlink">::unlink</a></li>
          
          <li><a href="#method-i-close">#close</a></li>
          
          <li><a href="#method-i-each">#each</a></li>
          
          <li><a href="#method-i-inspect">#inspect</a></li>
          
          <li><a href="#method-i-path">#path</a></li>
          
          <li><a href="#method-i-pos">#pos</a></li>
          
          <li><a href="#method-i-pos-3D">#pos=</a></li>
          
          <li><a href="#method-i-read">#read</a></li>
          
          <li><a href="#method-i-rewind">#rewind</a></li>
          
          <li><a href="#method-i-seek">#seek</a></li>
          
          <li><a href="#method-i-tell">#tell</a></li>
          
        </ul>
      </div>
      

      
      <!-- Included Modules -->
      <div id="includes-section" class="section">
        <h3 class="section-header">Included Modules</h3>
        <ul class="link-list">
        
        
          <li><a class="include" href="Enumerable.html">Enumerable</a></li>
        
        
        </ul>
      </div>
      
    </div>

    <div id="project-metadata">
      
      

      <div id="classindex-section" class="section project-section">
        <h3 class="section-header">Class/Module Index
          <span class="search-toggle"><img src="./images/find.png"
            height="16" width="16" alt="[+]"
            title="show/hide quicksearch" /></span></h3>
        <form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
        <fieldset>
          <legend>Quicksearch</legend>
          <input type="text" name="quicksearch" value=""
            class="quicksearch-field" />
        </fieldset>
        </form>

        <ul class="link-list">
          
          
          
          <li><a href="./ArgumentError.html">ArgumentError</a></li>
        
          
          
          <li><a href="./Array.html">Array</a></li>
        
          
          
          <li><a href="./Bignum.html">Bignum</a></li>
        
          
          
          <li><a href="./Binding.html">Binding</a></li>
        
          
          
          <li><a href="./Class.html">Class</a></li>
        
          
          
          <li><a href="./Comparable.html">Comparable</a></li>
        
          
          
          <li><a href="./Continuation.html">Continuation</a></li>
        
          
          
          <li><a href="./Data.html">Data</a></li>
        
          
          
          <li><a href="./Dir.html">Dir</a></li>
        
          
          
          <li><a href="./EOFError.html">EOFError</a></li>
        
          
          
          <li><a href="./Enumerable.html">Enumerable</a></li>
        
          
          
          <li><a href="./Enumerable/Enumerator.html">Enumerable::Enumerator</a></li>
        
          
          
          <li><a href="./Errno.html">Errno</a></li>
        
          
          
          <li><a href="./Exception.html">Exception</a></li>
        
          
          
          <li><a href="./FalseClass.html">FalseClass</a></li>
        
          
          
          <li><a href="./File.html">File</a></li>
        
          
          
          <li><a href="./File/Constants.html">File::Constants</a></li>
        
          
          
          <li><a href="./File/Stat.html">File::Stat</a></li>
        
          
          
          <li><a href="./FileTest.html">FileTest</a></li>
        
          
          
          <li><a href="./Fixnum.html">Fixnum</a></li>
        
          
          
          <li><a href="./Float.html">Float</a></li>
        
          
          
          <li><a href="./FloatDomainError.html">FloatDomainError</a></li>
        
          
          
          <li><a href="./GC.html">GC</a></li>
        
          
          
          <li><a href="./Hash.html">Hash</a></li>
        
          
          
          <li><a href="./IO.html">IO</a></li>
        
          
          
          <li><a href="./IOError.html">IOError</a></li>
        
          
          
          <li><a href="./IndexError.html">IndexError</a></li>
        
          
          
          <li><a href="./Integer.html">Integer</a></li>
        
          
          
          <li><a href="./Interrupt.html">Interrupt</a></li>
        
          
          
          <li><a href="./Kernel.html">Kernel</a></li>
        
          
          
          <li><a href="./LoadError.html">LoadError</a></li>
        
          
          
          <li><a href="./LocalJumpError.html">LocalJumpError</a></li>
        
          
          
          <li><a href="./Marshal.html">Marshal</a></li>
        
          
          
          <li><a href="./MatchData.html">MatchData</a></li>
        
          
          
          <li><a href="./Math.html">Math</a></li>
        
          
          
          <li><a href="./Method.html">Method</a></li>
        
          
          
          <li><a href="./Module.html">Module</a></li>
        
          
          
          <li><a href="./NameError.html">NameError</a></li>
        
          
          
          <li><a href="./NameError/message.html">NameError::message</a></li>
        
          
          
          <li><a href="./NilClass.html">NilClass</a></li>
        
          
          
          <li><a href="./NoMemoryError.html">NoMemoryError</a></li>
        
          
          
          <li><a href="./NoMethodError.html">NoMethodError</a></li>
        
          
          
          <li><a href="./NotImplementedError.html">NotImplementedError</a></li>
        
          
          
          <li><a href="./Numeric.html">Numeric</a></li>
        
          
          
          <li><a href="./Object.html">Object</a></li>
        
          
          
          <li><a href="./ObjectSpace.html">ObjectSpace</a></li>
        
          
          
          <li><a href="./Precision.html">Precision</a></li>
        
          
          
          <li><a href="./Proc.html">Proc</a></li>
        
          
          
          <li><a href="./Process.html">Process</a></li>
        
          
          
          <li><a href="./Process/GID.html">Process::GID</a></li>
        
          
          
          <li><a href="./Process/Status.html">Process::Status</a></li>
        
          
          
          <li><a href="./Process/Sys.html">Process::Sys</a></li>
        
          
          
          <li><a href="./Process/UID.html">Process::UID</a></li>
        
          
          
          <li><a href="./Range.html">Range</a></li>
        
          
          
          <li><a href="./RangeError.html">RangeError</a></li>
        
          
          
          <li><a href="./Regexp.html">Regexp</a></li>
        
          
          
          <li><a href="./RegexpError.html">RegexpError</a></li>
        
          
          
          <li><a href="./RuntimeError.html">RuntimeError</a></li>
        
          
          
          <li><a href="./ScriptError.html">ScriptError</a></li>
        
          
          
          <li><a href="./SecurityError.html">SecurityError</a></li>
        
          
          
          <li><a href="./Signal.html">Signal</a></li>
        
          
          
          <li><a href="./SignalException.html">SignalException</a></li>
        
          
          
          <li><a href="./StandardError.html">StandardError</a></li>
        
          
          
          <li><a href="./StopIteration.html">StopIteration</a></li>
        
          
          
          <li><a href="./String.html">String</a></li>
        
          
          
          <li><a href="./Struct.html">Struct</a></li>
        
          
          
          <li><a href="./Symbol.html">Symbol</a></li>
        
          
          
          <li><a href="./SyntaxError.html">SyntaxError</a></li>
        
          
          
          <li><a href="./SystemCallError.html">SystemCallError</a></li>
        
          
          
          <li><a href="./SystemExit.html">SystemExit</a></li>
        
          
          
          <li><a href="./SystemStackError.html">SystemStackError</a></li>
        
          
          
          <li><a href="./Thread.html">Thread</a></li>
        
          
          
          <li><a href="./ThreadError.html">ThreadError</a></li>
        
          
          
          <li><a href="./ThreadGroup.html">ThreadGroup</a></li>
        
          
          
          <li><a href="./Time.html">Time</a></li>
        
          
          
          <li><a href="./TrueClass.html">TrueClass</a></li>
        
          
          
          <li><a href="./TypeError.html">TypeError</a></li>
        
          
          
          <li><a href="./UnboundMethod.html">UnboundMethod</a></li>
        
          
          
          <li><a href="./ZeroDivisionError.html">ZeroDivisionError</a></li>
        
          
          
          <li><a href="./fatal.html">fatal</a></li>
        
          
          
          <li><a href="./unknown.html">unknown</a></li>
        
        </ul>
        <div id="no-class-search-results" style="display: none;">No matching classes.</div>
      </div>

      
    </div>
  </div> <!-- metadata -->
  <div class='adzbox'  id="azk83167">
    
  </div> 
  <div id="documentation">
    <h1 class="class">Dir</h1>

    <div id="description" class="description">
      
<p>Objects of class <code>Dir</code> are directory streams representing
directories in the underlying file system. They provide a variety of ways
to list directories and their contents. See also <code>File</code>.</p>

<p>The directory used in these examples contains the two regular files
(<code>config.h</code> and <code>main.rb</code>), the parent directory
(<code>..</code>), and the directory itself (<code>.</code>).</p>

    </div><!-- description -->

    
    
    
    <div id="5Buntitled-5D" class="documentation-section">
      

      

      

      

      <!-- Methods -->
      
      <div id="public-class-method-details" class="method-section section">
        <h3 class="section-header">Public Class Methods</h3>

      
        <div id="5B-5D-method" class="method-detail ">
          <a name="method-c-5B-5D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">Dir[ array ]                 => array</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">Dir[ string [, string ...] ] => array</span>
            
          </div>
          
          
          <div>
  
            
            <p>Equivalent to calling <code>Dir.glob(</code><em>array,</em><code>0)</code>
and  <code>Dir.glob([string,...],0)</code>.</p>
            

            
            <div class="method-source-code" id="5B-5D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_aref(int argc, VALUE *argv, VALUE obj)
 {
    if (argc == 1) {
        return rb_push_glob(argv[0], 0);
    }
    return dir_globs(argc, argv, 0);
 }

/*
 *  call-seq:
 *     Dir.glob( pattern, [flags] ) =&gt; array
 *     Dir.glob( pattern, [flags] ) {| filename | block }  =&gt; nil
 *
 *  Returns the filenames found by expanding &lt;i&gt;pattern&lt;/i&gt; which is
 *  an +Array+ of the patterns or the pattern +String+, either as an
 *  &lt;i&gt;array&lt;/i&gt; or as parameters to the block. Note that this pattern
 *  is not a regexp (it's closer to a shell glob). See
 *  &lt;code&gt;File::fnmatch&lt;/code&gt; for the meaning of the &lt;i&gt;flags&lt;/i&gt;
 *  parameter. Note that case sensitivity depends on your system (so
 *  &lt;code&gt;File::FNM_CASEFOLD&lt;/code&gt; is ignored)
 *
 *  &lt;code&gt;*&lt;/code&gt;::        Matches any file. Can be restricted by
 *                          other values in the glob. &lt;code&gt;*&lt;/code&gt;
 *                          will match all files; &lt;code&gt;c*&lt;/code&gt; will
 *                          match all files beginning with
 *                          &lt;code&gt;c&lt;/code&gt;; &lt;code&gt;*c&lt;/code&gt; will match
 *                          all files ending with &lt;code&gt;c&lt;/code&gt;; and
 *                          &lt;code&gt;*c*&lt;/code&gt; will match all files that
 *                          have &lt;code&gt;c&lt;/code&gt; in them (including at
 *                          the beginning or end). Equivalent to
 *                          &lt;code&gt;/ .* /x&lt;/code&gt; in regexp.
 *  &lt;code&gt;**&lt;/code&gt;::       Matches directories recursively.
 *  &lt;code&gt;?&lt;/code&gt;::        Matches any one character. Equivalent to
 *                          &lt;code&gt;/.{1}/&lt;/code&gt; in regexp.
 *  &lt;code&gt;[set]&lt;/code&gt;::    Matches any one character in +set+.
 *                          Behaves exactly like character sets in
 *                          Regexp, including set negation
 *                          (&lt;code&gt;[^a-z]&lt;/code&gt;).
 *  &lt;code&gt;{p,q}&lt;/code&gt;::    Matches either literal &lt;code&gt;p&lt;/code&gt; or
 *                          literal &lt;code&gt;q&lt;/code&gt;. Matching literals
 *                          may be more than one character in length.
 *                          More than two literals may be specified.
 *                          Equivalent to pattern alternation in
 *                          regexp.
 *  &lt;code&gt;\&lt;/code&gt;::        Escapes the next metacharacter.
 *
 *     Dir[&quot;config.?&quot;]                     #=&gt; [&quot;config.h&quot;]
 *     Dir.glob(&quot;config.?&quot;)                #=&gt; [&quot;config.h&quot;]
 *     Dir.glob(&quot;*.[a-z][a-z]&quot;)            #=&gt; [&quot;main.rb&quot;]
 *     Dir.glob(&quot;*.[^r]*&quot;)                 #=&gt; [&quot;config.h&quot;]
 *     Dir.glob(&quot;*.{rb,h}&quot;)                #=&gt; [&quot;main.rb&quot;, &quot;config.h&quot;]
 *     Dir.glob(&quot;*&quot;)                       #=&gt; [&quot;config.h&quot;, &quot;main.rb&quot;]
 *     Dir.glob(&quot;*&quot;, File::FNM_DOTMATCH)   #=&gt; [&quot;.&quot;, &quot;..&quot;, &quot;config.h&quot;, &quot;main.rb&quot;]
 *
 *     rbfiles = File.join(&quot;**&quot;, &quot;*.rb&quot;)
 *     Dir.glob(rbfiles)                   #=&gt; [&quot;main.rb&quot;,
 *                                              &quot;lib/song.rb&quot;,
 *                                              &quot;lib/song/karaoke.rb&quot;]
 *     libdirs = File.join(&quot;**&quot;, &quot;lib&quot;)
 *     Dir.glob(libdirs)                   #=&gt; [&quot;lib&quot;]
 *
 *     librbfiles = File.join(&quot;**&quot;, &quot;lib&quot;, &quot;**&quot;, &quot;*.rb&quot;)
 *     Dir.glob(librbfiles)                #=&gt; [&quot;lib/song.rb&quot;,
 *                                              &quot;lib/song/karaoke.rb&quot;]
 *
 *     librbfiles = File.join(&quot;**&quot;, &quot;lib&quot;, &quot;*.rb&quot;)
 *     Dir.glob(librbfiles)                #=&gt; [&quot;lib/song.rb&quot;]
 */
static VALUE
dir_s_glob(argc, argv, obj)
    int argc;
    VALUE *argv;
    VALUE obj;
{
    VALUE str, rflags, ary;
    int flags;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;rflags) == 2)
        flags = NUM2INT(rflags);
    else
        flags = 0;

    ary = rb_check_array_type(str);
    if (NIL_P(ary)) {
        ary = rb_push_glob(str, flags);
    }
    else {
        volatile VALUE v = ary;
        ary = dir_globs(RARRAY_LEN(v), RARRAY_PTR(v), flags);
    }

    if (rb_block_given_p()) {
        rb_ary_each(ary);
        return Qnil;
    }
    return ary;
}
            </pre> 
            </div><!-- 5B-5D-source -->
            
          </div>

          

          
        </div><!-- 5B-5D-method -->
      
        <div id="chdir-method" class="method-detail ">
          <a name="method-c-chdir"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">chdir( [ string] ) => 0</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">chdir( [ string] ) {| path | block }  => anObject</span>
            
          </div>
          
          
          <div>
  
            
            <p>Changes the current working directory of the process to the given string.
When called without an argument, changes the directory to the value of the
environment variable <code>HOME</code>, or <code>LOGDIR</code>.
<code>SystemCallError</code> (probably <code>Errno::ENOENT</code>) if the
target directory does not exist.</p>

<p>If a block is given, it is passed the name of the new current directory,
and the block is executed with that as the current directory. The original
working directory is restored when the block exits. The return value of
<code>chdir</code> is the value of the block. <code>chdir</code> blocks can
be nested, but in a multi-threaded program an error will be raised if a
thread attempts to open a <code>chdir</code> block while another thread has
one open.</p>

<pre>Dir.chdir(&quot;/var/spool/mail&quot;)
puts Dir.pwd
Dir.chdir(&quot;/tmp&quot;) do
  puts Dir.pwd
  Dir.chdir(&quot;/usr&quot;) do
    puts Dir.pwd
  end
  puts Dir.pwd
end
puts Dir.pwd</pre>

<p><em>produces:</em></p>

<pre>/var/spool/mail
/tmp
/usr
/tmp
/var/spool/mail</pre>
            

            
            <div class="method-source-code" id="chdir-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_chdir(argc, argv, obj)
    int argc;
    VALUE *argv;
    VALUE obj;
{
    VALUE path = Qnil;

    rb_secure(2);
    if (rb_scan_args(argc, argv, &quot;01&quot;, &amp;path) == 1) {
        SafeStringValue(path);
    }
    else {
        const char *dist = getenv(&quot;HOME&quot;);
        if (!dist) {
            dist = getenv(&quot;LOGDIR&quot;);
            if (!dist) rb_raise(rb_eArgError, &quot;HOME/LOGDIR not set&quot;);
        }
        path = rb_str_new2(dist);
    }

    if (chdir_blocking &gt; 0) {
        if (!rb_block_given_p() || rb_thread_current() != chdir_thread)
            rb_warn(&quot;conflicting chdir during another chdir block&quot;);
    }

    if (rb_block_given_p()) {
        struct chdir_data args;
        char *cwd = my_getcwd();

        args.old_path = rb_tainted_str_new2(cwd); free(cwd);
        args.new_path = path;
        args.done = Qfalse;
        return rb_ensure(chdir_yield, (VALUE)&amp;args, chdir_restore, (VALUE)&amp;args);
    }
    dir_chdir(path);

    return INT2FIX(0);
}
            </pre> 
            </div><!-- chdir-source -->
            
          </div>

          

          
        </div><!-- chdir-method -->
      
        <div id="chroot-method" class="method-detail ">
          <a name="method-c-chroot"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">chroot( string ) => 0</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Changes this process’s idea of the file system root. Only a privileged
process may make this call. Not available on all platforms. On Unix
systems, see <code>chroot(2)</code> for more information.</p>
            

            
            <div class="method-source-code" id="chroot-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_chroot(dir, path)
    VALUE dir, path;
{
#if defined(HAVE_CHROOT) &amp;&amp; !defined(__CHECKER__)
    check_dirname(&amp;path);

    if (chroot(RSTRING(path)-&gt;ptr) == -1)
        rb_sys_fail(RSTRING(path)-&gt;ptr);

    return INT2FIX(0);
#else
    rb_notimplement();
    return Qnil;                /* not reached */
#endif
}
            </pre> 
            </div><!-- chroot-source -->
            
          </div>

          

          
        </div><!-- chroot-method -->
      
        <div id="delete-method" class="method-detail ">
          <a name="method-c-delete"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">delete( string ) => 0</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Deletes the named directory. Raises a subclass of
<code>SystemCallError</code> if the directory isn’t empty.</p>
            

            
            <div class="method-source-code" id="delete-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_rmdir(obj, dir)
    VALUE obj, dir;
{
    check_dirname(&amp;dir);
    if (rmdir(RSTRING(dir)-&gt;ptr) &lt; 0)
        rb_sys_fail(RSTRING(dir)-&gt;ptr);

    return INT2FIX(0);
}
            </pre> 
            </div><!-- delete-source -->
            
          </div>

          

          
        </div><!-- delete-method -->
      
        <div id="entries-method" class="method-detail ">
          <a name="method-c-entries"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">entries( dirname ) => array</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns an array containing all of the filenames in the given directory.
Will raise a <code>SystemCallError</code> if the named directory doesn’t
exist.</p>

<pre class="ruby"><span class="ruby-constant">Dir</span>.<span class="ruby-identifier">entries</span>(<span class="ruby-string">&quot;testdir&quot;</span>)   <span class="ruby-comment">#=&gt; [&quot;.&quot;, &quot;..&quot;, &quot;config.h&quot;, &quot;main.rb&quot;]</span>
</pre>
            

            
            <div class="method-source-code" id="entries-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_entries(io, dirname)
    VALUE io, dirname;
{
    VALUE dir;

    dir = dir_open_dir(dirname);
    return rb_ensure(rb_Array, dir, dir_close, dir);
}
            </pre> 
            </div><!-- entries-source -->
            
          </div>

          

          
        </div><!-- entries-method -->
      
        <div id="foreach-method" class="method-detail ">
          <a name="method-c-foreach"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">foreach( dirname ) {| filename | block }  => nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Calls the block once for each entry in the named directory, passing the
filename of each entry as a parameter to the block.</p>

<pre class="ruby"><span class="ruby-constant">Dir</span>.<span class="ruby-identifier">foreach</span>(<span class="ruby-string">&quot;testdir&quot;</span>) {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Got #{x}&quot;</span> }
</pre>

<p><em>produces:</em></p>

<pre>Got .
Got ..
Got config.h
Got main.rb</pre>
            

            
            <div class="method-source-code" id="foreach-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_foreach(io, dirname)
    VALUE io, dirname;
{
    VALUE dir;

    RETURN_ENUMERATOR(io, 1, &amp;dirname);
    dir = dir_open_dir(dirname);
    rb_ensure(dir_each, dir, dir_close, dir);
    return Qnil;
}
            </pre> 
            </div><!-- foreach-source -->
            
          </div>

          

          
        </div><!-- foreach-method -->
      
        <div id="getwd-method" class="method-detail ">
          <a name="method-c-getwd"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">getwd => string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the path to the current working directory of this process as a
string.</p>

<pre class="ruby"><span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-string">&quot;/tmp&quot;</span>)   <span class="ruby-comment">#=&gt; 0</span>
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">getwd</span>           <span class="ruby-comment">#=&gt; &quot;/tmp&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="getwd-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_getwd(dir)
    VALUE dir;
{
    char *path;
    VALUE cwd;

    rb_secure(4);
    path = my_getcwd();
    cwd = rb_tainted_str_new2(path);

    free(path);
    return cwd;
}
            </pre> 
            </div><!-- getwd-source -->
            
          </div>

          

          
        </div><!-- getwd-method -->
      
        <div id="glob-method" class="method-detail ">
          <a name="method-c-glob"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">glob( pattern, [flags] ) => array</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">glob( pattern, [flags] ) {| filename | block }  => nil</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the filenames found by expanding <em>pattern</em> which is an
<code>Array</code> of the patterns or the pattern <code>String</code>,
either as an <em>array</em> or as parameters to the block. Note that this
pattern is not a regexp (it’s closer to a shell glob). See
<code>File::fnmatch</code> for the meaning of the <em>flags</em> parameter.
Note that case sensitivity depends on your system (so
<code>File::FNM_CASEFOLD</code> is ignored)</p>
<dl class="rdoc-list note-list"><dt><code>*</code>
<dd>
<p>Matches any file. Can be restricted by other values in the glob.
<code>*</code> will match all files; <code>c*</code> will match all files
beginning with <code>c</code>; <code>*c</code> will match all files ending
with <code>c</code>; and <strong><code>c</code></strong> will match all
files that have <code>c</code> in them (including at the beginning or end).
Equivalent to <code>/ .* /x</code> in regexp.</p>
</dd><dt><code>**</code>
<dd>
<p>Matches directories recursively.</p>
</dd><dt><code>?</code>
<dd>
<p>Matches any one character. Equivalent to <code>/.{1}/</code> in regexp.</p>
</dd><dt><code>[set]</code>
<dd>
<p>Matches any one character in <code>set</code>. Behaves exactly like
character sets in <a href="Regexp.html">Regexp</a>, including set negation
(<code>[^a-z]</code>).</p>
</dd><dt><code>{p,q}</code>
<dd>
<p>Matches either literal <code>p</code> or literal <code>q</code>. Matching
literals may be more than one character in length. More than two literals
may be specified. Equivalent to pattern alternation in regexp.</p>
</dd><dt>&lt;code&gt;&lt;/code&gt;
<dd>
<p>Escapes the next metacharacter.</p>
</dd></dl>

<pre class="ruby"><span class="ruby-constant">Dir</span>[<span class="ruby-string">&quot;config.?&quot;</span>]                     <span class="ruby-comment">#=&gt; [&quot;config.h&quot;]</span>
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-string">&quot;config.?&quot;</span>)                <span class="ruby-comment">#=&gt; [&quot;config.h&quot;]</span>
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-string">&quot;*.[a-z][a-z]&quot;</span>)            <span class="ruby-comment">#=&gt; [&quot;main.rb&quot;]</span>
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-string">&quot;*.[^r]*&quot;</span>)                 <span class="ruby-comment">#=&gt; [&quot;config.h&quot;]</span>
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-string">&quot;*.{rb,h}&quot;</span>)                <span class="ruby-comment">#=&gt; [&quot;main.rb&quot;, &quot;config.h&quot;]</span>
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-string">&quot;*&quot;</span>)                       <span class="ruby-comment">#=&gt; [&quot;config.h&quot;, &quot;main.rb&quot;]</span>
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-string">&quot;*&quot;</span>, <span class="ruby-constant">File</span><span class="ruby-operator">::</span><span class="ruby-constant">FNM_DOTMATCH</span>)   <span class="ruby-comment">#=&gt; [&quot;.&quot;, &quot;..&quot;, &quot;config.h&quot;, &quot;main.rb&quot;]</span>

<span class="ruby-identifier">rbfiles</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;**&quot;</span>, <span class="ruby-string">&quot;*.rb&quot;</span>)
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">rbfiles</span>)                   <span class="ruby-comment">#=&gt; [&quot;main.rb&quot;,</span>
                                         <span class="ruby-string">&quot;lib/song.rb&quot;</span>,
                                         <span class="ruby-string">&quot;lib/song/karaoke.rb&quot;</span>]
<span class="ruby-identifier">libdirs</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;**&quot;</span>, <span class="ruby-string">&quot;lib&quot;</span>)
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">libdirs</span>)                   <span class="ruby-comment">#=&gt; [&quot;lib&quot;]</span>

<span class="ruby-identifier">librbfiles</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;**&quot;</span>, <span class="ruby-string">&quot;lib&quot;</span>, <span class="ruby-string">&quot;**&quot;</span>, <span class="ruby-string">&quot;*.rb&quot;</span>)
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">librbfiles</span>)                <span class="ruby-comment">#=&gt; [&quot;lib/song.rb&quot;,</span>
                                         <span class="ruby-string">&quot;lib/song/karaoke.rb&quot;</span>]

<span class="ruby-identifier">librbfiles</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">join</span>(<span class="ruby-string">&quot;**&quot;</span>, <span class="ruby-string">&quot;lib&quot;</span>, <span class="ruby-string">&quot;*.rb&quot;</span>)
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">glob</span>(<span class="ruby-identifier">librbfiles</span>)                <span class="ruby-comment">#=&gt; [&quot;lib/song.rb&quot;]</span>
</pre>
            

            
            <div class="method-source-code" id="glob-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_glob(argc, argv, obj)
    int argc;
    VALUE *argv;
    VALUE obj;
{
    VALUE str, rflags, ary;
    int flags;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;str, &amp;rflags) == 2)
        flags = NUM2INT(rflags);
    else
        flags = 0;

    ary = rb_check_array_type(str);
    if (NIL_P(ary)) {
        ary = rb_push_glob(str, flags);
    }
    else {
        volatile VALUE v = ary;
        ary = dir_globs(RARRAY_LEN(v), RARRAY_PTR(v), flags);
    }

    if (rb_block_given_p()) {
        rb_ary_each(ary);
        return Qnil;
    }
    return ary;
}
            </pre> 
            </div><!-- glob-source -->
            
          </div>

          

          
        </div><!-- glob-method -->
      
        <div id="mkdir-method" class="method-detail ">
          <a name="method-c-mkdir"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">mkdir( string [, integer] ) => 0</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Makes a new directory named by <em>string</em>, with permissions specified
by the optional parameter <em>anInteger</em>. The permissions may be
modified by the value of <code>File::umask</code>, and are ignored on NT.
Raises a <code>SystemCallError</code> if the directory cannot be created.
See also the discussion of permissions in the class documentation for
<code>File</code>.</p>
            

            
            <div class="method-source-code" id="mkdir-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_mkdir(argc, argv, obj)
    int argc;
    VALUE *argv;
    VALUE obj;
{
    VALUE path, vmode;
    int mode;

    if (rb_scan_args(argc, argv, &quot;11&quot;, &amp;path, &amp;vmode) == 2) {
        mode = NUM2INT(vmode);
    }
    else {
        mode = 0777;
    }

    check_dirname(&amp;path);
    if (mkdir(RSTRING(path)-&gt;ptr, mode) == -1)
        rb_sys_fail(RSTRING(path)-&gt;ptr);

    return INT2FIX(0);
}
            </pre> 
            </div><!-- mkdir-source -->
            
          </div>

          

          
        </div><!-- mkdir-method -->
      
        <div id="new-method" class="method-detail ">
          <a name="method-c-new"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">new( string ) &rarr; aDir</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns a new directory object for the named directory.</p>
            

            
            <div class="method-source-code" id="new-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_initialize(dir, dirname)
    VALUE dir, dirname;
{
    struct dir_data *dp;

    SafeStringValue(dirname);
    Data_Get_Struct(dir, struct dir_data, dp);
    if (dp-&gt;dir) closedir(dp-&gt;dir);
    if (dp-&gt;path) free(dp-&gt;path);
    dp-&gt;dir = NULL;
    dp-&gt;path = NULL;
    dp-&gt;dir = opendir(RSTRING(dirname)-&gt;ptr);
    if (dp-&gt;dir == NULL) {
        if (errno == EMFILE || errno == ENFILE) {
            rb_gc();
            dp-&gt;dir = opendir(RSTRING(dirname)-&gt;ptr);
        }
        if (dp-&gt;dir == NULL) {
            rb_sys_fail(RSTRING(dirname)-&gt;ptr);
        }
    }
    dp-&gt;path = strdup(RSTRING(dirname)-&gt;ptr);

    return dir;
}
            </pre> 
            </div><!-- new-source -->
            
          </div>

          

          
        </div><!-- new-method -->
      
        <div id="open-method" class="method-detail ">
          <a name="method-c-open"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">open( string ) => aDir</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          <div class="method-heading">
            <span class="method-callseq">open( string ) {| aDir | block } => anObject</span>
            
          </div>
          
          
          <div>
  
            
            <p>With no block, <code>open</code> is a synonym for <code>Dir::new</code>. If
a block is present, it is passed <em>aDir</em> as a parameter. The
directory is closed at the end of the block, and <code>Dir::open</code>
returns the value of the block.</p>
            

            
            <div class="method-source-code" id="open-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_open(klass, dirname)
    VALUE klass, dirname;
{
    struct dir_data *dp;
    VALUE dir = Data_Make_Struct(klass, struct dir_data, 0, free_dir, dp);

    dir_initialize(dir, dirname);
    if (rb_block_given_p()) {
        return rb_ensure(rb_yield, dir, dir_close, dir);
    }

    return dir;
}
            </pre> 
            </div><!-- open-source -->
            
          </div>

          

          
        </div><!-- open-method -->
      
        <div id="pwd-method" class="method-detail ">
          <a name="method-c-pwd"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">pwd => string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the path to the current working directory of this process as a
string.</p>

<pre class="ruby"><span class="ruby-constant">Dir</span>.<span class="ruby-identifier">chdir</span>(<span class="ruby-string">&quot;/tmp&quot;</span>)   <span class="ruby-comment">#=&gt; 0</span>
<span class="ruby-constant">Dir</span>.<span class="ruby-identifier">getwd</span>           <span class="ruby-comment">#=&gt; &quot;/tmp&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="pwd-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_getwd(dir)
    VALUE dir;
{
    char *path;
    VALUE cwd;

    rb_secure(4);
    path = my_getcwd();
    cwd = rb_tainted_str_new2(path);

    free(path);
    return cwd;
}
            </pre> 
            </div><!-- pwd-source -->
            
          </div>

          

          
        </div><!-- pwd-method -->
      
        <div id="rmdir-method" class="method-detail ">
          <a name="method-c-rmdir"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rmdir( string ) => 0</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Deletes the named directory. Raises a subclass of
<code>SystemCallError</code> if the directory isn’t empty.</p>
            

            
            <div class="method-source-code" id="rmdir-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_rmdir(obj, dir)
    VALUE obj, dir;
{
    check_dirname(&amp;dir);
    if (rmdir(RSTRING(dir)-&gt;ptr) &lt; 0)
        rb_sys_fail(RSTRING(dir)-&gt;ptr);

    return INT2FIX(0);
}
            </pre> 
            </div><!-- rmdir-source -->
            
          </div>

          

          
        </div><!-- rmdir-method -->
      
        <div id="unlink-method" class="method-detail ">
          <a name="method-c-unlink"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">unlink( string ) => 0</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Deletes the named directory. Raises a subclass of
<code>SystemCallError</code> if the directory isn’t empty.</p>
            

            
            <div class="method-source-code" id="unlink-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_s_rmdir(obj, dir)
    VALUE obj, dir;
{
    check_dirname(&amp;dir);
    if (rmdir(RSTRING(dir)-&gt;ptr) &lt; 0)
        rb_sys_fail(RSTRING(dir)-&gt;ptr);

    return INT2FIX(0);
}
            </pre> 
            </div><!-- unlink-source -->
            
          </div>

          

          
        </div><!-- unlink-method -->
      
      </div><!-- public-class-method-details -->
    
      <div id="public-instance-method-details" class="method-section section">
        <h3 class="section-header">Public Instance Methods</h3>

      
        <div id="close-method" class="method-detail ">
          <a name="method-i-close"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">close => nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Closes the directory stream. Any further attempts to access <em>dir</em>
will raise an <code>IOError</code>.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;testdir&quot;</span>)
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">close</span>   <span class="ruby-comment">#=&gt; nil</span>
</pre>
            

            
            <div class="method-source-code" id="close-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_close(dir)
    VALUE dir;
{
    struct dir_data *dirp;

    GetDIR(dir, dirp);
    closedir(dirp-&gt;dir);
    dirp-&gt;dir = NULL;

    return Qnil;
}
            </pre> 
            </div><!-- close-source -->
            
          </div>

          

          
        </div><!-- close-method -->
      
        <div id="each-method" class="method-detail ">
          <a name="method-i-each"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">each { |filename| block }  => dir</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Calls the block once for each entry in this directory, passing the filename
of each entry as a parameter to the block.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;testdir&quot;</span>)
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">each</span>  {<span class="ruby-operator">|</span><span class="ruby-identifier">x</span><span class="ruby-operator">|</span> <span class="ruby-identifier">puts</span> <span class="ruby-node">&quot;Got #{x}&quot;</span> }
</pre>

<p><em>produces:</em></p>

<pre>Got .
Got ..
Got config.h
Got main.rb</pre>
            

            
            <div class="method-source-code" id="each-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_each(dir)
    VALUE dir;
{
    struct dir_data *dirp;
    struct dirent *dp;

    RETURN_ENUMERATOR(dir, 0, 0);
    GetDIR(dir, dirp);
    rewinddir(dirp-&gt;dir);
    for (dp = readdir(dirp-&gt;dir); dp != NULL; dp = readdir(dirp-&gt;dir)) {
        rb_yield(rb_tainted_str_new(dp-&gt;d_name, NAMLEN(dp)));
        if (dirp-&gt;dir == NULL) dir_closed();
    }
    return dir;
}
            </pre> 
            </div><!-- each-source -->
            
          </div>

          

          
        </div><!-- each-method -->
      
        <div id="inspect-method" class="method-detail ">
          <a name="method-i-inspect"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">inspect => string</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Return a string describing this <a href="Dir.html">Dir</a> object.</p>
            

            
            <div class="method-source-code" id="inspect-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_inspect(dir)
    VALUE dir;
{
    struct dir_data *dirp;

    Data_Get_Struct(dir, struct dir_data, dirp);
    if (dirp-&gt;path) {
        const char *c = rb_obj_classname(dir);
        int len = strlen(c) + strlen(dirp-&gt;path) + 4;
        VALUE s = rb_str_new(0, len);
        snprintf(RSTRING_PTR(s), len+1, &quot;#&lt;%s:%s&gt;&quot;, c, dirp-&gt;path);
        return s;
    }
    return rb_funcall(dir, rb_intern(&quot;to_s&quot;), 0, 0);
}
            </pre> 
            </div><!-- inspect-source -->
            
          </div>

          

          
        </div><!-- inspect-method -->
      
        <div id="path-method" class="method-detail ">
          <a name="method-i-path"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">path => string or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the path parameter passed to <em>dir</em>’s constructor.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;..&quot;</span>)
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">path</span>   <span class="ruby-comment">#=&gt; &quot;..&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="path-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_path(dir)
    VALUE dir;
{
    struct dir_data *dirp;

    Data_Get_Struct(dir, struct dir_data, dirp);
    if (!dirp-&gt;path) return Qnil;
    return rb_str_new2(dirp-&gt;path);
}
            </pre> 
            </div><!-- path-source -->
            
          </div>

          

          
        </div><!-- path-method -->
      
        <div id="pos-method" class="method-detail ">
          <a name="method-i-pos"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">pos => integer</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the current position in <em>dir</em>. See also
<code>Dir#seek</code>.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;testdir&quot;</span>)
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">tell</span>   <span class="ruby-comment">#=&gt; 0</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>   <span class="ruby-comment">#=&gt; &quot;.&quot;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">tell</span>   <span class="ruby-comment">#=&gt; 12</span>
</pre>
            

            
            <div class="method-source-code" id="pos-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_tell(dir)
    VALUE dir;
{
#ifdef HAVE_TELLDIR
    struct dir_data *dirp;
    long pos;

    GetDIR(dir, dirp);
    pos = telldir(dirp-&gt;dir);
    return rb_int2inum(pos);
#else
    rb_notimplement();
#endif
}
            </pre> 
            </div><!-- pos-source -->
            
          </div>

          

          
        </div><!-- pos-method -->
      
        <div id="pos-3D-method" class="method-detail ">
          <a name="method-i-pos-3D"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">pos( integer ) => integer</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Synonym for <code>Dir#seek</code>, but returns the position parameter.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;testdir&quot;</span>)   <span class="ruby-comment">#=&gt; #&lt;Dir:0x401b3c40&gt;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>                   <span class="ruby-comment">#=&gt; &quot;.&quot;</span>
<span class="ruby-identifier">i</span> = <span class="ruby-identifier">d</span>.<span class="ruby-identifier">pos</span>                <span class="ruby-comment">#=&gt; 12</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>                   <span class="ruby-comment">#=&gt; &quot;..&quot;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">pos</span> = <span class="ruby-identifier">i</span>                <span class="ruby-comment">#=&gt; 12</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>                   <span class="ruby-comment">#=&gt; &quot;..&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="pos-3D-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_set_pos(dir, pos)
    VALUE dir, pos;
{
    dir_seek(dir, pos);
    return pos;
}
            </pre> 
            </div><!-- pos-3D-source -->
            
          </div>

          

          
        </div><!-- pos-3D-method -->
      
        <div id="read-method" class="method-detail ">
          <a name="method-i-read"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">read => string or nil</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Reads the next entry from <em>dir</em> and returns it as a string. Returns
<code>nil</code> at the end of the stream.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;testdir&quot;</span>)
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>   <span class="ruby-comment">#=&gt; &quot;.&quot;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>   <span class="ruby-comment">#=&gt; &quot;..&quot;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>   <span class="ruby-comment">#=&gt; &quot;config.h&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="read-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_read(dir)
    VALUE dir;
{
    struct dir_data *dirp;
    struct dirent *dp;

    GetDIR(dir, dirp);
    errno = 0;
    dp = readdir(dirp-&gt;dir);
    if (dp) {
        return rb_tainted_str_new(dp-&gt;d_name, NAMLEN(dp));
    }
    else if (errno == 0) {      /* end of stream */
        return Qnil;
    }
    else {
        rb_sys_fail(0);
    }
    return Qnil;                /* not reached */
}
            </pre> 
            </div><!-- read-source -->
            
          </div>

          

          
        </div><!-- read-method -->
      
        <div id="rewind-method" class="method-detail ">
          <a name="method-i-rewind"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">rewind => dir</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Repositions <em>dir</em> to the first entry.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;testdir&quot;</span>)
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>     <span class="ruby-comment">#=&gt; &quot;.&quot;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">rewind</span>   <span class="ruby-comment">#=&gt; #&lt;Dir:0x401b3fb0&gt;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>     <span class="ruby-comment">#=&gt; &quot;.&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="rewind-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_rewind(dir)
    VALUE dir;
{
    struct dir_data *dirp;

    if (rb_safe_level() &gt;= 4 &amp;&amp; !OBJ_TAINTED(dir)) {
        rb_raise(rb_eSecurityError, &quot;Insecure: can't close&quot;);
    }
    GetDIR(dir, dirp);
    rewinddir(dirp-&gt;dir);
    return dir;
}
            </pre> 
            </div><!-- rewind-source -->
            
          </div>

          

          
        </div><!-- rewind-method -->
      
        <div id="seek-method" class="method-detail ">
          <a name="method-i-seek"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">seek( integer ) => dir</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Seeks to a particular location in <em>dir</em>. <em>integer</em> must be a
value returned by <code>Dir#tell</code>.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;testdir&quot;</span>)   <span class="ruby-comment">#=&gt; #&lt;Dir:0x401b3c40&gt;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>                   <span class="ruby-comment">#=&gt; &quot;.&quot;</span>
<span class="ruby-identifier">i</span> = <span class="ruby-identifier">d</span>.<span class="ruby-identifier">tell</span>               <span class="ruby-comment">#=&gt; 12</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>                   <span class="ruby-comment">#=&gt; &quot;..&quot;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">seek</span>(<span class="ruby-identifier">i</span>)                <span class="ruby-comment">#=&gt; #&lt;Dir:0x401b3c40&gt;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>                   <span class="ruby-comment">#=&gt; &quot;..&quot;</span>
</pre>
            

            
            <div class="method-source-code" id="seek-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_seek(dir, pos)
    VALUE dir, pos;
{
    struct dir_data *dirp;
    off_t p = NUM2OFFT(pos);

    GetDIR(dir, dirp);
#ifdef HAVE_SEEKDIR
    seekdir(dirp-&gt;dir, p);
    return dir;
#else
    rb_notimplement();
#endif
}
            </pre> 
            </div><!-- seek-source -->
            
          </div>

          

          
        </div><!-- seek-method -->
      
        <div id="tell-method" class="method-detail ">
          <a name="method-i-tell"></a>

          
          
          <div class="method-heading">
            <span class="method-callseq">tell => integer</span>
            
            <span class="method-click-advice">click to toggle source</span>
            
          </div>
          
          
          <div>
  
            
            <p>Returns the current position in <em>dir</em>. See also
<code>Dir#seek</code>.</p>

<pre class="ruby"><span class="ruby-identifier">d</span> = <span class="ruby-constant">Dir</span>.<span class="ruby-identifier">new</span>(<span class="ruby-string">&quot;testdir&quot;</span>)
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">tell</span>   <span class="ruby-comment">#=&gt; 0</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">read</span>   <span class="ruby-comment">#=&gt; &quot;.&quot;</span>
<span class="ruby-identifier">d</span>.<span class="ruby-identifier">tell</span>   <span class="ruby-comment">#=&gt; 12</span>
</pre>
            

            
            <div class="method-source-code" id="tell-source">
              <pre> <!-- method.markup_code 290 -->
               static VALUE
dir_tell(dir)
    VALUE dir;
{
#ifdef HAVE_TELLDIR
    struct dir_data *dirp;
    long pos;

    GetDIR(dir, dirp);
    pos = telldir(dirp-&gt;dir);
    return rb_int2inum(pos);
#else
    rb_notimplement();
#endif
}
            </pre> 
            </div><!-- tell-source -->
            
          </div>

          

          
        </div><!-- tell-method -->
      
      </div><!-- public-instance-method-details -->
    
    </div><!-- 5Buntitled-5D -->
  
  <div id='tx_Dir_versioned' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Dir_versioned").load("/associated/1.8.7/Dir.html");</script> <div id='tx_Dir' class='associated_wrapper'></div><script type='text/javascript'>$("#tx_Dir").load("/associated/Dir.html");</script> 
      
  </div><!-- documentation -->
  <div id='dynamic'>
  </div>
      
<div class='grids wrapper' id="footer">
  <p><small>This page was generated for Ruby 1.8.7</small></p> 
  
   <p> <a href="http://www.ruby-doc.org">Ruby-doc.org</a> is provided by <a href="http://www.jamesbritt.com">James Britt</a> and <a href="http://www.neurogami.com">Neurogami</a>. <a href="http://www.neurogami.com">Maximum R+D</a>.  </p>
 
    <p><small>Generated with Ruby-doc Rdoc Generator 0.24.6</small>.</p>
  </div>
</div>
  
 <script type='text/javascript'>
$(document).ready(function() {
      $.ajaxSetup({ cache: false });
      $("#vulns-alert").load("/associated/vulns.html");
    });

    </script>


 
    <script type='text/javascript'>

  function loadPlus(plusdocs){
    var img_h = $("img.carbonad-image").css('height');
    //if(img_h != undefined) { //---
      $(plusdocs).find("div[class='associated_wrapper']").each (function() {
          $("#" + this.id).append($(plusdocs).find("#" + this.id ));
          });
    //} // ---
  } // end loadPlusdocs


$(document).ready(function() {
    $.ajaxSetup({ cache: false });
      $.get('/associated/1.8.7/plus_Dir.html', 
      function(plusdocs) {
      setTimeout(function() {
        loadPlus(plusdocs);
        }, 2000);
      }
      );
    });
</script>
		
</body>
</html>


